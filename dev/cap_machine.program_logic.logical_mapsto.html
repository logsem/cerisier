<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">cap_machine.program_logic.logical_mapsto</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">proofmode</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">invariants</span> <span class="id" title="library">gen_heap</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">weakestpre</span> <span class="id" title="library">ectx_lifting</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">gmap</span> <span class="id" title="library">excl</span> <span class="id" title="library">agree</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra.lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">excl_auth</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">sorting</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">cap_machine</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="cap_machine.opsem.cap_lang.html#"><span class="id" title="library">cap_lang</span></a> <a class="idref" href="cap_machine.utils.iris_extra.html#"><span class="id" title="library">iris_extra</span></a> <a class="idref" href="cap_machine.utils.stdpp_extra.html#"><span class="id" title="library">stdpp_extra</span></a> <a class="idref" href="cap_machine.opsem.machine_parameters.html#"><span class="id" title="library">machine_parameters</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Version" class="idref" href="#Version"><span class="id" title="definition">Version</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="LAddr" class="idref" href="#LAddr"><span class="id" title="definition">LAddr</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>.<br/>
<span class="id" title="keyword">Inductive</span> <a id="LSealable" class="idref" href="#LSealable"><span class="id" title="definition, inductive"><span id="LSealable_rect" class="id"><span id="LSealable_ind" class="id"><span id="LSealable_rec" class="id"><span id="LSealable_sind" class="id">LSealable</span></span></span></span></span></a>: <span class="id" title="keyword">Type</span> :=<br/>
| <a id="LSCap" class="idref" href="#LSCap"><span class="id" title="constructor">LSCap</span></a>: <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealable:1"><span class="id" title="inductive">LSealable</span></a><br/>
| <a id="LSSealRange" class="idref" href="#LSSealRange"><span class="id" title="constructor">LSSealRange</span></a>: <a class="idref" href="cap_machine.opsem.machine_base.html#SealPerms"><span class="id" title="definition">SealPerms</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealable:1"><span class="id" title="inductive">LSealable</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="LWord" class="idref" href="#LWord"><span class="id" title="definition, inductive"><span id="LWord_rect" class="id"><span id="LWord_ind" class="id"><span id="LWord_rec" class="id"><span id="LWord_sind" class="id">LWord</span></span></span></span></span></a>: <span class="id" title="keyword">Type</span> :=<br/>
| <a id="LWInt" class="idref" href="#LWInt"><span class="id" title="constructor">LWInt</span></a> (<a id="z:5" class="idref" href="#z:5"><span class="id" title="binder">z</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>)<br/>
| <a id="LWSealable" class="idref" href="#LWSealable"><span class="id" title="constructor">LWSealable</span></a> (<a id="sb:6" class="idref" href="#sb:6"><span class="id" title="binder">sb</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealable"><span class="id" title="inductive">LSealable</span></a>)<br/>
| <a id="LWSealed" class="idref" href="#LWSealed"><span class="id" title="constructor">LWSealed</span></a>: <a class="idref" href="cap_machine.opsem.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealable"><span class="id" title="inductive">LSealable</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord:3"><span class="id" title="inductive">LWord</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="LCap" class="idref" href="#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> := (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="LSealRange" class="idref" href="#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> := (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSSealRange"><span class="id" title="constructor">LSSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="LSealedCap" class="idref" href="#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <span class="id" title="var">o</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> := (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">o</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>)).<br/>
<span class="id" title="keyword">Notation</span> <a id="LInt" class="idref" href="#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">z</span> := (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWInt"><span class="id" title="constructor">LWInt</span></a> <span class="id" title="var">z</span>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="lword_inhabited" class="idref" href="#lword_inhabited"><span class="id" title="instance">lword_inhabited</span></a>: <span class="id" title="class">Inhabited</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> := <span class="id" title="constructor">populate</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> 0).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="version_eq_dec" class="idref" href="#version_eq_dec"><span class="id" title="instance">version_eq_dec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Instance</span> <a id="lsealb_eq_dec" class="idref" href="#lsealb_eq_dec"><span class="id" title="instance">lsealb_eq_dec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealable"><span class="id" title="inductive">LSealable</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Instance</span> <a id="lword_eq_dec" class="idref" href="#lword_eq_dec"><span class="id" title="instance">lword_eq_dec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="lsealable_countable" class="idref" href="#lsealable_countable"><span class="id" title="instance">lsealable_countable</span></a> : <span class="id" title="class">Countable</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealable"><span class="id" title="inductive">LSealable</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">enc</span> := <span class="id" title="keyword">fun</span> <a id="sb:7" class="idref" href="#sb:7"><span class="id" title="binder"><span id="sb:9" class="id">sb</span></span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#sb:7"><span class="id" title="variable">sb</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSSealRange"><span class="id" title="constructor">LSSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">dec</span> := <span class="id" title="keyword">fun</span> <a id="e:11" class="idref" href="#e:11"><span class="id" title="binder"><span id="e:13" class="id">e</span></span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:11"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:11"><span class="id" title="variable">e</span></a> <span class="id" title="var">a</span> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSSealRange"><span class="id" title="constructor">LSSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:11"><span class="id" title="variable">e</span></a> <span class="id" title="var">a</span> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="definition">inj_countable'</span> <span class="id" title="var">enc</span> <span class="id" title="var">dec</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="lword_countable" class="idref" href="#lword_countable"><span class="id" title="instance">lword_countable</span></a> : <span class="id" title="class">Countable</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">enc</span> := <span class="id" title="keyword">fun</span> <a id="w:15" class="idref" href="#w:15"><span class="id" title="binder"><span id="w:17" class="id">w</span></span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:15"><span class="id" title="variable">w</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWInt"><span class="id" title="constructor">LWInt</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> <span class="id" title="var">sb</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">sb</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x0</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">dec</span> := <span class="id" title="keyword">fun</span> <a id="e:19" class="idref" href="#e:19"><span class="id" title="binder"><span id="e:21" class="id">e</span></span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:19"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWInt"><span class="id" title="constructor">LWInt</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">sb</span>) =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> <span class="id" title="var">sb</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="definition">inj_countable'</span> <span class="id" title="var">enc</span> <span class="id" title="var">dec</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">z</span> := <span class="id" title="tactic">fresh</span> "z" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">p</span> := <span class="id" title="tactic">fresh</span> "p" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">b</span> := <span class="id" title="tactic">fresh</span> "b" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e</span> := <span class="id" title="tactic">fresh</span> "e" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">a</span> := <span class="id" title="tactic">fresh</span> "a" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">v</span> := <span class="id" title="tactic">fresh</span> "v" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">o</span> := <span class="id" title="tactic">fresh</span> "o" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sr</span> := <span class="id" title="tactic">fresh</span> "sr" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sd</span> := <span class="id" title="tactic">fresh</span> "sd" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lw</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">z</span> | [<span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> | <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span>] | <span class="id" title="var">o</span> [<span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> | <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span>]].<br/>

<br/>
<span class="comment">(*&nbsp;Setters&nbsp;and&nbsp;Getters&nbsp;lword&nbsp;and&nbsp;laddr&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sealable_to_lsealable" class="idref" href="#sealable_to_lsealable"><span class="id" title="definition">sealable_to_lsealable</span></a> (<a id="sb:23" class="idref" href="#sb:23"><span class="id" title="binder">sb</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Sealable"><span class="id" title="inductive">Sealable</span></a>) (<a id="v:24" class="idref" href="#v:24"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#sb:23"><span class="id" title="variable">sb</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.opsem.machine_base.html#SCap"><span class="id" title="constructor">SCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:24"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.opsem.machine_base.html#SSealRange"><span class="id" title="constructor">SSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSSealRange"><span class="id" title="constructor">LSSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lsealable_get_sealable" class="idref" href="#lsealable_get_sealable"><span class="id" title="definition">lsealable_get_sealable</span></a> (<a id="lsb:26" class="idref" href="#lsb:26"><span class="id" title="binder">lsb</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealable"><span class="id" title="inductive">LSealable</span></a>) : <a class="idref" href="cap_machine.opsem.machine_base.html#Sealable"><span class="id" title="inductive">Sealable</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lsb:26"><span class="id" title="variable">lsb</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="cap_machine.opsem.machine_base.html#SCap"><span class="id" title="constructor">SCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSSealRange"><span class="id" title="constructor">LSSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">ob</span> <span class="id" title="var">oe</span> <span class="id" title="var">oa</span> =&gt; <a class="idref" href="cap_machine.opsem.machine_base.html#SSealRange"><span class="id" title="constructor">SSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">ob</span> <span class="id" title="var">oe</span> <span class="id" title="var">oa</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="word_to_lword" class="idref" href="#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> (<a id="w:28" class="idref" href="#w:28"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="v:29" class="idref" href="#v:29"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:28"><span class="id" title="variable">w</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.opsem.machine_base.html#WInt"><span class="id" title="constructor">WInt</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.opsem.machine_base.html#WSealable"><span class="id" title="constructor">WSealable</span></a> <span class="id" title="var">sb</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#sealable_to_lsealable"><span class="id" title="definition">sealable_to_lsealable</span></a> <span class="id" title="var">sb</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:29"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.opsem.machine_base.html#WSealed"><span class="id" title="constructor">WSealed</span></a> <span class="id" title="var">ot</span> <span class="id" title="var">sb</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">ot</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#sealable_to_lsealable"><span class="id" title="definition">sealable_to_lsealable</span></a> <span class="id" title="var">sb</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:29"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lword_get_word" class="idref" href="#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a id="lw:31" class="idref" href="#lw:31"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="cap_machine.opsem.machine_base.html#Word"><span class="id" title="inductive">Word</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:31"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWInt"><span class="id" title="constructor">LWInt</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="cap_machine.opsem.machine_base.html#WInt"><span class="id" title="constructor">WInt</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> <span class="id" title="var">lsb</span> =&gt; <a class="idref" href="cap_machine.opsem.machine_base.html#WSealable"><span class="id" title="constructor">WSealable</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lsealable_get_sealable"><span class="id" title="definition">lsealable_get_sealable</span></a> <span class="id" title="var">lsb</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">o</span> <span class="id" title="var">lsb</span> =&gt; <a class="idref" href="cap_machine.opsem.machine_base.html#WSealed"><span class="id" title="constructor">WSealed</span></a> <span class="id" title="var">o</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lsealable_get_sealable"><span class="id" title="definition">lsealable_get_sealable</span></a> <span class="id" title="var">lsb</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lword_get_version" class="idref" href="#lword_get_version"><span class="id" title="definition">lword_get_version</span></a> (<a id="lw:33" class="idref" href="#lw:33"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:33"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span> | (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="laddr_get_addr" class="idref" href="#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> (<a id="la:35" class="idref" href="#la:35"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) := <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:35"><span class="id" title="variable">la</span></a><span class="id" title="notation">.1</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="laddr_get_version" class="idref" href="#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> (<a id="la:36" class="idref" href="#la:36"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) := <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:36"><span class="id" title="variable">la</span></a><span class="id" title="notation">.2</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="laddr_inv" class="idref" href="#laddr_inv"><span class="id" title="lemma">laddr_inv</span></a> <a id="la:37" class="idref" href="#la:37"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:37"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:37"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:37"><span class="id" title="variable">la</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">la</span> ; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="logical_region" class="idref" href="#logical_region"><span class="id" title="definition">logical_region</span></a> ( <a id="region:38" class="idref" href="#region:38"><span class="id" title="binder">region</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> ) (<a id="v:39" class="idref" href="#v:39"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">fun</span> <a id="a:40" class="idref" href="#a:40"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:40"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:39"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#region:38"><span class="id" title="variable">region</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_log_cap" class="idref" href="#is_log_cap"><span class="id" title="definition">is_log_cap</span></a> (<a id="lw:41" class="idref" href="#lw:41"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:41"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_log_cap_is_cap_true_iff" class="idref" href="#is_log_cap_is_cap_true_iff"><span class="id" title="lemma">is_log_cap_is_cap_true_iff</span></a> (<a id="lw:43" class="idref" href="#lw:43"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_log_cap"><span class="id" title="definition">is_log_cap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:43"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:43"><span class="id" title="variable">lw</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">lw</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_log_cap_is_cap_false_iff" class="idref" href="#is_log_cap_is_cap_false_iff"><span class="id" title="lemma">is_log_cap_is_cap_false_iff</span></a> (<a id="lw:44" class="idref" href="#lw:44"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_log_cap"><span class="id" title="definition">is_log_cap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:44"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#is_cap"><span class="id" title="definition">is_cap</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:44"><span class="id" title="variable">lw</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">lw</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lword_get_word_to_lword" class="idref" href="#lword_get_word_to_lword"><span class="id" title="lemma">lword_get_word_to_lword</span></a> (<a id="w:45" class="idref" href="#w:45"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="v:46" class="idref" href="#v:46"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:45"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:46"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:45"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> ; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span> ; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="ReservedAddresses" class="idref" href="#ReservedAddresses"><span class="id" title="record">ReservedAddresses</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">ReservedAddressesG</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="reserved_addresses" class="idref" href="#reserved_addresses"><span class="id" title="projection">reserved_addresses</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="init_version" class="idref" href="#init_version"><span class="id" title="projection">init_version</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="VMap" class="idref" href="#VMap"><span class="id" title="definition">VMap</span></a> : <span class="id" title="keyword">Type</span> := <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="LReg" class="idref" href="#LReg"><span class="id" title="definition">LReg</span></a> := <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="LMem" class="idref" href="#LMem"><span class="id" title="definition">LMem</span></a> := <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="LDFrac" class="idref" href="#LDFrac"><span class="id" title="definition">LDFrac</span></a> := <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a> <span class="id" title="inductive">iris.algebra.dfrac.dfrac</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="LMemF" class="idref" href="#LMemF"><span class="id" title="definition">LMemF</span></a> := <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a> (<span class="id" title="inductive">dfrac</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Logical_mapsto" class="idref" href="#Logical_mapsto"><span class="id" title="section">Logical_mapsto</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{ <a id="reservedaddresses:50" class="idref" href="#reservedaddresses:50"><span class="id" title="binder">reservedaddresses</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#ReservedAddresses"><span class="id" title="class">ReservedAddresses</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lreg_strip" class="idref" href="#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> (<a id="lr:51" class="idref" href="#lr:51"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a> :=<br/>
&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">fun</span> <a id="lw:52" class="idref" href="#lw:52"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:52"><span class="id" title="variable">lw</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:51"><span class="id" title="variable">lr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_cur_addr" class="idref" href="#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> (<a id="la:53" class="idref" href="#la:53"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="vmap:54" class="idref" href="#vmap:54"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:54"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:53"><span class="id" title="variable">la</span></a><span class="id" title="notation">.1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:53"><span class="id" title="variable">la</span></a><span class="id" title="notation">.2</span>. <span class="comment">(*&nbsp;check&nbsp;whether&nbsp;the&nbsp;version&nbsp;of&nbsp;`la`&nbsp;matches&nbsp;in&nbsp;cur_map&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_cur_word" class="idref" href="#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a id="lw:55" class="idref" href="#lw:55"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="vmap:56" class="idref" href="#vmap:56"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:55"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span> | <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="a:58" class="idref" href="#a:58"><span class="id" title="binder"><span id="a:59" class="id">a</span></span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:58"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:56"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:58"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_cur_regs" class="idref" href="#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a> (<a id="lr:60" class="idref" href="#lr:60"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:61" class="idref" href="#vmap:61"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <a id="lw:62" class="idref" href="#lw:62"><span class="id" title="binder">lw</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:62"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:61"><span class="id" title="variable">vmap</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:60"><span class="id" title="variable">lr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_cur_regs_mono" class="idref" href="#is_cur_regs_mono"><span class="id" title="lemma">is_cur_regs_mono</span></a> {<a id="lr1:63" class="idref" href="#lr1:63"><span class="id" title="binder">lr1</span></a> <a id="lr2:64" class="idref" href="#lr2:64"><span class="id" title="binder">lr2</span></a> <a id="vmap:65" class="idref" href="#vmap:65"><span class="id" title="binder">vmap</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr1:63"><span class="id" title="variable">lr1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr2:64"><span class="id" title="variable">lr2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr2:64"><span class="id" title="variable">lr2</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:65"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr1:63"><span class="id" title="variable">lr1</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:65"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsubset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="lemma">map_subseteq_union</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsubset</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_union_1_1</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="is_cur_addr_dec" class="idref" href="#is_cur_addr_dec"><span class="id" title="instance">is_cur_addr_dec</span></a> (<a id="la:66" class="idref" href="#la:66"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="vmap:67" class="idref" href="#vmap:67"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="class">Decision</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:66"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:67"><span class="id" title="variable">vmap</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">vmap</span> <span class="id" title="notation">!!</span> <span class="id" title="var">la</span><span class="id" title="notation">.1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="var">solve_decision</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_cur_addr_same" class="idref" href="#is_cur_addr_same"><span class="id" title="lemma">is_cur_addr_same</span></a> (<a id="a:68" class="idref" href="#a:68"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:69" class="idref" href="#v:69"><span class="id" title="binder">v</span></a> <a id="v':70" class="idref" href="#v':70"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="vmap:71" class="idref" href="#vmap:71"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:68"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:69"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:71"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:68"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':70"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:71"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:69"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':70"><span class="id" title="variable">v'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hcur_a</span> <span class="id" title="var">Hcur_a'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcur_a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_a'</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_wlcap_slcap" class="idref" href="#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="lw:72" class="idref" href="#lw:72"><span class="id" title="binder">lw</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:72"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> | <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">_</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_lword_version" class="idref" href="#is_lword_version"><span class="id" title="definition">is_lword_version</span></a> (<a id="lw:74" class="idref" href="#lw:74"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:75" class="idref" href="#p:75"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:76" class="idref" href="#b:76"><span class="id" title="binder">b</span></a> <a id="e:77" class="idref" href="#e:77"><span class="id" title="binder">e</span></a> <a id="a:78" class="idref" href="#a:78"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:79" class="idref" href="#v:79"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:74"><span class="id" title="variable">lw</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:75"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:76"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:77"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:78"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:79"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_lword_inv" class="idref" href="#is_lword_inv"><span class="id" title="lemma">is_lword_inv</span></a> (<a id="lw:80" class="idref" href="#lw:80"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:81" class="idref" href="#p:81"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:82" class="idref" href="#b:82"><span class="id" title="binder">b</span></a> <a id="e:83" class="idref" href="#e:83"><span class="id" title="binder">e</span></a> <a id="a:84" class="idref" href="#a:84"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:85" class="idref" href="#v:85"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_lword_version"><span class="id" title="definition">is_lword_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:80"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:81"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:82"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:83"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:84"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:85"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="o:86" class="idref" href="#o:86"><span class="id" title="binder">o</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:80"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#o:86"><span class="id" title="variable">o</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:81"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:82"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:83"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:84"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:85"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:80"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:81"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:82"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:83"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:84"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:85"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hversion</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hversion</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_lword_version"><span class="id" title="definition">is_lword_version</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hversion</span>; <span class="id" title="var">simplify_eq</span><br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">right</span> | <span class="id" title="tactic">left</span> ; <span class="id" title="tactic">eexists</span>]; <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cur_lword_cur_addr" class="idref" href="#cur_lword_cur_addr"><span class="id" title="lemma">cur_lword_cur_addr</span></a> <a id="lw:87" class="idref" href="#lw:87"><span class="id" title="binder">lw</span></a> <a id="p:88" class="idref" href="#p:88"><span class="id" title="binder">p</span></a> <a id="b:89" class="idref" href="#b:89"><span class="id" title="binder">b</span></a> <a id="e:90" class="idref" href="#e:90"><span class="id" title="binder">e</span></a> <a id="a:91" class="idref" href="#a:91"><span class="id" title="binder">a</span></a> (<a id="v:92" class="idref" href="#v:92"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="vmap:93" class="idref" href="#vmap:93"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_lword_version"><span class="id" title="definition">is_lword_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:87"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:88"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:89"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:90"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:91"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:92"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:87"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:93"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.machine_base.html#withinBounds"><span class="id" title="definition">withinBounds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:89"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:90"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:91"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:91"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:92"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:93"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlword</span> <span class="id" title="var">Hcur_lw</span> <span class="id" title="var">Hbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> ; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_lword_inv"><span class="id" title="axiom">is_lword_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlword</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlword</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">o</span> ?]| ?] ; <span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#withinBounds_true_iff"><span class="id" title="axiom">withinBounds_true_iff</span></a>, <a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbounds</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcur_lw</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_cur_lword_lea" class="idref" href="#is_cur_lword_lea"><span class="id" title="lemma">is_cur_lword_lea</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:94" class="idref" href="#vmap:94"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="p:95" class="idref" href="#p:95"><span class="id" title="binder">p</span></a> <a id="p':96" class="idref" href="#p':96"><span class="id" title="binder">p'</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:97" class="idref" href="#b:97"><span class="id" title="binder">b</span></a> <a id="b':98" class="idref" href="#b':98"><span class="id" title="binder">b'</span></a> <a id="e:99" class="idref" href="#e:99"><span class="id" title="binder">e</span></a> <a id="e':100" class="idref" href="#e':100"><span class="id" title="binder">e'</span></a> <a id="a:101" class="idref" href="#a:101"><span class="id" title="binder">a</span></a> <a id="a':102" class="idref" href="#a':102"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:103" class="idref" href="#v:103"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:104" class="idref" href="#lw:104"><span class="id" title="binder">lw</span></a> <a id="lw':105" class="idref" href="#lw':105"><span class="id" title="binder">lw'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.machine_base.html#isWithin"><span class="id" title="definition">isWithin</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':98"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':100"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:97"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:99"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:104"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:95"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:97"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:99"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:101"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:103"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw':105"><span class="id" title="variable">lw'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p':96"><span class="id" title="variable">p'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':98"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':100"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':102"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:103"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:104"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:94"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw':105"><span class="id" title="variable">lw'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:94"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlw</span> <span class="id" title="var">Hlw'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw'</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hcur</span>; <span class="id" title="tactic">auto</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span> <span class="id" title="var">Hin</span> <span class="id" title="var">a0</span> <span class="id" title="var">Ha0in</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> !<a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha0in</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Is_true_true</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#isWithin_implies"><span class="id" title="axiom">isWithin_implies</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw</span>; <span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_cur_addr_insert_ne" class="idref" href="#is_cur_addr_insert_ne"><span class="id" title="lemma">is_cur_addr_insert_ne</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:106" class="idref" href="#vmap:106"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:107" class="idref" href="#a:107"><span class="id" title="binder">a</span></a> <a id="a':108" class="idref" href="#a':108"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:109" class="idref" href="#v:109"><span class="id" title="binder">v</span></a> <a id="v':110" class="idref" href="#v':110"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:107"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':108"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:107"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:109"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:106"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:107"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:109"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':108"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':110"><span class="id" title="variable">v'</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">vmap</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Hcur</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_cur_addr_insert" class="idref" href="#is_cur_addr_insert"><span class="id" title="lemma">is_cur_addr_insert</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:111" class="idref" href="#vmap:111"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:112" class="idref" href="#a:112"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:113" class="idref" href="#v:113"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:112"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:113"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:112"><span class="id" title="variable">a</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:113"><span class="id" title="variable">v</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">vmap</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="insert_reg_lreg_strip" class="idref" href="#insert_reg_lreg_strip"><span class="id" title="lemma">insert_reg_lreg_strip</span></a> (<a id="lregs:114" class="idref" href="#lregs:114"><span class="id" title="binder">lregs</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="r:115" class="idref" href="#r:115"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:116" class="idref" href="#lw:116"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:114"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:115"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:116"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">&lt;[</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:115"><span class="id" title="variable">r</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:116"><span class="id" title="variable">lw</span></a> <span class="id" title="notation">]&gt;</span> <span class="id" title="notation">(</span><span class="id" title="notation">lreg_strip</span> <span class="id" title="notation">lregs</span><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:114"><span class="id" title="variable">lregs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> -<span class="id" title="lemma">fmap_insert</span> <span class="id" title="lemma">insert_id</span> //.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="next_version_lword" class="idref" href="#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> (<a id="lw:117" class="idref" href="#lw:117"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> ) : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:117"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> (<span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1)<br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <span class="id" title="var">ot</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <span class="id" title="var">ot</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> (<span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:117"><span class="id" title="variable">lw</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lword_get_word_next_version" class="idref" href="#lword_get_word_next_version"><span class="id" title="lemma">lword_get_word_next_version</span></a> (<a id="lw:119" class="idref" href="#lw:119"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:119"><span class="id" title="variable">lw</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:119"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span>; <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
The `reg_phys_log_corresponds` states that, the physical register file `phr` corresponds
    to the the logical register file `lr`, according to the view map `vmap` if:
<ul class="doclist">
<li> the content of the register `phr` is the same as the words in `lr` w/o the version

</li>
<li> the version of the capabilities in `lr` are the same as the version of its addresses
      in the view map `vmap`

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="reg_phys_log_corresponds" class="idref" href="#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> (<a id="phr:120" class="idref" href="#phr:120"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:121" class="idref" href="#lr:121"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:122" class="idref" href="#vmap:122"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:121"><span class="id" title="variable">lr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:120"><span class="id" title="variable">phr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:121"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:122"><span class="id" title="variable">vmap</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_legal_address" class="idref" href="#is_legal_address"><span class="id" title="definition">is_legal_address</span></a> (<a id="lm:123" class="idref" href="#lm:123"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) <a id="vmap:124" class="idref" href="#vmap:124"><span class="id" title="binder">vmap</span></a> <a id="la:125" class="idref" href="#la:125"><span class="id" title="binder">la</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="cur_v:126" class="idref" href="#cur_v:126"><span class="id" title="binder">cur_v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:125"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_v:126"><span class="id" title="variable">cur_v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:124"><span class="id" title="variable">vmap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:125"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_v:126"><span class="id" title="variable">cur_v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="definition">is_Some</span> ( <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:123"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:125"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_v:126"><span class="id" title="variable">cur_v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>

<br/>
</div>

<div class="doc">
for each logical address in the logical memory,
<ul class="doclist">
<li> the version is less than or equal to the current version of the address

</li>
<li> the current version of the address also exists in the logical memory 

</li>
</ul>
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="mem_current_version" class="idref" href="#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> (<a id="lm:127" class="idref" href="#lm:127"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:128" class="idref" href="#vmap:128"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="la:129" class="idref" href="#la:129"><span class="id" title="binder">la</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_legal_address"><span class="id" title="definition">is_legal_address</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:127"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:128"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:129"><span class="id" title="variable">la</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:127"><span class="id" title="variable">lm</span></a>.<br/>

<br/>
</div>

<div class="doc">
for all entries in the view/curr map,
<ul class="doclist">
<li> there exists a logical word `lw` in the logical memory `lm`
      ( i.e. dom(vmap) ⊆ dom(lm) ) s.t.

</li>
<li> the logical word `lw` corresponds to the actual word in the physical memory `phm`
      for the same address

</li>
<li> the logical word `lw` is the current view of the word 

</li>
</ul>
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="mem_vmap_root" class="idref" href="#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> (<a id="phm:130" class="idref" href="#phm:130"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:131" class="idref" href="#lm:131"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:132" class="idref" href="#vmap:132"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:133" class="idref" href="#a:133"><span class="id" title="binder">a</span></a> <a id="v:134" class="idref" href="#v:134"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="lw:135" class="idref" href="#lw:135"><span class="id" title="binder">lw</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:131"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:133"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:134"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:135"><span class="id" title="variable">lw</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:130"><span class="id" title="variable">phm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:133"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:135"><span class="id" title="variable">lw</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:135"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:132"><span class="id" title="variable">vmap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:132"><span class="id" title="variable">vmap</span></a>. <span class="comment">(*&nbsp;subset&nbsp;in&nbsp;other&nbsp;direction,&nbsp;and&nbsp;every&nbsp;current&nbsp;address&nbsp;is&nbsp;gc&nbsp;root&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="mem_gcroot" class="idref" href="#mem_gcroot"><span class="id" title="definition">mem_gcroot</span></a> (<a id="vmap:136" class="idref" href="#vmap:136"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:137" class="idref" href="#a:137"><span class="id" title="binder">a</span></a> <a id="v:138" class="idref" href="#v:138"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:137"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reserved_addresses"><span class="id" title="method">reserved_addresses</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:138"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#init_version"><span class="id" title="method">init_version</span></a> ) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:136"><span class="id" title="variable">vmap</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="mem_phys_log_corresponds" class="idref" href="#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> (<a id="phm:139" class="idref" href="#phm:139"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:140" class="idref" href="#lm:140"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:141" class="idref" href="#vmap:141"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:140"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:141"><span class="id" title="variable">vmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:139"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:140"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:141"><span class="id" title="variable">vmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_gcroot"><span class="id" title="definition">mem_gcroot</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:141"><span class="id" title="variable">vmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_phys_log_corresponds" class="idref" href="#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a><br/>
&nbsp;&nbsp;(<a id="phr:142" class="idref" href="#phr:142"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:143" class="idref" href="#phm:143"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:144" class="idref" href="#lr:144"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:145" class="idref" href="#lm:145"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:146" class="idref" href="#vmap:146"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>):=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:142"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:144"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:146"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:143"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:145"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:146"><span class="id" title="variable">vmap</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemmas&nbsp;about&nbsp;lreg_corresponds&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_read_iscur" class="idref" href="#lreg_corresponds_read_iscur"><span class="id" title="lemma">lreg_corresponds_read_iscur</span></a><br/>
&nbsp;&nbsp;(<a id="phr:147" class="idref" href="#phr:147"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:148" class="idref" href="#lr:148"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:149" class="idref" href="#vmap:149"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="r:150" class="idref" href="#r:150"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:151" class="idref" href="#lw:151"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:147"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:148"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:149"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:148"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:150"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:151"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:151"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:149"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hcur_regs</span>] <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_get_word" class="idref" href="#lreg_corresponds_get_word"><span class="id" title="lemma">lreg_corresponds_get_word</span></a><br/>
&nbsp;&nbsp;(<a id="phr:152" class="idref" href="#phr:152"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:153" class="idref" href="#lr:153"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:154" class="idref" href="#vmap:154"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="r:155" class="idref" href="#r:155"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:156" class="idref" href="#lw:156"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:152"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:153"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:154"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:153"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:155"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:156"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:152"><span class="id" title="variable">phr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:155"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:156"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [&lt;- <span class="id" title="var">Hcurreg</span>] <span class="id" title="var">Hlr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_fmap_Some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_insert_respects" class="idref" href="#lreg_corresponds_insert_respects"><span class="id" title="lemma">lreg_corresponds_insert_respects</span></a><br/>
&nbsp;&nbsp;(<a id="phr:157" class="idref" href="#phr:157"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:158" class="idref" href="#lr:158"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:159" class="idref" href="#vmap:159"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="r:160" class="idref" href="#r:160"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:161" class="idref" href="#lw:161"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:157"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:158"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:159"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:161"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:159"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:160"><span class="id" title="variable">r</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:161"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">phr</span>) (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:160"><span class="id" title="variable">r</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:161"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lr</span>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:159"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hstrip</span> <span class="id" title="var">Hcur_regs</span>] <span class="id" title="var">Hlw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hstrip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fmap_insert</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_insert_2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_delete" class="idref" href="#lreg_corresponds_delete"><span class="id" title="lemma">lreg_corresponds_delete</span></a><br/>
&nbsp;&nbsp;(<a id="phr:162" class="idref" href="#phr:162"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:163" class="idref" href="#lr:163"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:164" class="idref" href="#vmap:164"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="src:165" class="idref" href="#src:165"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:162"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:163"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:164"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> (<span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:165"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:162"><span class="id" title="variable">phr</span></a>) (<span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:165"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:163"><span class="id" title="variable">lr</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:164"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hstrip</span> <span class="id" title="var">Hcur</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="lemma">fmap_delete</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="var">lr</span>) <span class="id" title="var">Hstrip</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">lw</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">src</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_cap_cur_word_1" class="idref" href="#lreg_corresponds_cap_cur_word_1"><span class="id" title="lemma">lreg_corresponds_cap_cur_word_1</span></a><br/>
&nbsp;&nbsp;(<a id="phr:166" class="idref" href="#phr:166"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:167" class="idref" href="#lr:167"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:168" class="idref" href="#vmap:168"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="lw:169" class="idref" href="#lw:169"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:170" class="idref" href="#p:170"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:171" class="idref" href="#b:171"><span class="id" title="binder">b</span></a> <a id="e:172" class="idref" href="#e:172"><span class="id" title="binder">e</span></a> <a id="a:173" class="idref" href="#a:173"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="la:174" class="idref" href="#la:174"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="r:175" class="idref" href="#r:175"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:166"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:167"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:168"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:169"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:170"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:171"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:172"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:173"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:174"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:173"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.machine_base.html#withinBounds"><span class="id" title="definition">withinBounds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:171"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:172"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:173"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:167"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:175"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:169"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_version"><span class="id" title="definition">lword_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:169"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:174"><span class="id" title="variable">la</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:174"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:168"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hcur_regs</span>] <span class="id" title="var">Hlcap</span> <span class="id" title="var">Hla</span> <span class="id" title="var">Hbounds</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Hv</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_regs</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">v</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcur_regs</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#withinBounds_in_seq"><span class="id" title="axiom">withinBounds_in_seq</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_cap_cur_word_2" class="idref" href="#lreg_corresponds_cap_cur_word_2"><span class="id" title="lemma">lreg_corresponds_cap_cur_word_2</span></a><br/>
&nbsp;&nbsp;(<a id="phr:176" class="idref" href="#phr:176"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:177" class="idref" href="#lr:177"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:178" class="idref" href="#vmap:178"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="lw:179" class="idref" href="#lw:179"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:180" class="idref" href="#p:180"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:181" class="idref" href="#b:181"><span class="id" title="binder">b</span></a> <a id="e:182" class="idref" href="#e:182"><span class="id" title="binder">e</span></a> <a id="a:183" class="idref" href="#a:183"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="la:184" class="idref" href="#la:184"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="r:185" class="idref" href="#r:185"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:176"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:177"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:178"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:179"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:180"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:181"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:182"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:183"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:184"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:183"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.machine_base.html#withinBounds"><span class="id" title="definition">withinBounds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:181"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:182"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:183"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:177"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:185"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:179"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:184"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:178"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_version"><span class="id" title="definition">lword_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:179"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:184"><span class="id" title="variable">la</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hstrip</span> <span class="id" title="var">Hcur_regs</span>] <span class="id" title="var">Hlr</span> <span class="id" title="var">Hla</span> <span class="id" title="var">Hinbounds</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Hcur_la</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_regs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_regs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span>; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlr</span>; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#withinBounds_in_seq"><span class="id" title="axiom">withinBounds_in_seq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcur_regs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_la</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">la</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_cap_cur_word" class="idref" href="#lreg_corresponds_cap_cur_word"><span class="id" title="lemma">lreg_corresponds_cap_cur_word</span></a><br/>
&nbsp;&nbsp;(<a id="phr:186" class="idref" href="#phr:186"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:187" class="idref" href="#lr:187"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:188" class="idref" href="#vmap:188"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="lw:189" class="idref" href="#lw:189"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:190" class="idref" href="#p:190"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:191" class="idref" href="#b:191"><span class="id" title="binder">b</span></a> <a id="e:192" class="idref" href="#e:192"><span class="id" title="binder">e</span></a> <a id="a:193" class="idref" href="#a:193"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="la:194" class="idref" href="#la:194"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="r:195" class="idref" href="#r:195"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:186"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:187"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:188"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:189"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:190"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:191"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:192"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:193"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:194"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:193"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.machine_base.html#withinBounds"><span class="id" title="definition">withinBounds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:191"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:192"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:193"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:187"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:195"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:189"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_version"><span class="id" title="definition">lword_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:189"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:194"><span class="id" title="variable">la</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:194"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:188"><span class="id" title="variable">vmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HInvReg</span> <span class="id" title="var">Hlr</span> <span class="id" title="var">Hla</span> <span class="id" title="var">Hinbounds</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;; [ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_corresponds_cap_cur_word_1"><span class="id" title="axiom">lreg_corresponds_cap_cur_word_1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_corresponds_cap_cur_word_2"><span class="id" title="axiom">lreg_corresponds_cap_cur_word_2</span></a> ]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_correct_PC" class="idref" href="#lreg_corresponds_correct_PC"><span class="id" title="lemma">lreg_corresponds_correct_PC</span></a><br/>
&nbsp;&nbsp;(<a id="phr:196" class="idref" href="#phr:196"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:197" class="idref" href="#lr:197"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:198" class="idref" href="#vmap:198"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="lw:199" class="idref" href="#lw:199"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:200" class="idref" href="#p:200"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:201" class="idref" href="#b:201"><span class="id" title="binder">b</span></a> <a id="e:202" class="idref" href="#e:202"><span class="id" title="binder">e</span></a> <a id="a:203" class="idref" href="#a:203"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="la:204" class="idref" href="#la:204"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="r:205" class="idref" href="#r:205"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:196"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:197"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:198"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:199"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:200"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:201"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:202"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:203"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:204"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:203"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.machine_base.html#isCorrectPC"><span class="id" title="inductive">isCorrectPC</span></a> (<a class="idref" href="cap_machine.opsem.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:200"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:201"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:202"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:203"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:197"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:205"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:199"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_version"><span class="id" title="definition">lword_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:199"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:204"><span class="id" title="variable">la</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:204"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:198"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HinvReg</span> <span class="id" title="var">Hlw</span> <span class="id" title="var">Hla</span> <span class="id" title="var">Hvpc</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Hv</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#isCorrectPC_withinBounds"><span class="id" title="axiom">isCorrectPC_withinBounds</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvpc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_corresponds_cap_cur_word"><span class="id" title="axiom">lreg_corresponds_cap_cur_word</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_corresponds_cap_is_cur" class="idref" href="#lreg_corresponds_cap_is_cur"><span class="id" title="lemma">lreg_corresponds_cap_is_cur</span></a><br/>
&nbsp;&nbsp;(<a id="phr:206" class="idref" href="#phr:206"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="lr:207" class="idref" href="#lr:207"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:208" class="idref" href="#vmap:208"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:209" class="idref" href="#src:209"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="p:210" class="idref" href="#p:210"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>)  (<a id="b:211" class="idref" href="#b:211"><span class="id" title="binder">b</span></a> <a id="e:212" class="idref" href="#e:212"><span class="id" title="binder">e</span></a> <a id="a:213" class="idref" href="#a:213"><span class="id" title="binder">a</span></a> <a id="a':214" class="idref" href="#a':214"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:215" class="idref" href="#v:215"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:206"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:207"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:208"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:207"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:209"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:210"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:211"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:212"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:213"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:215"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':214"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:211"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:212"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':214"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:215"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:208"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hreg_inv</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_corresponds_read_iscur"><span class="id" title="axiom">lreg_corresponds_read_iscur</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlr_src</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_lword_lea"><span class="id" title="axiom">is_cur_lword_lea</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lw'</span> := <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hlr_src</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#withinBounds_in_seq_2"><span class="id" title="axiom">withinBounds_in_seq_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_lword_cur_addr"><span class="id" title="axiom">cur_lword_cur_addr</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_lword_version"><span class="id" title="definition">is_lword_version</span></a> //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#isWithin_refl"><span class="id" title="axiom">isWithin_refl</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemmas&nbsp;about&nbsp;lmem_corresponds&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="lmem_corresponds_read_iscur" class="idref" href="#lmem_corresponds_read_iscur"><span class="id" title="lemma">lmem_corresponds_read_iscur</span></a><br/>
&nbsp;&nbsp;(<a id="phm:216" class="idref" href="#phm:216"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:217" class="idref" href="#lm:217"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:218" class="idref" href="#vmap:218"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="la:219" class="idref" href="#la:219"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="lw:220" class="idref" href="#lw:220"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:216"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:217"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:218"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:219"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:218"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:217"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:219"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:220"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:220"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:218"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Hdom</span> &amp; <span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">_</span>) <span class="id" title="var">Hla</span> <span class="id" title="var">Hlw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hla</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw'</span> &amp; <span class="id" title="var">Hlw'</span> &amp; <span class="id" title="var">Hphm</span> &amp; <span class="id" title="var">Hcur_lw'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">v</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlw</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw'</span>; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmem_corresponds_insert_respects" class="idref" href="#lmem_corresponds_insert_respects"><span class="id" title="lemma">lmem_corresponds_insert_respects</span></a><br/>
&nbsp;&nbsp;(<a id="phm:221" class="idref" href="#phm:221"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:222" class="idref" href="#lm:222"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:223" class="idref" href="#vmap:223"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="la:224" class="idref" href="#la:224"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="lw:225" class="idref" href="#lw:225"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:221"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:222"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:223"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:224"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:223"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:225"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:223"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:224"><span class="id" title="variable">la</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:225"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">phm</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:224"><span class="id" title="variable">la</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:225"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lm</span>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:223"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Hdom</span> &amp; <span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">Hgcroot</span>) <span class="id" title="var">Hla</span> <span class="id" title="var">Hlw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_insert_2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <span class="id" title="var">la</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_inv"><span class="id" title="lemma">laddr_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>). <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_impl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">la'</span> <span class="id" title="var">lw'</span> <span class="id" title="var">H</span> ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v</span> &amp; <span class="id" title="var">H1</span> &amp; <span class="id" title="var">H2</span> &amp; <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">cur_v</span>. <span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">la</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <span class="id" title="var">la'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">cur_v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">v'</span> <span class="id" title="var">Hp</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hp'</span> := <span class="id" title="var">Hp</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hroot</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>; <span class="id" title="tactic">eauto</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw'</span> &amp; <span class="id" title="var">Hlw'</span> &amp; <span class="id" title="var">Hw'</span> &amp; <span class="id" title="var">Hcur_lw'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">v</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hneq</span>]; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">lw</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr_same"><span class="id" title="axiom">is_cur_addr_same</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [ <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [ <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>; <span class="id" title="var">cbn</span> ;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">lw'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>; <span class="id" title="tactic">auto</span> ; <span class="id" title="tactic">intro</span>; <span class="id" title="var">simplify_pair_eq</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmem_corresponds_get_word" class="idref" href="#lmem_corresponds_get_word"><span class="id" title="lemma">lmem_corresponds_get_word</span></a><br/>
&nbsp;&nbsp;(<a id="phm:226" class="idref" href="#phm:226"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:227" class="idref" href="#lm:227"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:228" class="idref" href="#vmap:228"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="a:229" class="idref" href="#a:229"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:230" class="idref" href="#v:230"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:231" class="idref" href="#lw:231"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:226"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:227"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:228"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:229"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:230"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:228"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:227"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:229"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:230"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:231"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:226"><span class="id" title="variable">phm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:229"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:231"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Hdom</span> &amp; <span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">_</span>) <span class="id" title="var">Hcur</span> <span class="id" title="var">Hlm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdom</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v</span> &amp; <span class="id" title="var">Hcur_addr</span> &amp; <span class="id" title="var">Hle_cur</span> &amp; <span class="id" title="var">Hsome</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur</span>, <span class="id" title="var">Hcur_addr</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hroot</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hroot</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw'</span> &amp; <span class="id" title="var">Hlm'</span> &amp; <span class="id" title="var">Hpm'</span> &amp; <span class="id" title="var">Hcurword</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlm'</span>; <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmem_corresponds_current_word" class="idref" href="#lmem_corresponds_current_word"><span class="id" title="lemma">lmem_corresponds_current_word</span></a><br/>
&nbsp;&nbsp;(<a id="phm:232" class="idref" href="#phm:232"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:233" class="idref" href="#lm:233"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:234" class="idref" href="#vmap:234"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="a:235" class="idref" href="#a:235"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:236" class="idref" href="#v:236"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:237" class="idref" href="#lw:237"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:232"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:233"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:234"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:233"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:235"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:236"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:237"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:235"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:236"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:234"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:237"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:234"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Hdom</span> &amp; <span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">_</span>) <span class="id" title="var">Hlm</span> <span class="id" title="var">Hcur</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdom</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v</span> &amp; <span class="id" title="var">Hcur_addr</span> &amp; <span class="id" title="var">Hle_cur</span> &amp; <span class="id" title="var">Hsome</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur</span>, <span class="id" title="var">Hcur_addr</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hroot</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hroot</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw'</span> &amp; <span class="id" title="var">Hlm'</span> &amp; <span class="id" title="var">Hpm'</span> &amp; <span class="id" title="var">Hcurword</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlm'</span>; <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Lemmas&nbsp;about&nbsp;state_corresponds&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_reg_get_word" class="idref" href="#state_corresponds_reg_get_word"><span class="id" title="lemma">state_corresponds_reg_get_word</span></a><br/>
&nbsp;&nbsp;(<a id="phr:238" class="idref" href="#phr:238"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:239" class="idref" href="#phm:239"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:240" class="idref" href="#lr:240"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:241" class="idref" href="#lm:241"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:242" class="idref" href="#vmap:242"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="r:243" class="idref" href="#r:243"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:244" class="idref" href="#lw:244"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:238"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:239"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:240"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:241"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:242"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:240"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:243"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:244"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:238"><span class="id" title="variable">phr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:243"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:244"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hreg</span> <span class="id" title="var">_</span>] ? ; <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_corresponds_get_word"><span class="id" title="axiom">lreg_corresponds_get_word</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_reg_get_word_cap" class="idref" href="#state_corresponds_reg_get_word_cap"><span class="id" title="lemma">state_corresponds_reg_get_word_cap</span></a><br/>
&nbsp;&nbsp;(<a id="phr:245" class="idref" href="#phr:245"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:246" class="idref" href="#phm:246"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:247" class="idref" href="#lr:247"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:248" class="idref" href="#lm:248"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:249" class="idref" href="#vmap:249"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="r:250" class="idref" href="#r:250"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="p:251" class="idref" href="#p:251"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:252" class="idref" href="#b:252"><span class="id" title="binder">b</span></a> <a id="e:253" class="idref" href="#e:253"><span class="id" title="binder">e</span></a> <a id="a:254" class="idref" href="#a:254"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:255" class="idref" href="#v:255"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:245"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:246"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:247"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:248"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:249"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:247"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:250"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:251"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:252"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:253"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:254"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:255"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:245"><span class="id" title="variable">phr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:250"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.opsem.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:251"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:252"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:253"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:254"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HLinv</span> <span class="id" title="var">Hlr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_corresponds_reg_get_word"><span class="id" title="axiom">state_corresponds_reg_get_word</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_mem_get_word" class="idref" href="#state_corresponds_mem_get_word"><span class="id" title="lemma">state_corresponds_mem_get_word</span></a><br/>
&nbsp;&nbsp;(<a id="phr:256" class="idref" href="#phr:256"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:257" class="idref" href="#phm:257"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:258" class="idref" href="#lr:258"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:259" class="idref" href="#lm:259"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:260" class="idref" href="#vmap:260"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="a:261" class="idref" href="#a:261"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:262" class="idref" href="#v:262"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:263" class="idref" href="#lw:263"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:256"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:257"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:258"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:259"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:260"><span class="id" title="variable">vmap</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:261"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:262"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:260"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:259"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:261"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:262"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:263"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:257"><span class="id" title="variable">phm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:261"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:263"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hmem</span>] ? ? ; <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem_corresponds_get_word"><span class="id" title="axiom">lmem_corresponds_get_word</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_cap_cur_word" class="idref" href="#state_corresponds_cap_cur_word"><span class="id" title="lemma">state_corresponds_cap_cur_word</span></a><br/>
&nbsp;&nbsp;(<a id="phr:264" class="idref" href="#phr:264"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:265" class="idref" href="#phm:265"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:266" class="idref" href="#lr:266"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:267" class="idref" href="#lm:267"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:268" class="idref" href="#vmap:268"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="lw:269" class="idref" href="#lw:269"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:270" class="idref" href="#p:270"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:271" class="idref" href="#b:271"><span class="id" title="binder">b</span></a> <a id="e:272" class="idref" href="#e:272"><span class="id" title="binder">e</span></a> <a id="a:273" class="idref" href="#a:273"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="la:274" class="idref" href="#la:274"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="r:275" class="idref" href="#r:275"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:264"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:265"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:266"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:267"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:268"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:269"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:270"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:271"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:272"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:273"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:274"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:273"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.machine_base.html#withinBounds"><span class="id" title="definition">withinBounds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:271"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:272"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:273"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:266"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:275"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:269"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_version"><span class="id" title="definition">lword_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:269"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:274"><span class="id" title="variable">la</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:274"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:268"><span class="id" title="variable">vmap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">HinvReg</span> <span class="id" title="var">_</span>] <span class="id" title="var">Hlw</span> <span class="id" title="var">Hla</span> <span class="id" title="var">Hbounds</span> <span class="id" title="var">Hr</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_corresponds_cap_cur_word"><span class="id" title="axiom">lreg_corresponds_cap_cur_word</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_mem_correct_PC" class="idref" href="#state_corresponds_mem_correct_PC"><span class="id" title="lemma">state_corresponds_mem_correct_PC</span></a><br/>
&nbsp;&nbsp;(<a id="phr:276" class="idref" href="#phr:276"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:277" class="idref" href="#phm:277"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:278" class="idref" href="#lr:278"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:279" class="idref" href="#lm:279"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:280" class="idref" href="#vmap:280"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="p:281" class="idref" href="#p:281"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:282" class="idref" href="#b:282"><span class="id" title="binder">b</span></a> <a id="e:283" class="idref" href="#e:283"><span class="id" title="binder">e</span></a> <a id="a:284" class="idref" href="#a:284"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:285" class="idref" href="#v:285"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="r:286" class="idref" href="#r:286"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:287" class="idref" href="#lw:287"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:276"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:277"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:278"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:279"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:280"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.machine_base.html#isCorrectPC"><span class="id" title="inductive">isCorrectPC</span></a> (<a class="idref" href="cap_machine.opsem.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:281"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:282"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:283"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:284"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:278"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:286"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:281"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:282"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:283"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:284"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:285"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:279"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:284"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:285"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:287"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:277"><span class="id" title="variable">phm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:284"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:287"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">HLinv</span> <span class="id" title="var">Hvpc</span> <span class="id" title="var">Hlr</span> <span class="id" title="var">Hlm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_corresponds_mem_get_word"><span class="id" title="axiom">state_corresponds_mem_get_word</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HLinv</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">HinvReg</span> <span class="id" title="var">_</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_corresponds_correct_PC"><span class="id" title="axiom">lreg_corresponds_correct_PC</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_phys_log_corresponds_update_reg" class="idref" href="#state_phys_log_corresponds_update_reg"><span class="id" title="lemma">state_phys_log_corresponds_update_reg</span></a> {<a id="reg:288" class="idref" href="#reg:288"><span class="id" title="binder">reg</span></a> <a id="mem:289" class="idref" href="#mem:289"><span class="id" title="binder">mem</span></a> <a id="lr:290" class="idref" href="#lr:290"><span class="id" title="binder">lr</span></a> <a id="lm:291" class="idref" href="#lm:291"><span class="id" title="binder">lm</span></a> <a id="cur_map:292" class="idref" href="#cur_map:292"><span class="id" title="binder">cur_map</span></a> <a id="i:293" class="idref" href="#i:293"><span class="id" title="binder">i</span></a> <a id="w:294" class="idref" href="#w:294"><span class="id" title="binder">w</span></a> <a id="lw:295" class="idref" href="#lw:295"><span class="id" title="binder">lw</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:295"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:294"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:295"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:292"><span class="id" title="variable">cur_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:288"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem:289"><span class="id" title="variable">mem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:290"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:291"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:292"><span class="id" title="variable">cur_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#i:293"><span class="id" title="variable">i</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:294"><span class="id" title="variable">w</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">reg</span>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem:289"><span class="id" title="variable">mem</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#i:293"><span class="id" title="variable">i</span></a><span class="id" title="notation">:=</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:295"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lr</span>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:291"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:292"><span class="id" title="variable">cur_map</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlw</span> <span class="id" title="var">Hcw</span> ((<span class="id" title="var">HLreg</span> &amp; <span class="id" title="var">HLcurreg</span>) &amp; <span class="id" title="var">HLmem</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fmap_insert</span> <span class="id" title="var">HLreg</span> <span class="id" title="var">Hlw</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_insert_2</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_phys_log_corresponds_update_mem" class="idref" href="#state_phys_log_corresponds_update_mem"><span class="id" title="lemma">state_phys_log_corresponds_update_mem</span></a> `{<a id="RA:296" class="idref" href="#RA:296"><span class="id" title="binder">RA</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#ReservedAddresses"><span class="id" title="class">ReservedAddresses</span></a>} {<a id="reg:297" class="idref" href="#reg:297"><span class="id" title="binder">reg</span></a> <a id="mem:298" class="idref" href="#mem:298"><span class="id" title="binder">mem</span></a> <a id="lr:299" class="idref" href="#lr:299"><span class="id" title="binder">lr</span></a> <a id="lm:300" class="idref" href="#lm:300"><span class="id" title="binder">lm</span></a> <a id="cur_map:301" class="idref" href="#cur_map:301"><span class="id" title="binder">cur_map</span></a> <a id="la:302" class="idref" href="#la:302"><span class="id" title="binder">la</span></a> <a id="lw:303" class="idref" href="#lw:303"><span class="id" title="binder">lw</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:302"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:301"><span class="id" title="variable">cur_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:303"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:301"><span class="id" title="variable">cur_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:297"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem:298"><span class="id" title="variable">mem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:299"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:300"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:301"><span class="id" title="variable">cur_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:297"><span class="id" title="variable">reg</span></a> (<span class="id" title="notation">&lt;[(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:302"><span class="id" title="variable">la</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">:=</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:303"><span class="id" title="variable">lw</span></a><span class="id" title="notation">)]&gt;</span> <span class="id" title="notation">mem</span>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:299"><span class="id" title="variable">lr</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:302"><span class="id" title="variable">la</span></a><span class="id" title="notation">:=</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:303"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lm</span>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:301"><span class="id" title="variable">cur_map</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcurra</span> <span class="id" title="var">Hcurrw</span> (<span class="id" title="var">Hreg</span> &amp; <span class="id" title="var">Hmemcurr</span> &amp; <span class="id" title="var">Hmem</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem_corresponds_insert_respects"><span class="id" title="axiom">lmem_corresponds_insert_respects</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_cap_all_current" class="idref" href="#state_corresponds_cap_all_current"><span class="id" title="lemma">state_corresponds_cap_all_current</span></a><br/>
&nbsp;&nbsp;(<a id="phr:304" class="idref" href="#phr:304"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:305" class="idref" href="#phm:305"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:306" class="idref" href="#lm:306"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="lr:307" class="idref" href="#lr:307"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:308" class="idref" href="#vmap:308"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:309" class="idref" href="#src:309"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:310" class="idref" href="#lwsrc:310"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:311" class="idref" href="#p:311"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:312" class="idref" href="#b:312"><span class="id" title="binder">b</span></a> <a id="e:313" class="idref" href="#e:313"><span class="id" title="binder">e</span></a> <a id="a:314" class="idref" href="#a:314"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:315" class="idref" href="#v:315"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:304"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:305"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:307"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:306"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:308"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:310"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:311"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:312"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:313"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:314"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:315"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:307"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:309"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:310"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:316" class="idref" href="#a0:316"><span class="id" title="binder">a0</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:308"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a0:316"><span class="id" title="variable">a0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:315"><span class="id" title="variable">v</span></a>) (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:312"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:313"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; [ [<span class="id" title="var">_</span> <span class="id" title="var">Hcur_regs</span>] <span class="id" title="var">Hmem_inv</span>] <span class="id" title="var">Hget_lw</span> <span class="id" title="var">Hlr_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <span class="id" title="var">lwsrc</span> <span class="id" title="var">vmap</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hcur_src</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_regs</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lwsrc</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_last_version_lword_region" class="idref" href="#state_corresponds_last_version_lword_region"><span class="id" title="lemma">state_corresponds_last_version_lword_region</span></a><br/>
&nbsp;&nbsp;(<a id="phr:317" class="idref" href="#phr:317"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:318" class="idref" href="#phm:318"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:319" class="idref" href="#lm:319"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="lr:320" class="idref" href="#lr:320"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:321" class="idref" href="#vmap:321"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="p:322" class="idref" href="#p:322"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:323" class="idref" href="#b:323"><span class="id" title="binder">b</span></a> <a id="e:324" class="idref" href="#e:324"><span class="id" title="binder">e</span></a> <a id="a:325" class="idref" href="#a:325"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:326" class="idref" href="#v:326"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="src:327" class="idref" href="#src:327"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:328" class="idref" href="#lwsrc:328"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:317"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:318"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:320"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:319"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:321"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:328"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:322"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:323"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:324"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:325"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:326"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:320"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:327"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:328"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a0:329" class="idref" href="#a0:329"><span class="id" title="binder">a0</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:319"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a0:329"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:326"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:323"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:324"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; [ [<span class="id" title="var">_</span> <span class="id" title="var">Hcur_regs</span>] <span class="id" title="var">Hmem_inv</span>] <span class="id" title="var">Hget</span> <span class="id" title="var">Hlr_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <span class="id" title="var">lwsrc</span> <span class="id" title="var">vmap</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hcur_src</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_regs</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">Ha0_inbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lwsrc</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcur_src</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha0_inbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="abbreviation">vmap</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hcur_a0</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> (<span class="id" title="var">lm</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hv'</span> ; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmem_inv</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">Hcur</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hroot</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hroot</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v</span> &amp; <span class="id" title="var">Hcur_v</span> &amp; <span class="id" title="var">cur</span> &amp; <span class="id" title="var">Hsome</span> &amp; <span class="id" title="var">Hmaxv</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcur</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw</span> &amp; <span class="id" title="var">Hlm</span> &amp; <span class="id" title="var">_</span>) ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr_same"><span class="id" title="axiom">is_cur_addr_same</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_a0</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_access_lword_region" class="idref" href="#state_corresponds_access_lword_region"><span class="id" title="lemma">state_corresponds_access_lword_region</span></a><br/>
&nbsp;&nbsp;(<a id="phr:330" class="idref" href="#phr:330"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:331" class="idref" href="#phm:331"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:332" class="idref" href="#lr:332"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:333" class="idref" href="#lm:333"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:334" class="idref" href="#vmap:334"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:335" class="idref" href="#src:335"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:336" class="idref" href="#lwsrc:336"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:337" class="idref" href="#p:337"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:338" class="idref" href="#b:338"><span class="id" title="binder">b</span></a> <a id="e:339" class="idref" href="#e:339"><span class="id" title="binder">e</span></a> <a id="a:340" class="idref" href="#a:340"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:341" class="idref" href="#v:341"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:330"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:331"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:332"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:333"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:334"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:336"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:337"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:338"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:339"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:340"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:341"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:332"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:335"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:336"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':342" class="idref" href="#a':342"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:333"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':342"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:341"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:338"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:339"><span class="id" title="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [ [<span class="id" title="var">_</span> ?] [? [ ? <span class="id" title="var">_</span> ] ] ] <span class="id" title="var">Hget</span> <span class="id" title="var">Hlsrc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlsrc</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlsrc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lwsrc</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hlsrc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
Machinery for word access and unique_in_machine 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="word_access_addr" class="idref" href="#word_access_addr"><span class="id" title="definition">word_access_addr</span></a> (<a id="a:343" class="idref" href="#a:343"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="w:344" class="idref" href="#w:344"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.opsem.cap_lang.html#get_scap"><span class="id" title="definition">get_scap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:344"><span class="id" title="variable">w</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.opsem.machine_base.html#SCap"><span class="id" title="constructor">SCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span>) =&gt; (<span class="id" title="var">b</span> <a class="idref" href="cap_machine.opsem.addr_reg.html#ecb49afb136c57143f8ddd1e3e9a03fe"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:343"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#ecb49afb136c57143f8ddd1e3e9a03fe"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">e</span>)%<span class="id" title="var">a</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="word_access_addrL" class="idref" href="#word_access_addrL"><span class="id" title="definition">word_access_addrL</span></a> (<a id="a:345" class="idref" href="#a:345"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lw:346" class="idref" href="#lw:346"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_access_addr"><span class="id" title="definition">word_access_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:345"><span class="id" title="variable">a</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:346"><span class="id" title="variable">lw</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_cur_word" class="idref" href="#update_cur_word"><span class="id" title="lemma">update_cur_word</span></a><br/>
&nbsp;&nbsp;(<a id="lm:347" class="idref" href="#lm:347"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:348" class="idref" href="#vmap:348"><span class="id" title="binder">vmap</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:349" class="idref" href="#a:349"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:350" class="idref" href="#v:350"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:351" class="idref" href="#lw:351"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_access_addrL"><span class="id" title="definition">word_access_addrL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:349"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:351"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:351"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:348"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:351"><span class="id" title="variable">lw</span></a> ( <span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:349"><span class="id" title="variable">a</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:350"><span class="id" title="variable">v</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">vmap</span> ).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnaccess</span> <span class="id" title="var">Hcur</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="tactic">auto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Ha1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">assert</span> (<span class="id" title="var">a1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">a</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha1</span>; <span class="id" title="var">solve_addr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcur</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Update&nbsp;version&nbsp;number&nbsp;of&nbsp;a&nbsp;memory&nbsp;region&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;For&nbsp;all&nbsp;the&nbsp;content&nbsp;of&nbsp;a&nbsp;logical&nbsp;memory&nbsp;`lm`,<br/>
&nbsp;&nbsp;&nbsp;no&nbsp;current&nbsp;logical&nbsp;address&nbsp;has&nbsp;a&nbsp;lword&nbsp;that&nbsp;can&nbsp;access&nbsp;the&nbsp;address&nbsp;`a`.<br/>
<br/>
&nbsp;&nbsp;&nbsp;Put&nbsp;another&nbsp;way,&nbsp;the&nbsp;"current&nbsp;view"&nbsp;of&nbsp;the&nbsp;memory&nbsp;cannot&nbsp;access&nbsp;`a`.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="lmem_not_access_addrL" class="idref" href="#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> (<a id="lm:352" class="idref" href="#lm:352"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:353" class="idref" href="#vmap:353"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:354" class="idref" href="#a:354"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span><br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="la:355" class="idref" href="#la:355"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="lw:356" class="idref" href="#lw:356"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:355"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:353"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_access_addrL"><span class="id" title="definition">word_access_addrL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:354"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:356"><span class="id" title="variable">lw</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:352"><span class="id" title="variable">lm</span></a>.<br/>

<br/>
</div>

<div class="doc">
Sweep in logical memory 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="overlap_wordL" class="idref" href="#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> (<a id="lw1:357" class="idref" href="#lw1:357"><span class="id" title="binder">lw1</span></a> <a id="lw2:358" class="idref" href="#lw2:358"><span class="id" title="binder">lw2</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.opsem.cap_lang.html#overlap_word"><span class="id" title="definition">overlap_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw1:357"><span class="id" title="variable">lw1</span></a>) (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw2:358"><span class="id" title="variable">lw2</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="overlap_wordL_dec" class="idref" href="#overlap_wordL_dec"><span class="id" title="instance">overlap_wordL_dec</span></a> (<a id="lw1:359" class="idref" href="#lw1:359"><span class="id" title="binder">lw1</span></a> <a id="lw2:360" class="idref" href="#lw2:360"><span class="id" title="binder">lw2</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <span class="id" title="class">Decision</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw1:359"><span class="id" title="variable">lw1</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw2:360"><span class="id" title="variable">lw2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_decision</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_overlap_wordL_seq_between" class="idref" href="#not_overlap_wordL_seq_between"><span class="id" title="lemma">not_overlap_wordL_seq_between</span></a><br/>
&nbsp;&nbsp;(<a id="p:361" class="idref" href="#p:361"><span class="id" title="binder">p</span></a> <a id="p':362" class="idref" href="#p':362"><span class="id" title="binder">p'</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:363" class="idref" href="#b:363"><span class="id" title="binder">b</span></a> <a id="b':364" class="idref" href="#b':364"><span class="id" title="binder">b'</span></a> <a id="e:365" class="idref" href="#e:365"><span class="id" title="binder">e</span></a> <a id="e':366" class="idref" href="#e':366"><span class="id" title="binder">e'</span></a> <a id="a:367" class="idref" href="#a:367"><span class="id" title="binder">a</span></a> <a id="a':368" class="idref" href="#a':368"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:369" class="idref" href="#v:369"><span class="id" title="binder">v</span></a> <a id="v':370" class="idref" href="#v':370"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:371" class="idref" href="#lw:371"><span class="id" title="binder">lw</span></a> <a id="lw':372" class="idref" href="#lw':372"><span class="id" title="binder">lw'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:371"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:361"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:363"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:365"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:367"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:369"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw':372"><span class="id" title="variable">lw'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p':362"><span class="id" title="variable">p'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':364"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':366"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':368"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':370"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:371"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw':372"><span class="id" title="variable">lw'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="a0:373" class="idref" href="#a0:373"><span class="id" title="binder">a0</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a0:373"><span class="id" title="variable">a0</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':364"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':366"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a0:373"><span class="id" title="variable">a0</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:363"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:365"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hget_lw</span> <span class="id" title="var">Hget_lw'</span> <span class="id" title="var">Hnot_overlap</span> <span class="id" title="var">a0</span> <span class="id" title="var">Ha_in</span> <span class="id" title="var">Ha_in'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hnot_overlap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> /= /<a class="idref" href="cap_machine.opsem.cap_lang.html#overlap_word"><span class="id" title="definition">overlap_word</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw'</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha_in</span>, <span class="id" title="var">Ha_in'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> (<span class="id" title="var">b</span> <a class="idref" href="cap_machine.opsem.addr_reg.html#f9f0bbf7338c04b048aba7393b183966"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">b'</span>)%<span class="id" title="var">a</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hb</span>; <span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;No&nbsp;register&nbsp;except&nbsp;`src`&nbsp;contains&nbsp;`lwsrc`&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="unique_in_registersL" class="idref" href="#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> (<a id="lregs:374" class="idref" href="#lregs:374"><span class="id" title="binder">lregs</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="osrc:375" class="idref" href="#osrc:375"><span class="id" title="binder">osrc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:376" class="idref" href="#lwsrc:376"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#osrc:375"><span class="id" title="variable">osrc</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">src</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">map_Forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="r:378" class="idref" href="#r:378"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwr:379" class="idref" href="#lwr:379"><span class="id" title="binder">lwr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <span class="id" title="definition">decide</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:378"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <span class="id" title="notation">True</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::general_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:376"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwr:379"><span class="id" title="variable">lwr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:374"><span class="id" title="variable">lregs</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="definition">map_Forall</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <a id="lwr:380" class="idref" href="#lwr:380"><span class="id" title="binder">lwr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:376"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwr:380"><span class="id" title="variable">lwr</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:374"><span class="id" title="variable">lregs</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="unique_in_registersL_dec" class="idref" href="#unique_in_registersL_dec"><span class="id" title="instance">unique_in_registersL_dec</span></a> (<a id="lregs:381" class="idref" href="#lregs:381"><span class="id" title="binder">lregs</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="osrc:382" class="idref" href="#osrc:382"><span class="id" title="binder">osrc</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:383" class="idref" href="#lwsrc:383"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="class">Decision</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:381"><span class="id" title="variable">lregs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#osrc:382"><span class="id" title="variable">osrc</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:383"><span class="id" title="variable">lwsrc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">osrc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">rn</span>|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="instance">map_Forall_dec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">r</span> <span class="id" title="var">rw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; <span class="id" title="var">solve_decision</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="instance">map_Forall_dec</span>. <span class="id" title="tactic">move</span>=&gt;<span class="id" title="var">r</span> <span class="id" title="var">rw</span>. <span class="id" title="var">solve_decision</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Returns&nbsp;<span class="inlinecode"><span class="id" title="var">true</span></span>&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">r</span></span>&nbsp;is&nbsp;unique.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="unique_in_memoryL" class="idref" href="#unique_in_memoryL"><span class="id" title="definition">unique_in_memoryL</span></a> (<a id="lmem:384" class="idref" href="#lmem:384"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:385" class="idref" href="#vmap:385"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="lwsrc:386" class="idref" href="#lwsrc:386"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="definition">map_Forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="la:387" class="idref" href="#la:387"><span class="id" title="binder">la</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="lwa:388" class="idref" href="#lwa:388"><span class="id" title="binder">lwa</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:387"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:385"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:386"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwa:388"><span class="id" title="variable">lwa</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:384"><span class="id" title="variable">lmem</span></a>).<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="unique_in_memoryL_dec" class="idref" href="#unique_in_memoryL_dec"><span class="id" title="instance">unique_in_memoryL_dec</span></a> (<a id="lmem:389" class="idref" href="#lmem:389"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:390" class="idref" href="#vmap:390"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="lwsrc:391" class="idref" href="#lwsrc:391"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="class">Decision</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_memoryL"><span class="id" title="definition">unique_in_memoryL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:389"><span class="id" title="variable">lmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:390"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:391"><span class="id" title="variable">lwsrc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">map_Forall_dec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">la</span> <span class="id" title="var">lwa</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">impl_dec</span>; <span class="id" title="var">solve_decision</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="unique_in_machineL" class="idref" href="#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lregs:392" class="idref" href="#lregs:392"><span class="id" title="binder">lregs</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lmem:393" class="idref" href="#lmem:393"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:394" class="idref" href="#vmap:394"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="src:395" class="idref" href="#src:395"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:396" class="idref" href="#lwsrc:396"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:392"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:395"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:396"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:392"><span class="id" title="variable">lregs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:395"><span class="id" title="variable">src</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:396"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_memoryL"><span class="id" title="definition">unique_in_memoryL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:393"><span class="id" title="variable">lmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:394"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:396"><span class="id" title="variable">lwsrc</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_in_registersL_mono" class="idref" href="#unique_in_registersL_mono"><span class="id" title="lemma">unique_in_registersL_mono</span></a><br/>
&nbsp;&nbsp;(<a id="lregs:397" class="idref" href="#lregs:397"><span class="id" title="binder">lregs</span></a> <a id="lr:398" class="idref" href="#lr:398"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="src:399" class="idref" href="#src:399"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:400" class="idref" href="#lwsrc:400"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:397"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:398"><span class="id" title="variable">lr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:398"><span class="id" title="variable">lr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:399"><span class="id" title="variable">src</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:400"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:397"><span class="id" title="variable">lregs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:399"><span class="id" title="variable">src</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:400"><span class="id" title="variable">lwsrc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hincl</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">lw</span> <span class="id" title="var">Hlregs_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hr</span> ; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlregs_r</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlregs_r</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <span class="id" title="lemma">decide_False</span> // <span class="id" title="tactic">in</span> <span class="id" title="var">Hlregs_r</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_in_machineL_insert_reg" class="idref" href="#unique_in_machineL_insert_reg"><span class="id" title="lemma">unique_in_machineL_insert_reg</span></a><br/>
&nbsp;&nbsp;(<a id="lr:401" class="idref" href="#lr:401"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:402" class="idref" href="#lm:402"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>)  (<a id="vmap:403" class="idref" href="#vmap:403"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:404" class="idref" href="#src:404"><span class="id" title="binder">src</span></a> <a id="r:405" class="idref" href="#r:405"><span class="id" title="binder">r</span></a>: <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:406" class="idref" href="#lwsrc:406"><span class="id" title="binder">lwsrc</span></a> <a id="lwr:407" class="idref" href="#lwr:407"><span class="id" title="binder">lwr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:405"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:404"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:401"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:404"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:406"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:406"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwr:407"><span class="id" title="variable">lwr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:401"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:402"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:403"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:404"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:406"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:405"><span class="id" title="variable">r</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwr:407"><span class="id" title="variable">lwr</span></a> <span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lr</span>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:402"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:403"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:404"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:406"><span class="id" title="variable">lwsrc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hr_neq_src</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hlr_r</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hunique</span> <span class="id" title="var">Hlr_src</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hunique</span> =&gt; [<span class="id" title="var">Hunique_reg</span> <span class="id" title="var">Hunique_src</span>] <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_insert_2</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_in_machineL_not_overlap_word" class="idref" href="#unique_in_machineL_not_overlap_word"><span class="id" title="lemma">unique_in_machineL_not_overlap_word</span></a><br/>
&nbsp;&nbsp;(<a id="lr:408" class="idref" href="#lr:408"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:409" class="idref" href="#lm:409"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:410" class="idref" href="#vmap:410"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:411" class="idref" href="#src:411"><span class="id" title="binder">src</span></a> <a id="r:412" class="idref" href="#r:412"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:413" class="idref" href="#lwsrc:413"><span class="id" title="binder">lwsrc</span></a> <a id="lwr:414" class="idref" href="#lwr:414"><span class="id" title="binder">lwr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:412"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:411"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:408"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:411"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:413"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:408"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:412"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwr:414"><span class="id" title="variable">lwr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:408"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:409"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:410"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:411"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:413"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:413"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwr:414"><span class="id" title="variable">lwr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hr_neq_src</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hlr_r</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hunique</span> <span class="id" title="var">Hlr_src</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hunique</span> =&gt; [<span class="id" title="var">Hunique_reg</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_reg</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_decide</span>; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_unique_in_registers" class="idref" href="#state_corresponds_unique_in_registers"><span class="id" title="lemma">state_corresponds_unique_in_registers</span></a><br/>
&nbsp;&nbsp;(<a id="phr:415" class="idref" href="#phr:415"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:416" class="idref" href="#phm:416"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:417" class="idref" href="#lr:417"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:418" class="idref" href="#lm:418"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:419" class="idref" href="#vmap:419"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:420" class="idref" href="#src:420"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:421" class="idref" href="#lwsrc:421"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:415"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:416"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:417"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:418"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:419"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:417"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:420"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:421"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.cap_lang.html#unique_in_registers"><span class="id" title="definition">unique_in_registers</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:415"><span class="id" title="variable">phr</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:421"><span class="id" title="variable">lwsrc</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:420"><span class="id" title="variable">src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:417"><span class="id" title="variable">lr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:420"><span class="id" title="variable">src</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:421"><span class="id" title="variable">lwsrc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; [<span class="id" title="var">Hreg_inv</span> <span class="id" title="var">Hmem_inv</span>] <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">r</span> <span class="id" title="var">lwr</span> <span class="id" title="var">Hlr_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hphr_r</span> : <span class="id" title="var">phr</span> <span class="id" title="notation">!!</span> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">lwr</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_corresponds_reg_get_word"><span class="id" title="axiom">state_corresponds_reg_get_word</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hphr_r</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hunique</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hphr_r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">src</span>)) ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlr_r</span>; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_corresponds_reg_get_word"><span class="id" title="axiom">state_corresponds_reg_get_word</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_corresponds_reg_get_word"><span class="id" title="axiom">state_corresponds_reg_get_word</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_corresponds_unique_in_memory" class="idref" href="#state_corresponds_unique_in_memory"><span class="id" title="lemma">state_corresponds_unique_in_memory</span></a><br/>
&nbsp;&nbsp;(<a id="phr:422" class="idref" href="#phr:422"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:423" class="idref" href="#phm:423"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:424" class="idref" href="#lr:424"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:425" class="idref" href="#lm:425"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:426" class="idref" href="#vmap:426"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:427" class="idref" href="#src:427"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:428" class="idref" href="#lwsrc:428"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:422"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:423"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:424"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:425"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:426"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:424"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:427"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:428"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.cap_lang.html#unique_in_memory"><span class="id" title="definition">unique_in_memory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:423"><span class="id" title="variable">phm</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:428"><span class="id" title="variable">lwsrc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_memoryL"><span class="id" title="definition">unique_in_memoryL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:425"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:426"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:428"><span class="id" title="variable">lwsrc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; [<span class="id" title="var">Hreg_inv</span> <span class="id" title="var">Hmem_inv</span>] <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; [<span class="id" title="var">a</span> <span class="id" title="var">v</span>] <span class="id" title="var">lw_la</span> <span class="id" title="var">Hlm_la</span> <span class="id" title="var">His_cur_la</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hphm_a</span> : <span class="id" title="var">phm</span> <span class="id" title="notation">!!</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">lw_la</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem_corresponds_get_word"><span class="id" title="axiom">lmem_corresponds_get_word</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hphm_a</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H'phm_a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hphm_a</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hunique</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hphm_a</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;link&nbsp;between<br/>
&nbsp;&nbsp;&nbsp;sweep&nbsp;of&nbsp;the&nbsp;physical&nbsp;machine<br/>
&nbsp;&nbsp;&nbsp;and&nbsp;unique_in_machine&nbsp;of&nbsp;logical&nbsp;memory&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="sweep_true_specL" class="idref" href="#sweep_true_specL"><span class="id" title="lemma">sweep_true_specL</span></a><br/>
&nbsp;&nbsp;(<a id="phr:429" class="idref" href="#phr:429"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:430" class="idref" href="#phm:430"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:431" class="idref" href="#lr:431"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:432" class="idref" href="#lm:432"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:433" class="idref" href="#vmap:433"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:434" class="idref" href="#src:434"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lwsrc:435" class="idref" href="#lwsrc:435"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:429"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:430"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:431"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:432"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:433"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:431"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:434"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:435"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.cap_lang.html#sweep_reg"><span class="id" title="definition">sweep_reg</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:430"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:429"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:434"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:431"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:432"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:433"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:434"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:435"><span class="id" title="variable">lwsrc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HLinv</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hsweep</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hphr_src</span> : <span class="id" title="var">phr</span> <span class="id" title="notation">!!</span> <span class="id" title="var">src</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">lwsrc</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_corresponds_reg_get_word"><span class="id" title="axiom">state_corresponds_reg_get_word</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.cap_lang.html#sweep_reg_spec"><span class="id" title="axiom">sweep_reg_spec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">wsrc</span> := (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">lwsrc</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsweep</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsweep</span> <span class="id" title="var">Hphr_src</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsweep</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hunique_reg</span> <span class="id" title="var">Hunique_mem</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_corresponds_unique_in_registers"><span class="id" title="axiom">state_corresponds_unique_in_registers</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_corresponds_unique_in_memory"><span class="id" title="axiom">state_corresponds_unique_in_memory</span></a> ]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="no_overlap_word_no_access_addrL" class="idref" href="#no_overlap_word_no_access_addrL"><span class="id" title="lemma">no_overlap_word_no_access_addrL</span></a><br/>
&nbsp;&nbsp;(<a id="p:436" class="idref" href="#p:436"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:437" class="idref" href="#b:437"><span class="id" title="binder">b</span></a> <a id="e:438" class="idref" href="#e:438"><span class="id" title="binder">e</span></a> <a id="a:439" class="idref" href="#a:439"><span class="id" title="binder">a</span></a> <a id="a':440" class="idref" href="#a':440"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:441" class="idref" href="#v:441"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:442" class="idref" href="#lw:442"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':440"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:437"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:438"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:436"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:437"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:438"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:439"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:441"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:442"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_access_addrL"><span class="id" title="definition">word_access_addrL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':440"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:442"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Ha'</span> <span class="id" title="var">Hno_overlap</span> <span class="id" title="var">Haccess</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hno_overlap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_access_addrL"><span class="id" title="definition">word_access_addrL</span></a> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_access_addr"><span class="id" title="definition">word_access_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Haccess</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> /<a class="idref" href="cap_machine.opsem.cap_lang.html#overlap_word"><span class="id" title="definition">overlap_word</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="cap_machine.opsem.cap_lang.html#get_scap"><span class="id" title="definition">get_scap</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">lw</span>)); <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p0</span> <span class="id" title="var">b0</span> <span class="id" title="var">e0</span> <span class="id" title="var">a0</span>|] ; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">b</span> <a class="idref" href="cap_machine.opsem.addr_reg.html#f9f0bbf7338c04b048aba7393b183966"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">b0</span>)%<span class="id" title="var">a</span> ; <span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_in_machine_no_accessL" class="idref" href="#unique_in_machine_no_accessL"><span class="id" title="lemma">unique_in_machine_no_accessL</span></a><br/>
&nbsp;&nbsp;(<a id="phm:443" class="idref" href="#phm:443"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:444" class="idref" href="#lm:444"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="lr:445" class="idref" href="#lr:445"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="vmap:446" class="idref" href="#vmap:446"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="p:447" class="idref" href="#p:447"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:448" class="idref" href="#b:448"><span class="id" title="binder">b</span></a> <a id="e:449" class="idref" href="#e:449"><span class="id" title="binder">e</span></a> <a id="a:450" class="idref" href="#a:450"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) ( <a id="v:451" class="idref" href="#v:451"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> ) (<a id="src:452" class="idref" href="#src:452"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:453" class="idref" href="#lw:453"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:443"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:444"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:446"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:453"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:447"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:448"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:449"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:450"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:451"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:445"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:452"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:453"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:453"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:446"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:445"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:444"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:446"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:452"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:453"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':454" class="idref" href="#a':454"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:444"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:446"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':454"><span class="id" title="variable">a'</span></a>) (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:448"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:449"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hmem_inv</span> <span class="id" title="var">Hlw</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">His_cur</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>; <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;1: <span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span>) <span class="id" title="var">vmap</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_lword_lea"><span class="id" title="axiom">is_cur_lword_lea</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lw</span> := <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#isWithin_refl"><span class="id" title="axiom">isWithin_refl</span></a>).<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealedCap"><span class="id" title="abbreviation">LSealedCap</span></a> <span class="id" title="var">o</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span>) <span class="id" title="var">vmap</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_lword_lea"><span class="id" title="axiom">is_cur_lword_lea</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lw</span> := <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#isWithin_refl"><span class="id" title="axiom">isWithin_refl</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcur_a'</span>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="abbreviation">vmap</span>).<br/>
&nbsp;&nbsp;1: { <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_lword_cur_addr"><span class="id" title="axiom">cur_lword_cur_addr</span></a>; [|<span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_lword_version"><span class="id" title="definition">is_lword_version</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#withinBounds_in_seq"><span class="id" title="axiom">withinBounds_in_seq</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;2: { <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_lword_cur_addr"><span class="id" title="axiom">cur_lword_cur_addr</span></a>; [|<span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_lword_version"><span class="id" title="definition">is_lword_version</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#withinBounds_in_seq"><span class="id" title="axiom">withinBounds_in_seq</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hunique</span> <span class="id" title="var">Hlr_src</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hunique</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hunique_reg</span> <span class="id" title="var">Hunique_mem</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_impl</span> ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hunique_mem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">move</span>=&gt; [<span class="id" title="var">a0</span> <span class="id" title="var">v0</span>] <span class="id" title="var">lw0</span> <span class="id" title="var">Hlast_v</span> <span class="id" title="var">Hcur_v0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#no_overlap_word_no_access_addrL"><span class="id" title="axiom">no_overlap_word_no_access_addrL</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hlast_v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="var">mem_corresponds_cur_addr_last_version_1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_in_registersL_twice" class="idref" href="#unique_in_registersL_twice"><span class="id" title="lemma">unique_in_registersL_twice</span></a><br/>
&nbsp;&nbsp;(<a id="rcode:455" class="idref" href="#rcode:455"><span class="id" title="binder">rcode</span></a> <a id="rdata:456" class="idref" href="#rdata:456"><span class="id" title="binder">rdata</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lregs:457" class="idref" href="#lregs:457"><span class="id" title="binder">lregs</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>)<br/>
&nbsp;&nbsp;<a id="p:458" class="idref" href="#p:458"><span class="id" title="binder">p</span></a> <a id="b:459" class="idref" href="#b:459"><span class="id" title="binder">b</span></a> <a id="e:460" class="idref" href="#e:460"><span class="id" title="binder">e</span></a> <a id="a:461" class="idref" href="#a:461"><span class="id" title="binder">a</span></a> <a id="v:462" class="idref" href="#v:462"><span class="id" title="binder">v</span></a><br/>
&nbsp;&nbsp;<a id="p':463" class="idref" href="#p':463"><span class="id" title="binder">p'</span></a> <a id="b':464" class="idref" href="#b':464"><span class="id" title="binder">b'</span></a> <a id="e':465" class="idref" href="#e':465"><span class="id" title="binder">e'</span></a> <a id="a':466" class="idref" href="#a':466"><span class="id" title="binder">a'</span></a> <a id="v':467" class="idref" href="#v':467"><span class="id" title="binder">v'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#rcode:455"><span class="id" title="variable">rcode</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#rdata:456"><span class="id" title="variable">rdata</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:457"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#rcode:455"><span class="id" title="variable">rcode</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:458"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:459"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:460"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:461"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:462"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:457"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#rdata:456"><span class="id" title="variable">rdata</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p':463"><span class="id" title="variable">p'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':464"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':465"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':466"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':467"><span class="id" title="variable">v'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:457"><span class="id" title="variable">lregs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#rcode:455"><span class="id" title="variable">rcode</span></a>) (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:458"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:459"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:460"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:461"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:462"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:457"><span class="id" title="variable">lregs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#rdata:456"><span class="id" title="variable">rdata</span></a>) (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p':463"><span class="id" title="variable">p'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':464"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':465"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':466"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':467"><span class="id" title="variable">v'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:459"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:460"><span class="id" title="variable">e</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">##</span> <span class="id" title="notation">(</span><a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':464"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':465"><span class="id" title="variable">e'</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Hrcode</span> <span class="id" title="var">Hrdata</span> <span class="id" title="var">Hunique_code</span> <span class="id" title="var">Hunique_data</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_code</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_data</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_code</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hrdata</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_data</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hrcode</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> // <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_code</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> // <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_data</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> /<a class="idref" href="cap_machine.opsem.cap_lang.html#overlap_word"><span class="id" title="definition">overlap_word</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_code</span>, <span class="id" title="var">Hunique_data</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>, <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<span class="id" title="var">b</span> <a class="idref" href="cap_machine.opsem.addr_reg.html#f9f0bbf7338c04b048aba7393b183966"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">b'</span>)%<span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hbb'</span>; <span class="id" title="var">solve_finz</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>
</div>

<div class="doc">
Machinery to update the lmemory 
<div class="paragraph"> </div>

 Machinery to update the memory for a given version,
    without knowing the view map 
</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;Update&nbsp;the&nbsp;lmemory&nbsp;for&nbsp;the&nbsp;address&nbsp;a.<br/>
&nbsp;&nbsp;&nbsp;Note&nbsp;that&nbsp;llmem&nbsp;might&nbsp;not&nbsp;contain&nbsp;(a,v),<br/>
&nbsp;&nbsp;&nbsp;because&nbsp;llmem&nbsp;is&nbsp;only&nbsp;a&nbsp;*local*&nbsp;view&nbsp;of&nbsp;the&nbsp;actual&nbsp;lmemory.<br/>
&nbsp;&nbsp;&nbsp;For&nbsp;this&nbsp;reason,&nbsp;we&nbsp;take&nbsp;the&nbsp;new&nbsp;values&nbsp;from&nbsp;global&nbsp;view&nbsp;glmem.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="update_version_addr" class="idref" href="#update_version_addr"><span class="id" title="definition">update_version_addr</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:468" class="idref" href="#glmem:468"><span class="id" title="binder">glmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:469" class="idref" href="#a:469"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:470" class="idref" href="#v:470"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="llmem:471" class="idref" href="#llmem:471"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>): <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:468"><span class="id" title="variable">glmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:469"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:470"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">lw</span> =&gt; <span class="id" title="notation">&lt;[</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:469"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:470"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:=</span> <span class="id" title="var">lw</span> <span class="id" title="notation">]&gt;</span> <span class="id" title="notation">llmem</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:471"><span class="id" title="variable">llmem</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Update&nbsp;the&nbsp;lmemory&nbsp;region&nbsp;for&nbsp;a&nbsp;given&nbsp;lregion.<br/>
&nbsp;&nbsp;&nbsp;Note&nbsp;that&nbsp;it&nbsp;only&nbsp;updates&nbsp;the&nbsp;*local*&nbsp;view&nbsp;of&nbsp;the&nbsp;lmemory,<br/>
&nbsp;&nbsp;&nbsp;which&nbsp;might&nbsp;not&nbsp;contain&nbsp;some&nbsp;of&nbsp;the&nbsp;addresses&nbsp;in&nbsp;la.<br/>
&nbsp;&nbsp;&nbsp;For&nbsp;this&nbsp;reason,&nbsp;we&nbsp;take&nbsp;the&nbsp;new&nbsp;values&nbsp;from&nbsp;global&nbsp;view&nbsp;glmem.<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="update_version_region" class="idref" href="#update_version_region"><span class="id" title="definition">update_version_region</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:472" class="idref" href="#glmem:472"><span class="id" title="binder">glmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:473" class="idref" href="#la:473"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:474" class="idref" href="#v:474"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="llmem:475" class="idref" href="#llmem:475"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">foldr</span> (<span class="id" title="keyword">fun</span> <a id="a:476" class="idref" href="#a:476"><span class="id" title="binder">a</span></a> <a id="lmem':477" class="idref" href="#lmem':477"><span class="id" title="binder">lmem'</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:472"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:476"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:474"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem':477"><span class="id" title="variable">lmem'</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:475"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:473"><span class="id" title="variable">la</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="update_version_addr_vmap" class="idref" href="#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a><br/>
&nbsp;&nbsp;(<a id="a:478" class="idref" href="#a:478"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:479" class="idref" href="#v:479"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="vmap:480" class="idref" href="#vmap:480"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">&lt;[</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:478"><span class="id" title="variable">a</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:479"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1 <span class="id" title="notation">]&gt;</span> <span class="id" title="notation">vmap</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="update_version_region_vmap" class="idref" href="#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a><br/>
&nbsp;&nbsp;(<a id="la:481" class="idref" href="#la:481"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:482" class="idref" href="#v:482"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="vmap:483" class="idref" href="#vmap:483"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">foldr</span> (<span class="id" title="keyword">fun</span> <a id="a:484" class="idref" href="#a:484"><span class="id" title="binder">a</span></a> <a id="vm:485" class="idref" href="#vm:485"><span class="id" title="binder">vm</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:484"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:482"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vm:485"><span class="id" title="variable">vm</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:483"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:481"><span class="id" title="variable">la</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_lookup" class="idref" href="#update_version_addr_lookup"><span class="id" title="lemma">update_version_addr_lookup</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:486" class="idref" href="#glmem:486"><span class="id" title="binder">glmem</span></a> <a id="llmem:487" class="idref" href="#llmem:487"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:488" class="idref" href="#a:488"><span class="id" title="binder">a</span></a> <a id="a':489" class="idref" href="#a':489"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:490" class="idref" href="#v:490"><span class="id" title="binder">v</span></a> <a id="v':491" class="idref" href="#v':491"><span class="id" title="binder">v'</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw':492" class="idref" href="#lw':492"><span class="id" title="binder">lw'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:487"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':489"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':491"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw':492"><span class="id" title="variable">lw'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:487"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:488"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:490"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:486"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:488"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:490"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:487"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':489"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':491"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw':492"><span class="id" title="variable">lw'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlw'</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hglm</span>;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="var">simplify_map_eq</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmax</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw'</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_vmap_lookup" class="idref" href="#update_version_region_vmap_lookup"><span class="id" title="lemma">update_version_region_vmap_lookup</span></a> {<a id="vmap:493" class="idref" href="#vmap:493"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>} {<a id="v:494" class="idref" href="#v:494"><span class="id" title="binder">v</span></a> <a id="la:495" class="idref" href="#la:495"><span class="id" title="binder">la</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:495"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:496" class="idref" href="#a:496"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:496"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:495"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:495"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:494"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:493"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:496"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:494"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnd</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'</span> <span class="id" title="keyword">as</span> [-&gt;|<span class="id" title="var">Ha'</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="lemma">NoDup_cons_1_2</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">NoDup_cons_1_1</span> <span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">Hnd</span> <span class="id" title="var">Ha'</span>).<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_lookup_neq" class="idref" href="#update_version_addr_lookup_neq"><span class="id" title="lemma">update_version_addr_lookup_neq</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:497" class="idref" href="#glmem:497"><span class="id" title="binder">glmem</span></a> <a id="llmem:498" class="idref" href="#llmem:498"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:499" class="idref" href="#a:499"><span class="id" title="binder">a</span></a> <a id="a':500" class="idref" href="#a':500"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:501" class="idref" href="#v:501"><span class="id" title="binder">v</span></a> <a id="v':502" class="idref" href="#v':502"><span class="id" title="binder">v'</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:499"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':500"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:497"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:499"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:501"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:498"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':500"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':502"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:498"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':500"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':502"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //=; <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_mono" class="idref" href="#update_version_addr_mono"><span class="id" title="lemma">update_version_addr_mono</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:503" class="idref" href="#glmem:503"><span class="id" title="binder">glmem</span></a> <a id="lmem1:504" class="idref" href="#lmem1:504"><span class="id" title="binder">lmem1</span></a> <a id="lmem2:505" class="idref" href="#lmem2:505"><span class="id" title="binder">lmem2</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:506" class="idref" href="#a:506"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:507" class="idref" href="#v:507"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem1:504"><span class="id" title="variable">lmem1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem2:505"><span class="id" title="variable">lmem2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:503"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:506"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:507"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem1:504"><span class="id" title="variable">lmem1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:503"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:506"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:507"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem2:505"><span class="id" title="variable">lmem2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lw</span>|]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">insert_mono</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_mono" class="idref" href="#update_version_region_mono"><span class="id" title="lemma">update_version_region_mono</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:508" class="idref" href="#glmem:508"><span class="id" title="binder">glmem</span></a> <a id="lmem1:509" class="idref" href="#lmem1:509"><span class="id" title="binder">lmem1</span></a> <a id="lmem2:510" class="idref" href="#lmem2:510"><span class="id" title="binder">lmem2</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:511" class="idref" href="#la:511"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:512" class="idref" href="#v:512"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem1:509"><span class="id" title="variable">lmem1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem2:510"><span class="id" title="variable">lmem2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:508"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:511"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:512"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem1:509"><span class="id" title="variable">lmem1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:508"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:511"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:512"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem2:510"><span class="id" title="variable">lmem2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hincl</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincl</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHla</span> ; <span class="id" title="tactic">rename</span> <span class="id" title="var">Hincl</span> <span class="id" title="var">into</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">lmem1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">lmem2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_mono"><span class="id" title="axiom">update_version_addr_mono</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_preserves_lmem" class="idref" href="#update_version_region_preserves_lmem"><span class="id" title="lemma">update_version_region_preserves_lmem</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:513" class="idref" href="#glmem:513"><span class="id" title="binder">glmem</span></a> <a id="llmem:514" class="idref" href="#llmem:514"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:515" class="idref" href="#la:515"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:516" class="idref" href="#a:516"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:517" class="idref" href="#v:517"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:513"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:515"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:517"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:514"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:516"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:517"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:514"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:516"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:517"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a'</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> /=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lwa</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlwa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //=; <span class="id" title="var">last</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHla</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_notin_preserves_lmem" class="idref" href="#update_version_region_notin_preserves_lmem"><span class="id" title="lemma">update_version_region_notin_preserves_lmem</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:518" class="idref" href="#glmem:518"><span class="id" title="binder">glmem</span></a> <a id="llmem:519" class="idref" href="#llmem:519"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:520" class="idref" href="#la:520"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':521" class="idref" href="#a':521"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:522" class="idref" href="#v:522"><span class="id" title="binder">v</span></a> <a id="v':523" class="idref" href="#v':523"><span class="id" title="binder">v'</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':521"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:520"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:518"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:520"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:522"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:519"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':521"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':523"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:519"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':521"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':523"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Ha'_notin_la</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> /=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">llmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">IH</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHla</span> ; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lwa</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlwa</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //=; <span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_preserves_lmem_next" class="idref" href="#update_version_region_preserves_lmem_next"><span class="id" title="lemma">update_version_region_preserves_lmem_next</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:524" class="idref" href="#glmem:524"><span class="id" title="binder">glmem</span></a> <a id="llmem:525" class="idref" href="#llmem:525"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:526" class="idref" href="#la:526"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':527" class="idref" href="#a':527"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:528" class="idref" href="#v:528"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:526"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':527"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:526"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:525"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':527"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:528"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:524"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:526"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:528"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:525"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':527"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:528"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:524"><span class="id" title="variable">glmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':527"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:528"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="var">Hlmem_next</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">first</span> (<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> /=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Ha'_in_la</span>] ; <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lwa</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlwa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">IH</span> <span class="id" title="tactic">by</span> (<span class="id" title="var">erewrite</span> <span class="id" title="var">IHla</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lwa</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlwa</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //= ; <span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_updated_incl" class="idref" href="#update_version_addr_updated_incl"><span class="id" title="lemma">update_version_addr_updated_incl</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:529" class="idref" href="#glmem:529"><span class="id" title="binder">glmem</span></a> <a id="llmem:530" class="idref" href="#llmem:530"><span class="id" title="binder">llmem</span></a> <a id="llmem':531" class="idref" href="#llmem':531"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:532" class="idref" href="#la:532"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:533" class="idref" href="#a:533"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:534" class="idref" href="#v:534"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:529"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:532"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:534"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:530"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:533"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:534"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:529"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:533"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:534"><span class="id" title="variable">v</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:529"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:532"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:534"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:530"><span class="id" title="variable">llmem</span></a>) <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':531"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:529"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:532"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:534"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:530"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':531"><span class="id" title="variable">llmem'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hupd_max</span> <span class="id" title="var">Hupd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hupd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hupd_a</span><br/>
&nbsp;&nbsp;; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.utils.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hupd</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_insert" class="idref" href="#update_version_addr_insert"><span class="id" title="lemma">update_version_addr_insert</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:535" class="idref" href="#glmem:535"><span class="id" title="binder">glmem</span></a> <a id="lmem:536" class="idref" href="#lmem:536"><span class="id" title="binder">lmem</span></a> <a id="lmem':537" class="idref" href="#lmem':537"><span class="id" title="binder">lmem'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:538" class="idref" href="#a:538"><span class="id" title="binder">a</span></a> <a id="a':539" class="idref" href="#a':539"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:540" class="idref" href="#v:540"><span class="id" title="binder">v</span></a> <a id="v':541" class="idref" href="#v':541"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="la:542" class="idref" href="#la:542"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lw:543" class="idref" href="#lw:543"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:536"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':539"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':541"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:535"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:538"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:540"><span class="id" title="variable">v</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:535"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:542"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:540"><span class="id" title="variable">v</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':539"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':541"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:543"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lmem</span>)) <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem':537"><span class="id" title="variable">lmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:535"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:542"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:540"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:536"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem':537"><span class="id" title="variable">lmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:535"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:538"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:540"><span class="id" title="variable">v</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:535"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:542"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:540"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:536"><span class="id" title="variable">lmem</span></a>) <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem':537"><span class="id" title="variable">lmem'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlmem_None</span> <span class="id" title="var">Hupd</span> <span class="id" title="var">Hupd_mem_incl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hupd</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hupd_a</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">insert_subseteq_l</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_insert</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_insert" class="idref" href="#update_version_region_insert"><span class="id" title="lemma">update_version_region_insert</span></a> (<a id="glmem:544" class="idref" href="#glmem:544"><span class="id" title="binder">glmem</span></a> <a id="llmem:545" class="idref" href="#llmem:545"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:546" class="idref" href="#a:546"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="la:547" class="idref" href="#la:547"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:548" class="idref" href="#v:548"><span class="id" title="binder">v</span></a> <a id="v':549" class="idref" href="#v':549"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:550" class="idref" href="#lw:550"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:546"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:547"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:546"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:548"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:550"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">(</span><span class="id" title="notation">update_version_region</span> <span class="id" title="notation">glmem</span> <span class="id" title="notation">la</span> <span class="id" title="notation">v'</span> <span class="id" title="notation">llmem</span><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:546"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:548"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:550"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">glmem</span>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:547"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':549"><span class="id" title="variable">v'</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:546"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:548"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:550"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">llmem</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">lw</span> <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">lw</span> <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">Ha'</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v'</span> <span class="id" title="var">llmem</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span><span class="id" title="var">lw</span><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">glmem</span>) <span class="id" title="var">la</span> <span class="id" title="var">v'</span> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span><span class="id" title="var">lw</span><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">llmem</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>; <span class="id" title="var">last</span> (<span class="id" title="tactic">intro</span>; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">set_solver</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ( <span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ) <span class="id" title="var">eqn</span>:<span class="id" title="var">Ha_glmem</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha_glmem</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insert_commute</span>; <span class="id" title="var">last</span> (<span class="id" title="tactic">intro</span>; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">set_solver</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHla</span>; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHla</span>; <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_insert_subseteq" class="idref" href="#update_version_region_insert_subseteq"><span class="id" title="lemma">update_version_region_insert_subseteq</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:551" class="idref" href="#glmem:551"><span class="id" title="binder">glmem</span></a> <a id="lmem:552" class="idref" href="#lmem:552"><span class="id" title="binder">lmem</span></a> <a id="lmem':553" class="idref" href="#lmem':553"><span class="id" title="binder">lmem'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:554" class="idref" href="#la:554"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':555" class="idref" href="#a':555"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:556" class="idref" href="#v:556"><span class="id" title="binder">v</span></a> <a id="v':557" class="idref" href="#v':557"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:558" class="idref" href="#lw:558"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:554"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':555"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:554"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:552"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':555"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':557"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:559" class="idref" href="#a:559"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:552"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:559"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:556"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:554"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:551"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:554"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:556"><span class="id" title="variable">v</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':555"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':557"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:558"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lmem</span>) <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem':553"><span class="id" title="variable">lmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:551"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:554"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:556"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:552"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem':553"><span class="id" title="variable">lmem'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">lmem</span> <span class="id" title="var">lmem'</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Ha'_notin_la</span> <span class="id" title="var">Hlmem_None</span> <span class="id" title="var">HmaxMap</span> <span class="id" title="var">Hupd</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">insert_delete_subseteq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hupd</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_subseteq_spec</span> ; <span class="id" title="tactic">intros</span> [<span class="id" title="var">a0</span> <span class="id" title="var">v0</span>] <span class="id" title="var">lw0</span> <span class="id" title="var">Hlw0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw0</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hneq</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_map_eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw0</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span><span class="id" title="var">lw</span><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lmem</span>) <span class="id" title="var">la</span> <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hupd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">lmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_insert"><span class="id" title="axiom">update_version_addr_insert</span></a> ; <span class="id" title="var">cycle</span> 1 ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHla</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">a'</span> := <span class="id" title="var">a'</span>) (<span class="id" title="var">v'</span> := <span class="id" title="var">v'</span>) (<span class="id" title="var">lw</span> := <span class="id" title="var">lw</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_updated_incl"><span class="id" title="axiom">update_version_addr_updated_incl</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //=; <span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_insert_inv" class="idref" href="#update_version_region_insert_inv"><span class="id" title="lemma">update_version_region_insert_inv</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:560" class="idref" href="#glmem:560"><span class="id" title="binder">glmem</span></a> <a id="lmem:561" class="idref" href="#lmem:561"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:562" class="idref" href="#la:562"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':563" class="idref" href="#a':563"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:564" class="idref" href="#v:564"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:565" class="idref" href="#lw:565"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:562"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:561"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':563"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:564"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:566" class="idref" href="#a:566"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:561"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:566"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:564"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:562"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:560"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:562"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:564"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:561"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">⊆</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:560"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:562"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:564"><span class="id" title="variable">v</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':563"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:564"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:565"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lmem</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">glmem</span> <span class="id" title="var">lmem</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Hlmem_None</span> <span class="id" title="var">HmaxMap</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">insert_subseteq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -!/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHla</span> <span class="id" title="var">glmem</span> <span class="id" title="var">lmem</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">lw</span> <span class="id" title="var">HNoDup_la</span> <span class="id" title="var">Hlmem_None</span> <span class="id" title="var">HmaxMap</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">insert_mono</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_notin_preserves_cur" class="idref" href="#update_version_addr_notin_preserves_cur"><span class="id" title="lemma">update_version_addr_notin_preserves_cur</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:567" class="idref" href="#vmap:567"><span class="id" title="binder">vmap</span></a> <a id="vmap':568" class="idref" href="#vmap':568"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:569" class="idref" href="#a:569"><span class="id" title="binder">a</span></a> <a id="a':570" class="idref" href="#a':570"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:571" class="idref" href="#v:571"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':568"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':570"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:571"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:567"><span class="id" title="variable">vmap</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:569"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':570"><span class="id" title="variable">a'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':568"><span class="id" title="variable">vmap'</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:569"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:567"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:569"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; -&gt; <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_notin_preserves_cur" class="idref" href="#update_version_region_notin_preserves_cur"><span class="id" title="lemma">update_version_region_notin_preserves_cur</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">(</span></a><a id="vmap:572" class="idref" href="#vmap:572"><span class="id" title="binder">vmap</span></a> <a id="vmap':573" class="idref" href="#vmap':573"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="la:574" class="idref" href="#la:574"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:575" class="idref" href="#a:575"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:576" class="idref" href="#v:576"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':573"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:574"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:576"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:572"><span class="id" title="variable">vmap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:575"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:574"><span class="id" title="variable">la</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':573"><span class="id" title="variable">vmap'</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:575"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:572"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:575"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">vmap</span> <span class="id" title="var">vmap'</span> <span class="id" title="var">la</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">vmap</span> <span class="id" title="var">vmap'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IH</span>]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Hupd</span> <span class="id" title="var">Ha_notin_la</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">first</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_eq</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hupd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">vmap0</span> := <span class="id" title="abbreviation">foldr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="a:577" class="idref" href="#a:577"><span class="id" title="binder"><span id="a:579" class="id">a</span></span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="vm:578" class="idref" href="#vm:578"><span class="id" title="binder"><span id="vm:580" class="id">vm</span></span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:577"><span class="id" title="variable">a</span></a> <span class="id" title="var">v</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vm:578"><span class="id" title="variable">vm</span></a>) <span class="id" title="var">vmap</span> <span class="id" title="var">la</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">vmap</span> <span class="id" title="notation">!!</span> <span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">vmap0</span> <span class="id" title="notation">!!</span> <span class="id" title="var">a0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hcur0</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">symmetry</span> ; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span> ; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcur0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_notin_preserves_cur"><span class="id" title="axiom">update_version_addr_notin_preserves_cur</span></a>; <span class="id" title="var">cycle</span> 1 ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_notin_is_cur_word" class="idref" href="#update_version_notin_is_cur_word"><span class="id" title="lemma">update_version_notin_is_cur_word</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:581" class="idref" href="#vmap:581"><span class="id" title="binder">vmap</span></a> <a id="vmap':582" class="idref" href="#vmap':582"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="p:583" class="idref" href="#p:583"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:584" class="idref" href="#b:584"><span class="id" title="binder">b</span></a> <a id="e:585" class="idref" href="#e:585"><span class="id" title="binder">e</span></a> <a id="a:586" class="idref" href="#a:586"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:587" class="idref" href="#v:587"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>)<br/>
&nbsp;&nbsp;(<a id="lw:588" class="idref" href="#lw:588"><span class="id" title="binder">lw</span></a> <a id="lwsrc:589" class="idref" href="#lwsrc:589"><span class="id" title="binder">lwsrc</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:589"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:583"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:584"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:585"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:586"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:587"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':582"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:584"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:585"><span class="id" title="variable">e</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:587"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:581"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:589"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:588"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:588"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:581"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:588"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':582"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hget</span> <span class="id" title="var">Hupd</span> <span class="id" title="var">Hno_overlap</span> <span class="id" title="var">His_cur_lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> <span class="id" title="var">a'0</span> <span class="id" title="var">Ha'0</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">His_cur_lw</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">His_cur_lw</span> <span class="id" title="var">a'0</span> <span class="id" title="var">Ha'0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Ha'0_cur</span><br/>
&nbsp;&nbsp;; (<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_notin_preserves_cur"><span class="id" title="axiom">update_version_region_notin_preserves_cur</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'0_cur</span>; <span class="id" title="tactic">eauto</span>)<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#not_overlap_wordL_seq_between"><span class="id" title="axiom">not_overlap_wordL_seq_between</span></a>; [| | <span class="id" title="tactic">eauto</span>..].<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_lreg_corresponds_src" class="idref" href="#update_version_region_lreg_corresponds_src"><span class="id" title="lemma">update_version_region_lreg_corresponds_src</span></a><br/>
&nbsp;&nbsp;(<a id="phr:590" class="idref" href="#phr:590"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:591" class="idref" href="#phm:591"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:592" class="idref" href="#lr:592"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lmem:593" class="idref" href="#lmem:593"><span class="id" title="binder">lmem</span></a> <a id="lm:594" class="idref" href="#lm:594"><span class="id" title="binder">lm</span></a> <a id="lmem':595" class="idref" href="#lmem':595"><span class="id" title="binder">lmem'</span></a> <a id="lm':596" class="idref" href="#lm':596"><span class="id" title="binder">lm'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:597" class="idref" href="#vmap:597"><span class="id" title="binder">vmap</span></a> <a id="vmap':598" class="idref" href="#vmap':598"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:599" class="idref" href="#src:599"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="p:600" class="idref" href="#p:600"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:601" class="idref" href="#b:601"><span class="id" title="binder">b</span></a> <a id="e:602" class="idref" href="#e:602"><span class="id" title="binder">e</span></a> <a id="a:603" class="idref" href="#a:603"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) ( <a id="v:604" class="idref" href="#v:604"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> ) (<a id="lwsrc:605" class="idref" href="#lwsrc:605"><span class="id" title="binder">lwsrc</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:590"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:591"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:592"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:594"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:597"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:605"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:600"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:601"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:602"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:603"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:604"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:605"><span class="id" title="variable">lwsrc</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':598"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:592"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:599"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:605"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:592"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:594"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:597"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:599"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:605"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':598"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:601"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:602"><span class="id" title="variable">e</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:604"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:597"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:599"><span class="id" title="variable">src</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:605"><span class="id" title="variable">lwsrc</span></a>)<span class="id" title="notation">]&gt;</span> <span class="id" title="notation">phr</span>) (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:599"><span class="id" title="variable">src</span></a><span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:605"><span class="id" title="variable">lwsrc</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lr</span>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':598"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt;  [<span class="id" title="var">Hreg_inv</span> <span class="id" title="var">Hmem_inv</span>] <span class="id" title="var">Hget</span> <span class="id" title="var">Hcur_lw</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hunique</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">vmap'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="lemma">fmap_insert</span> /= -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="var">lr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">replace</span> <span class="id" title="var">phr</span> <span class="id" title="keyword">with</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="var">lr</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreg_inv</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">_</span>]).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">insert_delete_insert</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_corresponds_insert_respects"><span class="id" title="axiom">lreg_corresponds_insert_respects</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">phr</span> := (<span class="id" title="definition">delete</span> <span class="id" title="var">src</span> <span class="id" title="var">phr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: {  <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hreg_inv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hstrip</span> <span class="id" title="var">Hcur_reg</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="lemma">fmap_delete</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="var">lr</span>) <span class="id" title="var">Hstrip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">lw'</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">src</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hunique</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlr_src</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hunique_reg</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_reg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_reg</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_reg</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_reg</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_notin_is_cur_word"><span class="id" title="axiom">update_version_notin_is_cur_word</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_lreg_corresponds_src'" class="idref" href="#update_version_region_lreg_corresponds_src'"><span class="id" title="lemma">update_version_region_lreg_corresponds_src'</span></a><br/>
&nbsp;&nbsp;(<a id="phr:606" class="idref" href="#phr:606"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:607" class="idref" href="#phm:607"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:608" class="idref" href="#lr:608"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:609" class="idref" href="#lm:609"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:610" class="idref" href="#vmap:610"><span class="id" title="binder">vmap</span></a> <a id="vmap':611" class="idref" href="#vmap':611"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:612" class="idref" href="#src:612"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="p:613" class="idref" href="#p:613"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:614" class="idref" href="#b:614"><span class="id" title="binder">b</span></a> <a id="e:615" class="idref" href="#e:615"><span class="id" title="binder">e</span></a> <a id="a:616" class="idref" href="#a:616"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) ( <a id="v:617" class="idref" href="#v:617"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> ) (<a id="lwsrc:618" class="idref" href="#lwsrc:618"><span class="id" title="binder">lwsrc</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:606"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:607"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:608"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:609"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:610"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:618"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:613"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:614"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:615"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:616"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:617"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:618"><span class="id" title="variable">lwsrc</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':611"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:608"><span class="id" title="variable">lr</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:612"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:618"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_machineL"><span class="id" title="definition">unique_in_machineL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:608"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:609"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:610"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:612"><span class="id" title="variable">src</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:618"><span class="id" title="variable">lwsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':611"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:614"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:615"><span class="id" title="variable">e</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:617"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:610"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:606"><span class="id" title="variable">phr</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:612"><span class="id" title="variable">src</span></a><span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwsrc:618"><span class="id" title="variable">lwsrc</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">lr</span>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':611"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">HLinv</span> <span class="id" title="var">Hget</span> <span class="id" title="var">Hcur_lw</span> <span class="id" title="var">Hlr_src</span> <span class="id" title="var">Hunique</span> <span class="id" title="var">Hupd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="var">phr</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="notation">&lt;[</span><span class="id" title="var">src</span><span class="id" title="notation">:=(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <span class="id" title="var">lwsrc</span>)<span class="id" title="notation">)]&gt;</span> <span class="id" title="notation">phr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_lreg_corresponds_src"><span class="id" title="axiom">update_version_region_lreg_corresponds_src</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insert_id</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word_next_version"><span class="id" title="axiom">lword_get_word_next_version</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_corresponds_reg_get_word"><span class="id" title="axiom">state_corresponds_reg_get_word</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_word_region_update_lword" class="idref" href="#update_version_word_region_update_lword"><span class="id" title="lemma">update_version_word_region_update_lword</span></a> {<a id="vmap:619" class="idref" href="#vmap:619"><span class="id" title="binder">vmap</span></a> <a id="vmap':620" class="idref" href="#vmap':620"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>} {<a id="lw:621" class="idref" href="#lw:621"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>} {<a id="p:622" class="idref" href="#p:622"><span class="id" title="binder">p</span></a> <a id="b:623" class="idref" href="#b:623"><span class="id" title="binder">b</span></a> <a id="e:624" class="idref" href="#e:624"><span class="id" title="binder">e</span></a> <a id="a:625" class="idref" href="#a:625"><span class="id" title="binder">a</span></a> <a id="v:626" class="idref" href="#v:626"><span class="id" title="binder">v</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#get_wlcap_slcap"><span class="id" title="definition">get_wlcap_slcap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:621"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:622"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:623"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:624"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:625"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:626"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:623"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:624"><span class="id" title="variable">e</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:626"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:619"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':620"><span class="id" title="variable">vmap'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:621"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:619"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#next_version_lword"><span class="id" title="definition">next_version_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:621"><span class="id" title="variable">lw</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':620"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hgclw</span> &lt;- <span class="id" title="var">Hcw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lw</span> <span class="id" title="keyword">as</span> [|[*|]|<span class="id" title="var">f</span> [*|*]]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hgclw</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap_lookup"><span class="id" title="axiom">update_version_region_vmap_lookup</span></a>, <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_NoDup"><span class="id" title="lemma">finz_seq_between_NoDup</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_preserves_mem_current_version" class="idref" href="#update_version_addr_preserves_mem_current_version"><span class="id" title="lemma">update_version_addr_preserves_mem_current_version</span></a><br/>
&nbsp;&nbsp;(<a id="lm:627" class="idref" href="#lm:627"><span class="id" title="binder">lm</span></a> <a id="lm':628" class="idref" href="#lm':628"><span class="id" title="binder">lm'</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:629" class="idref" href="#vmap:629"><span class="id" title="binder">vmap</span></a> <a id="vmap':630" class="idref" href="#vmap':630"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:631" class="idref" href="#a:631"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) <a id="v:632" class="idref" href="#v:632"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:627"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:631"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:632"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:631"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:632"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:629"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':628"><span class="id" title="variable">lm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:627"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:631"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:632"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:627"><span class="id" title="variable">lm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':630"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:631"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:632"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:629"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:627"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:629"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:631"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:627"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:629"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':628"><span class="id" title="variable">lm'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':630"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hmaxv</span> <span class="id" title="var">Hcur_addr</span> -&gt; -&gt; <span class="id" title="var">Hnaccess_mem</span> <span class="id" title="var">Hdom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdom</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lm</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lw</span> |] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hla</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_insert</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> (<span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [|<span class="id" title="tactic">split</span>] ; <span class="id" title="var">cbn</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr_insert"><span class="id" title="axiom">is_cur_addr_insert</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_impl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">la'</span> <span class="id" title="var">lw'</span> <span class="id" title="var">Hlegal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlegal</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v'</span> &amp; <span class="id" title="var">Hcur_la'</span> &amp; <span class="id" title="var">Hcurv'_max</span> &amp; <span class="id" title="var">Hsome_la'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <span class="id" title="var">la'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span>|<span class="id" title="var">Hneq</span>] ; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [|<span class="id" title="tactic">split</span>] ; <span class="id" title="var">cbn</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr_insert"><span class="id" title="axiom">is_cur_addr_insert</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr_same"><span class="id" title="axiom">is_cur_addr_same</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span> ; <span class="id" title="tactic">eauto</span> ; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">cur_v'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [|<span class="id" title="tactic">split</span>] ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_la'</span> |- * ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span> ; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Heq</span> ; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr_same"><span class="id" title="axiom">is_cur_addr_same</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span> ; <span class="id" title="tactic">eauto</span> ; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_impl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">la'</span> <span class="id" title="var">lw'</span> <span class="id" title="var">Hlegal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlegal</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v'</span> &amp; <span class="id" title="var">Hcur_la'</span> &amp; <span class="id" title="var">Hcurv'_max</span> &amp; <span class="id" title="var">Hsome_la'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">cur_v'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [|<span class="id" title="tactic">split</span>] ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <span class="id" title="var">la'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hneq_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> ; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome_la'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr_same"><span class="id" title="axiom">is_cur_addr_same</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span> ; <span class="id" title="tactic">eauto</span> ; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_la'</span> |- * ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_cur_version_notin_is_cur_word" class="idref" href="#update_cur_version_notin_is_cur_word"><span class="id" title="lemma">update_cur_version_notin_is_cur_word</span></a><br/>
&nbsp;&nbsp;(<a id="lm:633" class="idref" href="#lm:633"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:634" class="idref" href="#vmap:634"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:635" class="idref" href="#a:635"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:636" class="idref" href="#v:636"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:637" class="idref" href="#lw:637"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:633"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:634"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:635"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:633"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:635"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:636"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:637"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:635"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:636"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:634"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:637"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:634"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:637"><span class="id" title="variable">lw</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:635"><span class="id" title="variable">a</span></a><span class="id" title="notation">:=</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:636"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<span class="id" title="notation">]&gt;</span> <span class="id" title="notation">vmap</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hno_access</span> <span class="id" title="var">Hlm</span> <span class="id" title="var">Hcur</span> <span class="id" title="var">His_cur_lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">His_cur_lw</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">His_cur_lw</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Ha'_cur</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlm</span> ; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hlm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">assert</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">a'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hneq</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> ; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_preserves_mem_vmap_root" class="idref" href="#update_version_addr_preserves_mem_vmap_root"><span class="id" title="lemma">update_version_addr_preserves_mem_vmap_root</span></a><br/>
&nbsp;&nbsp;(<a id="phm:638" class="idref" href="#phm:638"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:639" class="idref" href="#lm:639"><span class="id" title="binder">lm</span></a> <a id="lm':640" class="idref" href="#lm':640"><span class="id" title="binder">lm'</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:641" class="idref" href="#vmap:641"><span class="id" title="binder">vmap</span></a> <a id="vmap':642" class="idref" href="#vmap':642"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:643" class="idref" href="#a:643"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) <a id="v:644" class="idref" href="#v:644"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:639"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:643"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:644"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:643"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:644"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:641"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':640"><span class="id" title="variable">lm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:639"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:643"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:644"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:639"><span class="id" title="variable">lm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':642"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:643"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:644"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:641"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:639"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:641"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:643"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:639"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:641"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:638"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:639"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:641"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:638"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':640"><span class="id" title="variable">lm'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':642"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hmax</span> <span class="id" title="var">Hcur_addr</span> -&gt; -&gt; <span class="id" title="var">Hnaccess_mem</span> <span class="id" title="var">Hdom</span> <span class="id" title="var">Hroot</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lm</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lw</span> |] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hla</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hla</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_access_addrL"><span class="id" title="definition">word_access_addrL</span></a> <span class="id" title="var">a</span> <span class="id" title="var">lw</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hnaccess</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hla'</span> := <span class="id" title="var">Hla</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla'</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hla'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">va</span> &amp; <span class="id" title="var">Hcur_va</span> &amp; <span class="id" title="var">Hle_va</span> &amp; [<span class="id" title="var">lwa</span> <span class="id" title="var">Hlwa</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span>, <span class="id" title="var">Hcur_va</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcur_addr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_va</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_insert_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hla'</span> := <span class="id" title="var">Hla</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>; <span class="id" title="tactic">eauto</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hla</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_v</span> &amp; <span class="id" title="var">Hcur_v</span> &amp; <span class="id" title="var">Hcur_max</span> &amp; [<span class="id" title="var">cur_lw</span> <span class="id" title="var">Hcur_lw</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="var">Hcur_addr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_v</span>; <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">lw</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span> ; <span class="id" title="tactic">eauto</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcur_addr</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw'</span> &amp; <span class="id" title="var">Hlw'</span> &amp; <span class="id" title="var">Hw'</span> &amp; <span class="id" title="var">Hcur_lw'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlw'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla'</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_cur_word"><span class="id" title="axiom">update_cur_word</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">v'</span> <span class="id" title="var">Hcur_a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hcur_a''</span> := <span class="id" title="var">Hcur_a'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_a''</span> ; <span class="id" title="tactic">eauto</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_a''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcur_a''</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw'</span> &amp; <span class="id" title="var">Hlw'</span> &amp; <span class="id" title="var">Hw'</span> &amp; <span class="id" title="var">Hcur_lw'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>)); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_cur_word"><span class="id" title="axiom">update_cur_word</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span> := <span class="id" title="var">va</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_lw'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">va</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">va</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcur_addr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_a'</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlwa</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">lw'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">va</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; [|<span class="id" title="tactic">split</span>] ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_cur_word"><span class="id" title="axiom">update_cur_word</span></a>;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hroot</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_addr</span> ; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcur_addr</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw</span> &amp; <span class="id" title="var">Hlm_lw</span> &amp; <span class="id" title="var">Hphm_lw</span> &amp; <span class="id" title="var">Hcur_lw</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlm_lw</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_preserves_mem_corresponds" class="idref" href="#update_version_addr_preserves_mem_corresponds"><span class="id" title="lemma">update_version_addr_preserves_mem_corresponds</span></a><br/>
&nbsp;&nbsp;(<a id="phm:645" class="idref" href="#phm:645"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:646" class="idref" href="#lm:646"><span class="id" title="binder">lm</span></a> <a id="lm':647" class="idref" href="#lm':647"><span class="id" title="binder">lm'</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:648" class="idref" href="#vmap:648"><span class="id" title="binder">vmap</span></a> <a id="vmap':649" class="idref" href="#vmap':649"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a:650" class="idref" href="#a:650"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) <a id="v:651" class="idref" href="#v:651"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:650"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reserved_addresses"><span class="id" title="method">reserved_addresses</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:646"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:650"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:651"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:650"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:651"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:648"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':647"><span class="id" title="variable">lm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:646"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:650"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:651"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:646"><span class="id" title="variable">lm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':649"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:650"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:651"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:648"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:646"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:648"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:650"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:645"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:646"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:648"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:645"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':647"><span class="id" title="variable">lm'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':649"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnotres</span> <span class="id" title="var">Hmax</span> <span class="id" title="var">Hcur_addr</span> -&gt; -&gt; <span class="id" title="var">Hnaccess_mem</span> (<span class="id" title="var">Hdom</span> &amp; <span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">Hgcroot</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_preserves_mem_current_version"><span class="id" title="axiom">update_version_addr_preserves_mem_current_version</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_preserves_mem_vmap_root"><span class="id" title="axiom">update_version_addr_preserves_mem_vmap_root</span></a> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_insert_2</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;If&nbsp;an&nbsp;address&nbsp;`a'`&nbsp;is&nbsp;not&nbsp;reachable&nbsp;from&nbsp;the&nbsp;current&nbsp;view&nbsp;of&nbsp;the&nbsp;lmem,&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;updating&nbsp;the&nbsp;version&nbsp;number&nbsp;of&nbsp;another&nbsp;address&nbsp;`a`&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;does&nbsp;not&nbsp;make&nbsp;it&nbsp;reachable&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_preserves_notin_not_access" class="idref" href="#update_version_addr_preserves_notin_not_access"><span class="id" title="lemma">update_version_addr_preserves_notin_not_access</span></a><br/>
&nbsp;&nbsp;(<a id="lm:652" class="idref" href="#lm:652"><span class="id" title="binder">lm</span></a> <a id="lm':653" class="idref" href="#lm':653"><span class="id" title="binder">lm'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:654" class="idref" href="#a:654"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="vmap:655" class="idref" href="#vmap:655"><span class="id" title="binder">vmap</span></a> <a id="vmap':656" class="idref" href="#vmap':656"><span class="id" title="binder">vmap'</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="v:657" class="idref" href="#v:657"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="a':658" class="idref" href="#a':658"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:654"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':658"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:652"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':653"><span class="id" title="variable">lm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:652"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':658"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:657"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':658"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:657"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':656"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:652"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':658"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:657"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':653"><span class="id" title="variable">lm'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':656"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:654"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:652"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':658"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:657"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':653"><span class="id" title="variable">lm'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':658"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:657"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':656"><span class="id" title="variable">vmap'</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:654"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Hincl</span> [<span class="id" title="var">lw</span> <span class="id" title="var">Hlm</span>] <span class="id" title="var">Hcur</span> <span class="id" title="var">Hmaxv</span> <span class="id" title="var">Hno_access</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">la'</span> <span class="id" title="var">lw'</span> <span class="id" title="var">Hsome'</span> <span class="id" title="var">Hcur'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">la'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a0</span> <span class="id" title="var">v0</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>)) ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">v0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur'</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlm</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hno_access</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsome'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur'</span>; <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_expands" class="idref" href="#update_version_addr_expands"><span class="id" title="lemma">update_version_addr_expands</span></a> (<a id="lm:659" class="idref" href="#lm:659"><span class="id" title="binder">lm</span></a> <a id="lm':660" class="idref" href="#lm':660"><span class="id" title="binder">lm'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:661" class="idref" href="#a:661"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) ( <a id="v:662" class="idref" href="#v:662"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> ) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:659"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':660"><span class="id" title="variable">lm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:659"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:661"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:662"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:659"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:659"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:661"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:662"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':660"><span class="id" title="variable">lm'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hincl</span> <span class="id" title="var">Hmaxv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lm</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lw</span>|]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">insert_subseteq_r</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_expands" class="idref" href="#update_version_region_expands"><span class="id" title="lemma">update_version_region_expands</span></a> (<a id="lm:663" class="idref" href="#lm:663"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:664" class="idref" href="#la:664"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:665" class="idref" href="#v:665"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:664"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:666" class="idref" href="#a:666"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:663"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:666"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:665"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:664"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:663"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:663"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:664"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:665"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:663"><span class="id" title="variable">lm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HNoDup</span> <span class="id" title="var">HmaxMap</span> ; <span class="id" title="var">destruct_cons</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HNoDup_la</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">lm</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_expands"><span class="id" title="axiom">update_version_addr_expands</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_vmap_neq_preserves_cur" class="idref" href="#update_version_addr_vmap_neq_preserves_cur"><span class="id" title="lemma">update_version_addr_vmap_neq_preserves_cur</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:667" class="idref" href="#vmap:667"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="a':668" class="idref" href="#a':668"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:669" class="idref" href="#v:669"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="a:670" class="idref" href="#a:670"><span class="id" title="binder">a</span></a>: <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:670"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':668"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:670"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:669"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:667"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:670"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:669"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':668"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:669"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:667"><span class="id" title="variable">vmap</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Hcur</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_vmap"><span class="id" title="definition">update_version_addr_vmap</span></a> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_vmap_notin_preserves_cur" class="idref" href="#update_version_region_vmap_notin_preserves_cur"><span class="id" title="lemma">update_version_region_vmap_notin_preserves_cur</span></a><br/>
&nbsp;&nbsp;(<a id="vmap:671" class="idref" href="#vmap:671"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="la:672" class="idref" href="#la:672"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:673" class="idref" href="#v:673"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="a:674" class="idref" href="#a:674"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:674"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:672"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:674"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:673"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:671"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:674"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:673"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:672"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:673"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:671"><span class="id" title="variable">vmap</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a'</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnot_in</span> <span class="id" title="var">Hcur</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">vmap</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha_notin_la</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_vmap_neq_preserves_cur"><span class="id" title="axiom">update_version_addr_vmap_neq_preserves_cur</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_preserves_notin_not_access" class="idref" href="#update_version_region_preserves_notin_not_access"><span class="id" title="lemma">update_version_region_preserves_notin_not_access</span></a><br/>
&nbsp;&nbsp;(<a id="lm:675" class="idref" href="#lm:675"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:676" class="idref" href="#la:676"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="vmap:677" class="idref" href="#vmap:677"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="v:678" class="idref" href="#v:678"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="a:679" class="idref" href="#a:679"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:679"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:676"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:676"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:680" class="idref" href="#a:680"><span class="id" title="binder">a</span></a> =&gt; <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:675"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:680"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:678"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:676"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:681" class="idref" href="#a:681"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:681"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:678"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:677"><span class="id" title="variable">vmap</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:676"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:682" class="idref" href="#a:682"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:675"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:682"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:678"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:676"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:675"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:677"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:679"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:675"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:676"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:678"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:675"><span class="id" title="variable">lm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:676"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:678"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:677"><span class="id" title="variable">vmap</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:679"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a'</span> <span class="id" title="var">la</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Hnotin</span> <span class="id" title="var">HNoDup</span> <span class="id" title="var">Hmap</span> <span class="id" title="var">HcurMap</span> <span class="id" title="var">HmaxvMap</span> <span class="id" title="var">Hnot_access</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">lm</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">vmap</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_access</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_preserves_notin_not_access"><span class="id" title="axiom">update_version_addr_preserves_notin_not_access</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_expands"><span class="id" title="axiom">update_version_region_expands</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap_notin_preserves_cur"><span class="id" title="axiom">update_version_region_vmap_notin_preserves_cur</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO&nbsp;generalize&nbsp;to&nbsp;update&nbsp;with&nbsp;glm&nbsp;instead&nbsp;of&nbsp;lm&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_region_preserves_mem_corresponds" class="idref" href="#update_version_region_preserves_mem_corresponds"><span class="id" title="lemma">update_version_region_preserves_mem_corresponds</span></a><br/>
&nbsp;&nbsp;(<a id="phm:683" class="idref" href="#phm:683"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:684" class="idref" href="#lm:684"><span class="id" title="binder">lm</span></a> <a id="lm':685" class="idref" href="#lm':685"><span class="id" title="binder">lm'</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:686" class="idref" href="#vmap:686"><span class="id" title="binder">vmap</span></a> <a id="vmap':687" class="idref" href="#vmap':687"><span class="id" title="binder">vmap'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="la:688" class="idref" href="#la:688"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) <a id="v:689" class="idref" href="#v:689"><span class="id" title="binder">v</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':687"><span class="id" title="variable">vmap'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:688"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:689"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:686"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':685"><span class="id" title="variable">lm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:684"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:688"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:689"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:684"><span class="id" title="variable">lm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:688"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:690" class="idref" href="#a:690"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:690"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reserved_addresses"><span class="id" title="method">reserved_addresses</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:688"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:691" class="idref" href="#a:691"><span class="id" title="binder">a</span></a> =&gt; <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:684"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:691"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:689"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:688"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:692" class="idref" href="#a:692"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:692"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:689"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:686"><span class="id" title="variable">vmap</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:688"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:693" class="idref" href="#a:693"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:684"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:693"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:689"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:688"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:694" class="idref" href="#a:694"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem_not_access_addrL"><span class="id" title="definition">lmem_not_access_addrL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:684"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:686"><span class="id" title="variable">vmap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:694"><span class="id" title="variable">a</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:688"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:683"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:684"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:686"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:683"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':685"><span class="id" title="variable">lm'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap':687"><span class="id" title="variable">vmap'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">phm</span> <span class="id" title="var">lm</span> <span class="id" title="var">lm'</span> <span class="id" title="var">vmap</span> <span class="id" title="var">vmap'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> * -&gt; -&gt; <span class="id" title="var">Hno_dup</span> <span class="id" title="var">Hnotres</span> <span class="id" title="var">Hmap</span> <span class="id" title="var">Hcur</span> <span class="id" title="var">Hmax</span> <span class="id" title="var">Hall_naccess_mem</span> <span class="id" title="var">Hmem_corr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a> <span class="id" title="var">phm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">lm</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_vmap"><span class="id" title="definition">update_version_region_vmap</span></a> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">vmap</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span> ;<span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_preserves_mem_corresponds"><span class="id" title="axiom">update_version_addr_preserves_mem_corresponds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Hinv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> ; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_notin_preserves_cur"><span class="id" title="axiom">update_version_region_notin_preserves_cur</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">lm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_preserves_notin_not_access"><span class="id" title="axiom">update_version_region_preserves_notin_not_access</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
Machinery for valid update of the lmemory 
</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;We&nbsp;require&nbsp;⊆,&nbsp;because&nbsp;lmem&nbsp;might&nbsp;contain&nbsp;only&nbsp;a&nbsp;subset&nbsp;of&nbsp;the&nbsp;updated&nbsp;region,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;means&nbsp;that&nbsp;lmem'&nbsp;contains&nbsp;both:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;the&nbsp;updated&nbsp;addresses&nbsp;known&nbsp;from&nbsp;lmem<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;the&nbsp;updated&nbsp;addresses&nbsp;a&nbsp;∈&nbsp;<span class="inlinecode"><span class="id" title="var">b</span>,</span> <span class="inlinecode"><span class="id" title="var">e</span>),</span> <span class="inlinecode"><span class="id" title="var">unknown</span></span> <span class="inlinecode"><span class="id" title="var">from</span></span> <span class="inlinecode"><span class="id" title="var">lmem</span></span>

       <span class="inlinecode"><span class="id" title="var">We</span></span> <span class="inlinecode"><span class="id" title="var">also</span></span> <span class="inlinecode"><span class="id" title="var">require</span></span> <span class="inlinecode"><span class="id" title="var">that</span></span> <span class="inlinecode"><span class="id" title="var">every</span></span> <span class="inlinecode"><span class="id" title="var">addresses</span></span> <span class="inlinecode"><span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">the</span></span> <span class="inlinecode"><span class="id" title="var">region</span></span> <span class="inlinecode"><span class="id" title="var">have</span></span> <span class="inlinecode"><span class="id" title="var">actually</span></span> <span class="inlinecode"><span class="id" title="var">been</span></span> <span class="inlinecode"><span class="id" title="var">updated</span>,</span>
       <span class="inlinecode"><span class="id" title="var">although</span></span> <span class="inlinecode"><span class="id" title="var">we</span></span> <span class="inlinecode"><span class="id" title="var">might</span></span> <span class="inlinecode"><span class="id" title="var">not</span></span> <span class="inlinecode"><span class="id" title="var">know</span></span> <span class="inlinecode"><span class="id" title="var">their</span></span> <span class="inlinecode"><span class="id" title="var">value</span></span>
 <span class="inlinecode"></span>*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="is_valid_updated_lmemory" class="idref" href="#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:695" class="idref" href="#glmem:695"><span class="id" title="binder">glmem</span></a> <a id="llmem:696" class="idref" href="#llmem:696"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:697" class="idref" href="#la:697"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:698" class="idref" href="#v:698"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="llmem':699" class="idref" href="#llmem':699"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:695"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:697"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:698"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:696"><span class="id" title="variable">llmem</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':699"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:696"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:695"><span class="id" title="variable">glmem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;unclear&nbsp;whether&nbsp;this&nbsp;is&nbsp;useful&nbsp;in&nbsp;the&nbsp;def&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:700" class="idref" href="#a:700"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:696"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:700"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:698"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:697"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:701" class="idref" href="#a:701"><span class="id" title="binder">a</span></a> =&gt; <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':699"><span class="id" title="variable">llmem'</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:701"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:698"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:697"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_notin_preserves_lmem" class="idref" href="#is_valid_updated_lmemory_notin_preserves_lmem"><span class="id" title="lemma">is_valid_updated_lmemory_notin_preserves_lmem</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:702" class="idref" href="#glmem:702"><span class="id" title="binder">glmem</span></a> <a id="llmem:703" class="idref" href="#llmem:703"><span class="id" title="binder">llmem</span></a> <a id="llmem':704" class="idref" href="#llmem':704"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:705" class="idref" href="#la:705"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':706" class="idref" href="#a':706"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:707" class="idref" href="#v:707"><span class="id" title="binder">v</span></a> <a id="v':708" class="idref" href="#v':708"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:709" class="idref" href="#lw:709"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':706"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:705"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:702"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:703"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:705"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:707"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':704"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:703"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':706"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':708"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:709"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':704"><span class="id" title="variable">llmem'</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':706"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':708"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:709"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">llmem'</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Ha'_notin_la</span> (<span class="id" title="var">Hcompatibility</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">HmaxMem</span> &amp; <span class="id" title="var">Hupdated</span>) <span class="id" title="var">Hlmem</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">first</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> ; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hupdated_a</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">lwa</span> <span class="id" title="var">Hlwa</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcompatibility</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcompatibility</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hcompatibility</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">lw</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">IH</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ( <span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">lwa'</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlwa'</span> ; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //=; <span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_preserves_lmem" class="idref" href="#is_valid_updated_lmemory_preserves_lmem"><span class="id" title="lemma">is_valid_updated_lmemory_preserves_lmem</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:710" class="idref" href="#glmem:710"><span class="id" title="binder">glmem</span></a> <a id="llmem:711" class="idref" href="#llmem:711"><span class="id" title="binder">llmem</span></a> <a id="llmem':712" class="idref" href="#llmem':712"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:713" class="idref" href="#la:713"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':714" class="idref" href="#a':714"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:715" class="idref" href="#v:715"><span class="id" title="binder">v</span></a> <a id="v':716" class="idref" href="#v':716"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:717" class="idref" href="#lw:717"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:713"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:710"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:711"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:713"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:715"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':712"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:711"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':714"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':716"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:717"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':712"><span class="id" title="variable">llmem'</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':714"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':716"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:717"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">llmem'</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> (<span class="id" title="var">Hcompatibility</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">HmaxMem</span> &amp; <span class="id" title="var">Hupdated</span>) <span class="id" title="var">Hlmem</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">first</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> ; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hupdated_a</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">lwa</span> <span class="id" title="var">Hlwa</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hneq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_map_eq</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HmaxMem_a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlmem</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [? | <span class="id" title="var">Ha'_neq_a</span>] ; <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">v'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">(</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hneq_v</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hcompatibility</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_lookup"><span class="id" title="axiom">update_version_addr_lookup</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_updated_incl"><span class="id" title="axiom">update_version_addr_updated_incl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcompatibility</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHla</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_lmem_incl" class="idref" href="#is_valid_updated_lmemory_lmem_incl"><span class="id" title="lemma">is_valid_updated_lmemory_lmem_incl</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:718" class="idref" href="#glmem:718"><span class="id" title="binder">glmem</span></a> <a id="llmem:719" class="idref" href="#llmem:719"><span class="id" title="binder">llmem</span></a> <a id="llmem':720" class="idref" href="#llmem':720"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:721" class="idref" href="#la:721"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:722" class="idref" href="#v:722"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:721"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:718"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:719"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:721"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:722"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':720"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:719"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':720"><span class="id" title="variable">llmem'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory_preserves_lmem"><span class="id" title="axiom">is_valid_updated_lmemory_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_preserves_lmem_next" class="idref" href="#is_valid_updated_lmemory_preserves_lmem_next"><span class="id" title="lemma">is_valid_updated_lmemory_preserves_lmem_next</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:723" class="idref" href="#glmem:723"><span class="id" title="binder">glmem</span></a> <a id="llmem:724" class="idref" href="#llmem:724"><span class="id" title="binder">llmem</span></a> <a id="llmem':725" class="idref" href="#llmem':725"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:726" class="idref" href="#la:726"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':727" class="idref" href="#a':727"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:728" class="idref" href="#v:728"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:729" class="idref" href="#lw:729"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:726"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':727"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:726"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:723"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:724"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:726"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:728"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':725"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;llmem&nbsp;⊆&nbsp;glmem&nbsp;-&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:730" class="idref" href="#a:730"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:724"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:730"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:728"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:726"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:724"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':727"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:728"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:729"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':725"><span class="id" title="variable">llmem'</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':727"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:728"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:729"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">llmem'</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Ha'_in_la</span> (<span class="id" title="var">Hcompatibility</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">HmaxMem</span> &amp; <span class="id" title="var">Hupdated</span>) <span class="id" title="var">Hmax_la</span> <span class="id" title="var">Hlmem</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">first</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> ; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">set_solver</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hupdated_a</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">lwa</span> <span class="id" title="var">Hlwa</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcompatibility</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hcompatibility</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hcompatibility</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ( <span class="id" title="var">glmem</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ) <span class="id" title="keyword">as</span> [<span class="id" title="var">lwa'</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlwa'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="keyword">as</span> [? | <span class="id" title="var">Ha'_in_la</span>] ; <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlmem</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlmem</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlwa'</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Ha'_in_la'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'_in_la'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'_in_la'</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Ha'_lookup</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax_la</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> //=; <span class="id" title="var">last</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">set_solver</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_preserves_lmem_next"><span class="id" title="axiom">update_version_region_preserves_lmem_next</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlmem</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hneq</span> | <span class="id" title="var">Ha'</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlmem</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlmem</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlwa'</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_preserves_lmem_next"><span class="id" title="axiom">update_version_region_preserves_lmem_next</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlmem</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span> ; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">Ha'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax_la</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_insert" class="idref" href="#is_valid_updated_lmemory_insert"><span class="id" title="lemma">is_valid_updated_lmemory_insert</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:731" class="idref" href="#glmem:731"><span class="id" title="binder">glmem</span></a> <a id="llmem:732" class="idref" href="#llmem:732"><span class="id" title="binder">llmem</span></a> <a id="llmem':733" class="idref" href="#llmem':733"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:734" class="idref" href="#la:734"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':735" class="idref" href="#a':735"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:736" class="idref" href="#v:736"><span class="id" title="binder">v</span></a> <a id="v':737" class="idref" href="#v':737"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:738" class="idref" href="#lw:738"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:734"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':735"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:734"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:732"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':735"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':737"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:739" class="idref" href="#a:739"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:732"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:739"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:736"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:734"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:731"><span class="id" title="variable">glmem</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':735"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':737"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:738"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">llmem</span>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:734"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:736"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':733"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:731"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:732"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:734"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:736"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':733"><span class="id" title="variable">llmem'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">llmem'</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Ha'_notin_la</span> <span class="id" title="var">Hlmem_None</span>  <span class="id" title="var">HmaxMap</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hvalid</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.utils.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.utils.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hupd</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">HmaxMap'</span> &amp; <span class="id" title="var">HnextMap</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_insert_subseteq"><span class="id" title="axiom">update_version_region_insert_subseteq</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.utils.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_insert'" class="idref" href="#is_valid_updated_lmemory_insert'"><span class="id" title="lemma">is_valid_updated_lmemory_insert'</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:740" class="idref" href="#glmem:740"><span class="id" title="binder">glmem</span></a> <a id="llmem:741" class="idref" href="#llmem:741"><span class="id" title="binder">llmem</span></a> <a id="llmem':742" class="idref" href="#llmem':742"><span class="id" title="binder">llmem'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:743" class="idref" href="#la:743"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':744" class="idref" href="#a':744"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:745" class="idref" href="#v:745"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:746" class="idref" href="#lw:746"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:743"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':744"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:743"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:741"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':744"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:745"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:747" class="idref" href="#a:747"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:741"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:747"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:745"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:743"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:740"><span class="id" title="variable">glmem</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':744"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:745"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:746"><span class="id" title="variable">lw</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">llmem</span>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:743"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:745"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':742"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:740"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:741"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:743"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:745"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':742"><span class="id" title="variable">llmem'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">llmem'</span> <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="var">Hlmem_None</span> <span class="id" title="var">HmaxMap</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hvalid</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.utils.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.utils.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hupd</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">HmaxMap'</span> &amp; <span class="id" title="var">HnextMap</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.utils.stdpp_extra.html#insert_subseteq_r_inv"><span class="id" title="axiom">insert_subseteq_r_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.utils.stdpp_extra.html#map_subseteq_trans"><span class="id" title="axiom">map_subseteq_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_insert_inv"><span class="id" title="axiom">update_version_region_insert_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_lmem_subset" class="idref" href="#is_valid_updated_lmemory_lmem_subset"><span class="id" title="lemma">is_valid_updated_lmemory_lmem_subset</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:748" class="idref" href="#glmem:748"><span class="id" title="binder">glmem</span></a> <a id="llmem:749" class="idref" href="#llmem:749"><span class="id" title="binder">llmem</span></a> <a id="llmem':750" class="idref" href="#llmem':750"><span class="id" title="binder">llmem'</span></a> <a id="llmem'':751" class="idref" href="#llmem'':751"><span class="id" title="binder">llmem''</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:752" class="idref" href="#la:752"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:753" class="idref" href="#v:753"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:749"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':750"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:748"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem':750"><span class="id" title="variable">llmem'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:752"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:753"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem'':751"><span class="id" title="variable">llmem''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:748"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:749"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:752"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:753"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem'':751"><span class="id" title="variable">llmem''</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">glmem</span> <span class="id" title="var">llmem</span> <span class="id" title="var">llmem'</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Hsubset</span> (<span class="id" title="var">Hcompatibility</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">HmaxMem</span> &amp; <span class="id" title="var">Hupdated</span>)<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">first</span> (<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.utils.stdpp_extra.html#map_subseteq_trans"><span class="id" title="axiom">map_subseteq_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_cons</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hupdated_a</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">lwa</span> <span class="id" title="var">Hlwa</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_mono"><span class="id" title="axiom">update_version_region_mono</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsubset</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.utils.stdpp_extra.html#map_subseteq_trans"><span class="id" title="axiom">map_subseteq_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.utils.stdpp_extra.html#map_subseteq_trans"><span class="id" title="axiom">map_subseteq_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_cons</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken_None</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">Forall_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HmaxMem</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">Ha'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HmaxMem</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken_None</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
Logical machine 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="isCorrectLPC" class="idref" href="#isCorrectLPC"><span class="id" title="definition, inductive"><span id="isCorrectLPC_ind" class="id"><span id="isCorrectLPC_sind" class="id">isCorrectLPC</span></span></span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="isCorrectLPC_intro" class="idref" href="#isCorrectLPC_intro"><span class="id" title="constructor">isCorrectLPC_intro</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="lpc:756" class="idref" href="#lpc:756"><span class="id" title="binder">lpc</span></a> <a id="p:757" class="idref" href="#p:757"><span class="id" title="binder">p</span></a> (<a id="b:758" class="idref" href="#b:758"><span class="id" title="binder">b</span></a> <a id="e:759" class="idref" href="#e:759"><span class="id" title="binder">e</span></a> <a id="a:760" class="idref" href="#a:760"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lpc:756"><span class="id" title="variable">lpc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.opsem.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:757"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:758"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:759"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:760"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.machine_base.html#isCorrectPC"><span class="id" title="inductive">isCorrectPC</span></a> (<a class="idref" href="cap_machine.opsem.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:757"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:758"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:759"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:760"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC:754"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lpc:756"><span class="id" title="variable">lpc</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isCorrectLPC_isCorrectPC" class="idref" href="#isCorrectLPC_isCorrectPC"><span class="id" title="lemma">isCorrectLPC_isCorrectPC</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="lw:761" class="idref" href="#lw:761"><span class="id" title="binder">lw</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:761"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#isCorrectPC"><span class="id" title="inductive">isCorrectPC</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:761"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lw</span> <span class="id" title="var">Hcorrect</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_word</span> <span class="id" title="var">lw</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hcorrect</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isCorrectPC_isCorrectLPC" class="idref" href="#isCorrectPC_isCorrectLPC"><span class="id" title="lemma">isCorrectPC_isCorrectLPC</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="lw:762" class="idref" href="#lw:762"><span class="id" title="binder">lw</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.opsem.machine_base.html#isCorrectPC"><span class="id" title="inductive">isCorrectPC</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:762"><span class="id" title="variable">lw</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:762"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lw</span> <span class="id" title="var">Hcorrect</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_word</span> <span class="id" title="var">lw</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hcorrect</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isCorrectLPC_isCorrectPC_iff" class="idref" href="#isCorrectLPC_isCorrectPC_iff"><span class="id" title="lemma">isCorrectLPC_isCorrectPC_iff</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="lw:763" class="idref" href="#lw:763"><span class="id" title="binder">lw</span></a><span class="id" title="notation">,</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:763"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#isCorrectPC"><span class="id" title="inductive">isCorrectPC</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:763"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span> ; [<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC_isCorrectPC"><span class="id" title="axiom">isCorrectLPC_isCorrectPC</span></a> | <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectPC_isCorrectLPC"><span class="id" title="axiom">isCorrectPC_isCorrectLPC</span></a>].<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_isCorrectLPC_perm" class="idref" href="#not_isCorrectLPC_perm"><span class="id" title="lemma">not_isCorrectLPC_perm</span></a> <a id="p:764" class="idref" href="#p:764"><span class="id" title="binder">p</span></a> <a id="b:765" class="idref" href="#b:765"><span class="id" title="binder">b</span></a> <a id="e:766" class="idref" href="#e:766"><span class="id" title="binder">e</span></a> <a id="a:767" class="idref" href="#a:767"><span class="id" title="binder">a</span></a> <a id="v:768" class="idref" href="#v:768"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:764"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#RX"><span class="id" title="constructor">RX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:764"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:764"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:765"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:766"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:767"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:768"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC_isCorrectPC_iff"><span class="id" title="axiom">isCorrectLPC_isCorrectPC_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#not_isCorrectPC_perm"><span class="id" title="axiom">not_isCorrectPC_perm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_isCorrectLPC_bounds" class="idref" href="#not_isCorrectLPC_bounds"><span class="id" title="lemma">not_isCorrectLPC_bounds</span></a> <a id="p:769" class="idref" href="#p:769"><span class="id" title="binder">p</span></a> <a id="b:770" class="idref" href="#b:770"><span class="id" title="binder">b</span></a> <a id="e:771" class="idref" href="#e:771"><span class="id" title="binder">e</span></a> <a id="a:772" class="idref" href="#a:772"><span class="id" title="binder">a</span></a> <a id="v:773" class="idref" href="#v:773"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:770"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#ecb49afb136c57143f8ddd1e3e9a03fe"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:772"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#ecb49afb136c57143f8ddd1e3e9a03fe"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:771"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:769"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:770"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:771"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:772"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:773"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span> ; <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC_isCorrectPC_iff"><span class="id" title="axiom">isCorrectLPC_isCorrectPC_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span> ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#not_isCorrectPC_bounds"><span class="id" title="axiom">not_isCorrectPC_bounds</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isCorrectLPC_ExecPCPerm_InBounds" class="idref" href="#isCorrectLPC_ExecPCPerm_InBounds"><span class="id" title="lemma">isCorrectLPC_ExecPCPerm_InBounds</span></a> <a id="p:774" class="idref" href="#p:774"><span class="id" title="binder">p</span></a> <a id="b:775" class="idref" href="#b:775"><span class="id" title="binder">b</span></a> <a id="e:776" class="idref" href="#e:776"><span class="id" title="binder">e</span></a> <a id="a:777" class="idref" href="#a:777"><span class="id" title="binder">a</span></a> <a id="v:778" class="idref" href="#v:778"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.machine_base.html#ExecPCPerm"><span class="id" title="definition">ExecPCPerm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:774"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.finz_base.html#InBounds"><span class="id" title="definition">InBounds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:775"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:776"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:777"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:774"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:775"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:776"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:777"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:778"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.opsem.machine_base.html#ExecPCPerm"><span class="id" title="definition">ExecPCPerm</span></a>, <a class="idref" href="machine_utils.finz_base.html#InBounds"><span class="id" title="definition">InBounds</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#isCorrectPC_ExecPCPerm_InBounds"><span class="id" title="axiom">isCorrectPC_ExecPCPerm_InBounds</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="isCorrectLPC_dec" class="idref" href="#isCorrectLPC_dec"><span class="id" title="lemma">isCorrectLPC_dec</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="lw:779" class="idref" href="#lw:779"><span class="id" title="binder">lw</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:779"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:779"><span class="id" title="variable">lw</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">case_eq</span> (<span class="id" title="keyword">match</span> <span class="id" title="var">p</span> <span class="id" title="keyword">with</span> <a class="idref" href="cap_machine.opsem.machine_base.html#RX"><span class="id" title="constructor">RX</span></a> | <a class="idref" href="cap_machine.opsem.machine_base.html#RWX"><span class="id" title="constructor">RWX</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="machine_utils.finz_base.html#finz_le_dec"><span class="id" title="instance">finz_le_dec</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<a class="idref" href="machine_utils.finz_base.html#finz_lt_dec"><span class="id" title="instance">finz_lt_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">solve_addr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">solve_addr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_range_is_correctLPC" class="idref" href="#in_range_is_correctLPC"><span class="id" title="lemma">in_range_is_correctLPC</span></a> <a id="p:782" class="idref" href="#p:782"><span class="id" title="binder">p</span></a> <a id="b:783" class="idref" href="#b:783"><span class="id" title="binder">b</span></a> <a id="e:784" class="idref" href="#e:784"><span class="id" title="binder">e</span></a> <a id="a:785" class="idref" href="#a:785"><span class="id" title="binder">a</span></a> <a id="b':786" class="idref" href="#b':786"><span class="id" title="binder">b'</span></a> <a id="e':787" class="idref" href="#e':787"><span class="id" title="binder">e'</span></a> <a id="v:788" class="idref" href="#v:788"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:782"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:783"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:784"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:785"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:788"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':786"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:783"><span class="id" title="variable">b</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:784"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':787"><span class="id" title="variable">e'</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':786"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#8ccc7a9bb9ba1c27ed0dba9945a4cbb0"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:785"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:785"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':787"><span class="id" title="variable">e'</span></a>)%<span class="id" title="var">a</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvpc</span> [<span class="id" title="var">Hb</span> <span class="id" title="var">He</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvpc</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="dec_lpc" class="idref" href="#dec_lpc"><span class="id" title="instance">dec_lpc</span></a> <a id="lc:789" class="idref" href="#lc:789"><span class="id" title="binder">lc</span></a> : <span class="id" title="class">Decision</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lc:789"><span class="id" title="variable">lc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC_dec"><span class="id" title="axiom">isCorrectLPC_dec</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_lookup" class="idref" href="#lreg_lookup"><span class="id" title="lemma">lreg_lookup</span></a> <a id="regs:790" class="idref" href="#regs:790"><span class="id" title="binder">regs</span></a> (<a id="r:791" class="idref" href="#r:791"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="lw:792" class="idref" href="#lw:792"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#regs:790"><span class="id" title="variable">regs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:791"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:792"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#regs:790"><span class="id" title="variable">regs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:791"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:792"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="method">lookup_fmap</span> ; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="laddr_neq" class="idref" href="#laddr_neq"><span class="id" title="lemma">laddr_neq</span></a> (<a id="la1:793" class="idref" href="#la1:793"><span class="id" title="binder">la1</span></a> <a id="la2:794" class="idref" href="#la2:794"><span class="id" title="binder">la2</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la2:794"><span class="id" title="variable">la2</span></a><span class="id" title="notation">.1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">=?</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la1:793"><span class="id" title="variable">la1</span></a><span class="id" title="notation">.1</span>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la2:794"><span class="id" title="variable">la2</span></a><span class="id" title="notation">.2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la1:793"><span class="id" title="variable">la1</span></a><span class="id" title="notation">.2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la1:793"><span class="id" title="variable">la1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la2:794"><span class="id" title="variable">la2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Bool.Bool.html#andb_false_iff"><span class="id" title="lemma">andb_false_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hneq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hneq</span> | <span class="id" title="var">Hneq</span>]<br/>
&nbsp;&nbsp;; [ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.eqb_neq"><span class="id" title="lemma">Z.eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.eqb_neq"><span class="id" title="lemma">Nat.eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span> ]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="laddr_neq'" class="idref" href="#laddr_neq'"><span class="id" title="lemma">laddr_neq'</span></a> (<a id="a1:795" class="idref" href="#a1:795"><span class="id" title="binder">a1</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v1:796" class="idref" href="#v1:796"><span class="id" title="binder">v1</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="a2:797" class="idref" href="#a2:797"><span class="id" title="binder">a2</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v2:798" class="idref" href="#v2:798"><span class="id" title="binder">v2</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a1:795"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#f10153ef1a81fe79ed16d848b456c79b"><span class="id" title="notation">=?</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a2:797"><span class="id" title="variable">a2</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v1:796"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v2:798"><span class="id" title="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a1:795"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v1:796"><span class="id" title="variable">v1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a2:797"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v2:798"><span class="id" title="variable">v2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Bool.Bool.html#andb_false_iff"><span class="id" title="lemma">andb_false_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hneq</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hneq</span> | <span class="id" title="var">Hneq</span>]<br/>
&nbsp;&nbsp;; [ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.eqb_neq"><span class="id" title="lemma">Z.eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.eqb_neq"><span class="id" title="lemma">Nat.eqb_neq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneq</span> ]<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="updatePcPermL" class="idref" href="#updatePcPermL"><span class="id" title="definition">updatePcPermL</span></a> (<a id="lw:799" class="idref" href="#lw:799"><span class="id" title="binder">lw</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>): <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:799"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#E"><span class="id" title="constructor">E</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#RX"><span class="id" title="constructor">RX</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:799"><span class="id" title="variable">lw</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="updatePcPermL_spec" class="idref" href="#updatePcPermL_spec"><span class="id" title="lemma">updatePcPermL_spec</span></a> (<a id="lw:801" class="idref" href="#lw:801"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#updatePcPermL"><span class="id" title="definition">updatePcPermL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:801"><span class="id" title="variable">lw</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#updatePcPerm"><span class="id" title="definition">updatePcPerm</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:801"><span class="id" title="variable">lw</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> ; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="updatePcPermL_cap_non_E" class="idref" href="#updatePcPermL_cap_non_E"><span class="id" title="lemma">updatePcPermL_cap_non_E</span></a> <a id="p:802" class="idref" href="#p:802"><span class="id" title="binder">p</span></a> <a id="b:803" class="idref" href="#b:803"><span class="id" title="binder">b</span></a> <a id="e:804" class="idref" href="#e:804"><span class="id" title="binder">e</span></a> <a id="a:805" class="idref" href="#a:805"><span class="id" title="binder">a</span></a> <a id="v:806" class="idref" href="#v:806"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:802"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#E"><span class="id" title="constructor">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#updatePcPermL"><span class="id" title="definition">updatePcPermL</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:802"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:803"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:804"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:805"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:806"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:802"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:803"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:804"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:805"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:806"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HnE</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_cur_updatePcPermL" class="idref" href="#is_cur_updatePcPermL"><span class="id" title="lemma">is_cur_updatePcPermL</span></a> (<a id="lw:807" class="idref" href="#lw:807"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) <a id="vmap:808" class="idref" href="#vmap:808"><span class="id" title="binder">vmap</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:807"><span class="id" title="variable">lw</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:808"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#updatePcPermL"><span class="id" title="definition">updatePcPermL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:807"><span class="id" title="variable">lw</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:808"><span class="id" title="variable">vmap</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_lword</span> <span class="id" title="var">lw</span> ; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hbounds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="z_of_argumentL" class="idref" href="#z_of_argumentL"><span class="id" title="definition">z_of_argumentL</span></a> (<a id="lregs:809" class="idref" href="#lregs:809"><span class="id" title="binder">lregs</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="a:810" class="idref" href="#a:810"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:810"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">r</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:809"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <span class="id" title="var">r</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">z</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lword_get_cap" class="idref" href="#lword_get_cap"><span class="id" title="definition">lword_get_cap</span></a> (<a id="lword:812" class="idref" href="#lword:812"><span class="id" title="binder">lword</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword:812"><span class="id" title="variable">lword</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="word_of_argumentL" class="idref" href="#word_of_argumentL"><span class="id" title="definition">word_of_argumentL</span></a> (<a id="lregs:814" class="idref" href="#lregs:814"><span class="id" title="binder">lregs</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="a:815" class="idref" href="#a:815"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:815"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">r</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:814"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="addr_of_argumentL" class="idref" href="#addr_of_argumentL"><span class="id" title="definition">addr_of_argumentL</span></a> (<a id="lregs:817" class="idref" href="#lregs:817"><span class="id" title="binder">lregs</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="src:818" class="idref" href="#src:818"><span class="id" title="binder">src</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a> :=<br/>
&nbsp;&nbsp;<a id="n:819" class="idref" href="#n:819"><span class="id" title="binder">n</span></a> <span class="id" title="notation">←</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#z_of_argumentL"><span class="id" title="definition">z_of_argumentL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:817"><span class="id" title="variable">lregs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:818"><span class="id" title="variable">src</span></a> <span class="id" title="notation">;</span> <a class="idref" href="cap_machine.opsem.addr_reg.html#z_to_addr"><span class="id" title="abbreviation">z_to_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#n:819"><span class="id" title="variable">n</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="otype_of_argumentL" class="idref" href="#otype_of_argumentL"><span class="id" title="definition">otype_of_argumentL</span></a> (<a id="lregs:820" class="idref" href="#lregs:820"><span class="id" title="binder">lregs</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="src:821" class="idref" href="#src:821"><span class="id" title="binder">src</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#z_of_argumentL"><span class="id" title="definition">z_of_argumentL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:820"><span class="id" title="variable">lregs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:821"><span class="id" title="variable">src</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.opsem.addr_reg.html#z_to_otype"><span class="id" title="abbreviation">z_to_otype</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_mutable_rangeL" class="idref" href="#is_mutable_rangeL"><span class="id" title="definition">is_mutable_rangeL</span></a> (<a id="lw:822" class="idref" href="#lw:822"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:822"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">match</span> <span class="id" title="var">p</span> <span class="id" title="keyword">with</span> | <a class="idref" href="cap_machine.opsem.machine_base.html#E"><span class="id" title="constructor">E</span></a>  =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> | <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nonZeroL" class="idref" href="#nonZeroL"><span class="id" title="definition">nonZeroL</span></a> (<a id="lw:825" class="idref" href="#lw:825"><span class="id" title="binder">lw</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:825"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Zbool.html#Zneq_bool"><span class="id" title="definition">Zneq_bool</span></a> <span class="id" title="var">n</span> 0<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_sealbL" class="idref" href="#is_sealbL"><span class="id" title="definition">is_sealbL</span></a> (<a id="lw:827" class="idref" href="#lw:827"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:827"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> <span class="id" title="var">sb</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;|  <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_sealrL" class="idref" href="#is_sealrL"><span class="id" title="definition">is_sealrL</span></a> (<a id="lw:829" class="idref" href="#lw:829"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:829"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;|  <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_sealedL" class="idref" href="#is_sealedL"><span class="id" title="definition">is_sealedL</span></a> (<a id="lw:831" class="idref" href="#lw:831"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:831"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">a</span> <span class="id" title="var">sb</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;|  <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_zL" class="idref" href="#is_zL"><span class="id" title="definition">is_zL</span></a> (<a id="lw:833" class="idref" href="#lw:833"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:833"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">z</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;|  <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="word_to_lword_get_word_int" class="idref" href="#word_to_lword_get_word_int"><span class="id" title="lemma">word_to_lword_get_word_int</span></a> (<a id="w:835" class="idref" href="#w:835"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v:836" class="idref" href="#v:836"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_zL"><span class="id" title="definition">is_zL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:835"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:835"><span class="id" title="variable">w</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:836"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:835"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> * ; <span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_sealed_with_oL" class="idref" href="#is_sealed_with_oL"><span class="id" title="definition">is_sealed_with_oL</span></a> (<a id="lw:837" class="idref" href="#lw:837"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="o:838" class="idref" href="#o:838"><span class="id" title="binder">o</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#OType"><span class="id" title="abbreviation">OType</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:837"><span class="id" title="variable">lw</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">o'</span> <span class="id" title="var">sb</span> =&gt; (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#o:838"><span class="id" title="variable">o</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#fc98ca1de87871caf368dfbeb46e594a"><span class="id" title="notation">=?</span></a> <span class="id" title="var">o'</span>)%<span class="id" title="var">ot</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="laddr_ne_reg_ne" class="idref" href="#laddr_ne_reg_ne"><span class="id" title="lemma">laddr_ne_reg_ne</span></a> {<a id="lregs:840" class="idref" href="#lregs:840"><span class="id" title="binder">lregs</span></a> : <span class="id" title="abbreviation">leibnizO</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>} {<a id="r1:841" class="idref" href="#r1:841"><span class="id" title="binder">r1</span></a> <a id="r2:842" class="idref" href="#r2:842"><span class="id" title="binder">r2</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>}<br/>
&nbsp;&nbsp;{<a id="p0:843" class="idref" href="#p0:843"><span class="id" title="binder">p0</span></a> <a id="b0:844" class="idref" href="#b0:844"><span class="id" title="binder">b0</span></a> <a id="e0:845" class="idref" href="#e0:845"><span class="id" title="binder">e0</span></a> <a id="a0:846" class="idref" href="#a0:846"><span class="id" title="binder">a0</span></a> <a id="v0:847" class="idref" href="#v0:847"><span class="id" title="binder">v0</span></a> <a id="p:848" class="idref" href="#p:848"><span class="id" title="binder">p</span></a> <a id="b:849" class="idref" href="#b:849"><span class="id" title="binder">b</span></a> <a id="e:850" class="idref" href="#e:850"><span class="id" title="binder">e</span></a> <a id="a:851" class="idref" href="#a:851"><span class="id" title="binder">a</span></a> <a id="v:852" class="idref" href="#v:852"><span class="id" title="binder">v</span></a>}:<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:840"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r1:841"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p0:843"><span class="id" title="variable">p0</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b0:844"><span class="id" title="variable">b0</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e0:845"><span class="id" title="variable">e0</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a0:846"><span class="id" title="variable">a0</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v0:847"><span class="id" title="variable">v0</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:840"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r2:842"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:848"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:849"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:850"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:851"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:852"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a0:846"><span class="id" title="variable">a0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v0:847"><span class="id" title="variable">v0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:851"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:852"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r1:841"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r2:842"><span class="id" title="variable">r2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hr1</span> <span class="id" title="var">Hr2</span> <span class="id" title="var">Hne</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">r1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r2</span>)); <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unique_in_registersL_pc_no_overlap" class="idref" href="#unique_in_registersL_pc_no_overlap"><span class="id" title="lemma">unique_in_registersL_pc_no_overlap</span></a><br/>
&nbsp;&nbsp;(<a id="pc_p:853" class="idref" href="#pc_p:853"><span class="id" title="binder">pc_p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="pc_b:854" class="idref" href="#pc_b:854"><span class="id" title="binder">pc_b</span></a> <a id="pc_e:855" class="idref" href="#pc_e:855"><span class="id" title="binder">pc_e</span></a> <a id="pc_a:856" class="idref" href="#pc_a:856"><span class="id" title="binder">pc_a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="pc_v:857" class="idref" href="#pc_v:857"><span class="id" title="binder">pc_v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>)<br/>
&nbsp;&nbsp;(<a id="p:858" class="idref" href="#p:858"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>) (<a id="b:859" class="idref" href="#b:859"><span class="id" title="binder">b</span></a> <a id="e:860" class="idref" href="#e:860"><span class="id" title="binder">e</span></a> <a id="a:861" class="idref" href="#a:861"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:862" class="idref" href="#v:862"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>)<br/>
&nbsp;&nbsp;(<a id="src:863" class="idref" href="#src:863"><span class="id" title="binder">src</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="regs:864" class="idref" href="#regs:864"><span class="id" title="binder">regs</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:863"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC"><span class="id" title="inductive">isCorrectLPC</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#pc_p:853"><span class="id" title="variable">pc_p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#pc_b:854"><span class="id" title="variable">pc_b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#pc_e:855"><span class="id" title="variable">pc_e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#pc_a:856"><span class="id" title="variable">pc_a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#pc_v:857"><span class="id" title="variable">pc_v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#regs:864"><span class="id" title="variable">regs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.opsem.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#pc_p:853"><span class="id" title="variable">pc_p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#pc_b:854"><span class="id" title="variable">pc_b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#pc_e:855"><span class="id" title="variable">pc_e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#pc_a:856"><span class="id" title="variable">pc_a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#pc_v:857"><span class="id" title="variable">pc_v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#regs:864"><span class="id" title="variable">regs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:863"><span class="id" title="variable">src</span></a>) (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:858"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:859"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:860"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:861"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:862"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#pc_a:856"><span class="id" title="variable">pc_a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:859"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:860"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hpc_neq_pc</span> <span class="id" title="var">Hvpc</span> <span class="id" title="var">Hpc</span> <span class="id" title="var">Hunique_regs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">pc_a</span> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <span class="id" title="var">pc_b</span> <span class="id" title="var">pc_e</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#isCorrectLPC_isCorrectPC_iff"><span class="id" title="axiom">isCorrectLPC_isCorrectPC_iff</span></a> /=  <span class="id" title="tactic">in</span> <span class="id" title="var">Hvpc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#isCorrectPC_withinBounds"><span class="id" title="axiom">isCorrectPC_withinBounds</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvpc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_base.html#withinBounds_in_seq"><span class="id" title="axiom">withinBounds_in_seq</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#unique_in_registersL"><span class="id" title="definition">unique_in_registersL</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_regs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hunique_regs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="cap_machine.opsem.addr_reg.html#PC"><span class="id" title="constructor">PC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">src</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hunique_regs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#overlap_wordL"><span class="id" title="definition">overlap_wordL</span></a> /<a class="idref" href="cap_machine.opsem.cap_lang.html#overlap_word"><span class="id" title="definition">overlap_word</span></a> //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#elem_of_finz_seq_between"><span class="id" title="lemma">elem_of_finz_seq_between</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>,<span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>,<span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">b</span> <a class="idref" href="cap_machine.opsem.addr_reg.html#f9f0bbf7338c04b048aba7393b183966"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">pc_b</span>)%<span class="id" title="var">a</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hb</span>; <span class="id" title="var">solve_addr</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_version_addr_next" class="idref" href="#update_version_addr_next"><span class="id" title="lemma">update_version_addr_next</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:865" class="idref" href="#glmem:865"><span class="id" title="binder">glmem</span></a> <a id="llmem:866" class="idref" href="#llmem:866"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="a:867" class="idref" href="#a:867"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:868" class="idref" href="#v:868"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lw:869" class="idref" href="#lw:869"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:865"><span class="id" title="variable">glmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:867"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:868"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:869"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:865"><span class="id" title="variable">glmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:867"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:868"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:865"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:867"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:868"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:866"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:867"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:868"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:869"><span class="id" title="variable">lw</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlw</span> <span class="id" title="var">Hlw_max</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr"><span class="id" title="definition">update_version_addr</span></a> <span class="id" title="var">Hlw</span> ; <span class="id" title="var">simplify_map_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_valid_updated_lmemory_update_version_region" class="idref" href="#is_valid_updated_lmemory_update_version_region"><span class="id" title="lemma">is_valid_updated_lmemory_update_version_region</span></a><br/>
&nbsp;&nbsp;(<a id="glmem:870" class="idref" href="#glmem:870"><span class="id" title="binder">glmem</span></a> <a id="llmem:871" class="idref" href="#llmem:871"><span class="id" title="binder">llmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:872" class="idref" href="#la:872"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:873" class="idref" href="#v:873"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:871"><span class="id" title="variable">llmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:870"><span class="id" title="variable">glmem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:872"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:874" class="idref" href="#a:874"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:870"><span class="id" title="variable">glmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:874"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:873"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:872"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a':875" class="idref" href="#a':875"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:870"><span class="id" title="variable">glmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':875"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:873"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:872"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:870"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:871"><span class="id" title="variable">llmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:872"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:873"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#glmem:870"><span class="id" title="variable">glmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:872"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:873"><span class="id" title="variable">v</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#llmem:871"><span class="id" title="variable">llmem</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span>] ; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hincl</span> <span class="id" title="var">HnoDup</span> <span class="id" title="var">Hmax</span> <span class="id" title="var">Hsome</span> ; <span class="id" title="var">destruct_cons</span> ; <span class="id" title="var">cbn</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_valid_updated_lmemory"><span class="id" title="definition">is_valid_updated_lmemory</span></a> //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHla</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">Hgl_llmem</span> &amp; <span class="id" title="var">Hla_max</span> &amp; <span class="id" title="var">Hla_upd</span>) ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> <span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span> ; [|<span class="id" title="tactic">split</span>] ] ; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_cons</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken_None</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region"><span class="id" title="definition">update_version_region</span></a> <span class="id" title="var">glmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <span class="id" title="var">llmem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_cons</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsome_a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lw</span> <span class="id" title="var">Hlw</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">lw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_next"><span class="id" title="axiom">update_version_addr_next</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_impl</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hla_upd</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> [<span class="id" title="var">lw'</span> <span class="id" title="var">Hlw'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_region_notin_preserves_lmem"><span class="id" title="axiom">update_version_region_notin_preserves_lmem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw'</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlw'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax_a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> <span class="id" title="var">lw'</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#update_version_addr_lookup_neq"><span class="id" title="axiom">update_version_addr_lookup_neq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="reg_allows_hash" class="idref" href="#reg_allows_hash"><span class="id" title="definition">reg_allows_hash</span></a> (<a id="lregs:876" class="idref" href="#lregs:876"><span class="id" title="binder">lregs</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="r:877" class="idref" href="#r:877"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) <a id="p:878" class="idref" href="#p:878"><span class="id" title="binder">p</span></a> <a id="b:879" class="idref" href="#b:879"><span class="id" title="binder">b</span></a> <a id="e:880" class="idref" href="#e:880"><span class="id" title="binder">e</span></a> <a id="a:881" class="idref" href="#a:881"><span class="id" title="binder">a</span></a> <a id="v:882" class="idref" href="#v:882"><span class="id" title="binder">v</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:876"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:877"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:878"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:879"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:880"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:881"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:882"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#readAllowed"><span class="id" title="definition">readAllowed</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:878"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="laddr_leb" class="idref" href="#laddr_leb"><span class="id" title="definition">laddr_leb</span></a> := <a class="idref" href="cap_machine.opsem.cap_lang.html#pair_fst_leb"><span class="id" title="definition">pair_fst_leb</span></a> (<span class="id" title="var">A</span>:= <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<span class="id" title="var">B</span>:= <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) <a class="idref" href="cap_machine.opsem.cap_lang.html#addr_leb"><span class="id" title="definition">addr_leb</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="lmem_leb" class="idref" href="#lmem_leb"><span class="id" title="definition">lmem_leb</span></a> := <a class="idref" href="cap_machine.opsem.cap_lang.html#pair_fst_leb"><span class="id" title="definition">pair_fst_leb</span></a> (<span class="id" title="var">A</span>:= <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<span class="id" title="var">B</span>:= <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_leb"><span class="id" title="definition">laddr_leb</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lmemory_get_instrs" class="idref" href="#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> (<a id="lm:883" class="idref" href="#lm:883"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:884" class="idref" href="#la:884"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:885" class="idref" href="#v:885"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">foldr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="a:886" class="idref" href="#a:886"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="opt_instrs_next:887" class="idref" href="#opt_instrs_next:887"><span class="id" title="binder">opt_instrs_next</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="instrs_next:888" class="idref" href="#instrs_next:888"><span class="id" title="binder">instrs_next</span></a> <span class="id" title="notation">←</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#opt_instrs_next:887"><span class="id" title="variable">opt_instrs_next</span></a> <span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="w:889" class="idref" href="#w:889"><span class="id" title="binder">w</span></a> <span class="id" title="notation">←</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:883"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:886"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:885"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:889"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)::</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#instrs_next:888"><span class="id" title="variable">instrs_next</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:884"><span class="id" title="variable">la</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="hash_lmemory_range" class="idref" href="#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a> `{<a id="H:890" class="idref" href="#H:890"><span class="id" title="binder">MachineParameters</span></a>} (<a id="lm:891" class="idref" href="#lm:891"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="b:892" class="idref" href="#b:892"><span class="id" title="binder">b</span></a> <a id="e:893" class="idref" href="#e:893"><span class="id" title="binder">e</span></a>: <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:894" class="idref" href="#v:894"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<a id="instructions:895" class="idref" href="#instructions:895"><span class="id" title="binder">instructions</span></a> <span class="id" title="notation">←</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:891"><span class="id" title="variable">lm</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:892"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:893"><span class="id" title="variable">e</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:894"><span class="id" title="variable">v</span></a> <span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.opsem.machine_parameters.html#hash"><span class="id" title="method">hash</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#instructions:895"><span class="id" title="variable">instructions</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmeasure_measure_aux" class="idref" href="#lmeasure_measure_aux"><span class="id" title="lemma">lmeasure_measure_aux</span></a> `{<a id="MP:896" class="idref" href="#MP:896"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.opsem.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>}<br/>
&nbsp;&nbsp;(<a id="phm:897" class="idref" href="#phm:897"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lm:898" class="idref" href="#lm:898"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:899" class="idref" href="#vmap:899"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>) (<a id="la:900" class="idref" href="#la:900"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:901" class="idref" href="#v:901"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:898"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:899"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:897"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:898"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:899"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a id="a:902" class="idref" href="#a:902"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:902"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:900"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:899"><span class="id" title="variable">vmap</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:902"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:901"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:898"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:900"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:901"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.opsem.cap_lang.html#memory_get_instrs"><span class="id" title="definition">memory_get_instrs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:897"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:900"><span class="id" title="variable">la</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcur</span> <span class="id" title="var">Hroot</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hvmap</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.opsem.cap_lang.html#memory_get_instrs"><span class="id" title="definition">memory_get_instrs</span></a> <span class="id" title="var">phm</span> <span class="id" title="var">la</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvmap</span>; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> /<a class="idref" href="cap_machine.opsem.cap_lang.html#memory_get_instrs"><span class="id" title="definition">memory_get_instrs</span></a> !<span class="id" title="lemma">foldr_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span>) -/(<a class="idref" href="cap_machine.opsem.cap_lang.html#memory_get_instrs"><span class="id" title="definition">memory_get_instrs</span></a> <span class="id" title="var">phm</span> <span class="id" title="var">la</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hroot</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">vmap</span> <span class="id" title="notation">!!</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvmap</span>; <span class="id" title="var">set_solver</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hroot</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hroot</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lw</span> &amp; <span class="id" title="var">Hlm_a</span> &amp; <span class="id" title="var">Hphm_a</span> &amp; <span class="id" title="var">Hcur_lw</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlm_a</span> <span class="id" title="var">Hphm_a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmeasure_measure" class="idref" href="#lmeasure_measure"><span class="id" title="lemma">lmeasure_measure</span></a> `{<a id="MP:903" class="idref" href="#MP:903"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.opsem.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>} (<a id="phr:904" class="idref" href="#phr:904"><span class="id" title="binder">phr</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="phm:905" class="idref" href="#phm:905"><span class="id" title="binder">phm</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="lr:906" class="idref" href="#lr:906"><span class="id" title="binder">lr</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a>) (<a id="lm:907" class="idref" href="#lm:907"><span class="id" title="binder">lm</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="vmap:908" class="idref" href="#vmap:908"><span class="id" title="binder">vmap</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#VMap"><span class="id" title="definition">VMap</span></a>)  :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="p:909" class="idref" href="#p:909"><span class="id" title="binder">p</span></a> <a id="b:910" class="idref" href="#b:910"><span class="id" title="binder">b</span></a> <a id="e:911" class="idref" href="#e:911"><span class="id" title="binder">e</span></a> <a id="a:912" class="idref" href="#a:912"><span class="id" title="binder">a</span></a> <a id="v:913" class="idref" href="#v:913"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:909"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:910"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:911"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:912"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:913"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:908"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:904"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:905"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:906"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:907"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:908"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:907"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:910"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:911"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:913"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.opsem.cap_lang.html#hash_memory_range"><span class="id" title="definition">hash_memory_range</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:905"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:910"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:911"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> <span class="id" title="var">Hcur_word</span> [ <span class="id" title="var">_</span> (<span class="id" title="var">Hcur</span> &amp; <span class="id" title="var">Hroot</span> &amp; <span class="id" title="var">_</span>) ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a>, <a class="idref" href="cap_machine.opsem.cap_lang.html#hash_memory_range"><span class="id" title="definition">hash_memory_range</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_word</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmeasure_measure_aux"><span class="id" title="axiom">lmeasure_measure_aux</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lmeasure" class="idref" href="#lmeasure"><span class="id" title="definition">lmeasure</span></a> `{<a id="MP:914" class="idref" href="#MP:914"><span class="id" title="binder">MP</span></a> : <a class="idref" href="cap_machine.opsem.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>} (<a id="m:915" class="idref" href="#m:915"><span class="id" title="binder">m</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="b:916" class="idref" href="#b:916"><span class="id" title="binder">b</span></a> <a id="e:917" class="idref" href="#e:917"><span class="id" title="binder">e</span></a>: <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) <a id="v:918" class="idref" href="#v:918"><span class="id" title="binder">v</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<a id="hash_instr:919" class="idref" href="#hash_instr:919"><span class="id" title="binder">hash_instr</span></a> <span class="id" title="notation">←</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m:915"><span class="id" title="variable">m</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:916"><span class="id" title="variable">b</span></a><a class="idref" href="cap_machine.opsem.addr_reg.html#58e53c8acf01fb8822eb5bae448055ec"><span class="id" title="notation">^+</span></a>1)%<span class="id" title="var">a</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:917"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:918"><span class="id" title="variable">v</span></a><span class="id" title="notation">;</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.opsem.machine_parameters.html#hash_concat"><span class="id" title="method">hash_concat</span></a> (<a class="idref" href="cap_machine.opsem.machine_parameters.html#hash"><span class="id" title="method">hash</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:916"><span class="id" title="variable">b</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#hash_instr:919"><span class="id" title="variable">hash_instr</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmeasure_weaken_aux" class="idref" href="#lmeasure_weaken_aux"><span class="id" title="lemma">lmeasure_weaken_aux</span></a> (<a id="lmem:920" class="idref" href="#lmem:920"><span class="id" title="binder">lmem</span></a> <a id="lmt:921" class="idref" href="#lmt:921"><span class="id" title="binder">lmt</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:922" class="idref" href="#la:922"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:923" class="idref" href="#v:923"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:920"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmt:921"><span class="id" title="variable">lmt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:924" class="idref" href="#a:924"><span class="id" title="binder">a</span></a> =&gt; <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:920"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:924"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:923"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:922"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:920"><span class="id" title="variable">lmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:922"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:923"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmt:921"><span class="id" title="variable">lmt</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:922"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:923"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hincl</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> ; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hall</span> <span class="id" title="keyword">as</span> [ [<span class="id" title="var">w</span> <span class="id" title="var">Ha</span>] <span class="id" title="var">Hall</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">lmt</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">w</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Ha'</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span> ; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <span class="id" title="var">lmem</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span>) -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <span class="id" title="var">lmt</span> <span class="id" title="var">la</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Ha'</span> <span class="id" title="var">Hall</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lmeasure_weaken" class="idref" href="#lmeasure_weaken"><span class="id" title="lemma">lmeasure_weaken</span></a> `{<a id="MP:925" class="idref" href="#MP:925"><span class="id" title="binder">MP</span></a> : <a class="idref" href="cap_machine.opsem.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>} {<a id="lmem:926" class="idref" href="#lmem:926"><span class="id" title="binder">lmem</span></a> <a id="lmt:927" class="idref" href="#lmt:927"><span class="id" title="binder">lmt</span></a>} {<a id="b:928" class="idref" href="#b:928"><span class="id" title="binder">b</span></a> <a id="e:929" class="idref" href="#e:929"><span class="id" title="binder">e</span></a> <a id="v:930" class="idref" href="#v:930"><span class="id" title="binder">v</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:926"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmt:927"><span class="id" title="variable">lmt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:931" class="idref" href="#a:931"><span class="id" title="binder">a</span></a> =&gt; <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:926"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:931"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:930"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:928"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:929"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:926"><span class="id" title="variable">lmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:928"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:929"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:930"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmt:927"><span class="id" title="variable">lmt</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:928"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:929"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:930"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hincl</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmeasure_weaken_aux"><span class="id" title="axiom">lmeasure_weaken_aux</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ensures_is_zL" class="idref" href="#ensures_is_zL"><span class="id" title="definition">ensures_is_zL</span></a> (<a id="lmem:932" class="idref" href="#lmem:932"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="b:933" class="idref" href="#b:933"><span class="id" title="binder">b</span></a> <a id="e:934" class="idref" href="#e:934"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:935" class="idref" href="#v:935"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span> (<span class="id" title="keyword">fun</span> <a id="la:936" class="idref" href="#la:936"><span class="id" title="binder">la</span></a> <a id="lw:937" class="idref" href="#lw:937"><span class="id" title="binder">lw</span></a> =&gt; <span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:936"><span class="id" title="variable">la</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:933"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:934"><span class="id" title="variable">e</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:936"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:935"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_zL"><span class="id" title="definition">is_zL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:937"><span class="id" title="variable">lw</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:932"><span class="id" title="variable">lmem</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ensures_is_z_corresponds" class="idref" href="#ensures_is_z_corresponds"><span class="id" title="lemma">ensures_is_z_corresponds</span></a> {<a id="phr:938" class="idref" href="#phr:938"><span class="id" title="binder">phr</span></a> <a id="phm:939" class="idref" href="#phm:939"><span class="id" title="binder">phm</span></a> <a id="lr:940" class="idref" href="#lr:940"><span class="id" title="binder">lr</span></a> <a id="lm:941" class="idref" href="#lm:941"><span class="id" title="binder">lm</span></a> <a id="vmap:942" class="idref" href="#vmap:942"><span class="id" title="binder">vmap</span></a>} {<a id="p:943" class="idref" href="#p:943"><span class="id" title="binder">p</span></a>} {<a id="b:944" class="idref" href="#b:944"><span class="id" title="binder">b</span></a> <a id="e:945" class="idref" href="#e:945"><span class="id" title="binder">e</span></a> <a id="a:946" class="idref" href="#a:946"><span class="id" title="binder">a</span></a>} {<a id="v:947" class="idref" href="#v:947"><span class="id" title="binder">v</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phr:938"><span class="id" title="variable">phr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:939"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lr:940"><span class="id" title="variable">lr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:941"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:942"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:943"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:944"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:945"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:946"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:947"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#vmap:942"><span class="id" title="variable">vmap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.cap_lang.html#ensures_is_z"><span class="id" title="definition">ensures_is_z</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#phm:939"><span class="id" title="variable">phm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:944"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:945"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#ensures_is_zL"><span class="id" title="definition">ensures_is_zL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:941"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:944"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:945"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:947"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcorr</span> <span class="id" title="var">Hr</span> <span class="id" title="var">Hensure_z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#ensures_is_zL"><span class="id" title="definition">ensures_is_zL</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.opsem.cap_lang.html#ensures_is_z"><span class="id" title="definition">ensures_is_z</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hensure_z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">bool_decide_unpack</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hensure_z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcorr</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">Hreg</span> (? &amp; ? &amp; ?) ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_Forall_lookup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a'</span> <span class="id" title="var">v'</span>] <span class="id" title="var">lw</span> <span class="id" title="var">Hla</span> [<span class="id" title="var">Hla_in</span> ?]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hr</span> <span class="id" title="var">a'</span> <span class="id" title="var">Hla_in</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hensure_z</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hensure_z</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lw</span> ; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ensures_is_z_mono" class="idref" href="#ensures_is_z_mono"><span class="id" title="lemma">ensures_is_z_mono</span></a> {<a id="lm:948" class="idref" href="#lm:948"><span class="id" title="binder">lm</span></a> <a id="lm':949" class="idref" href="#lm':949"><span class="id" title="binder">lm'</span></a>} {<a id="b:950" class="idref" href="#b:950"><span class="id" title="binder">b</span></a> <a id="e:951" class="idref" href="#e:951"><span class="id" title="binder">e</span></a>} {<a id="v:952" class="idref" href="#v:952"><span class="id" title="binder">v</span></a>}  :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:948"><span class="id" title="variable">lm</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':949"><span class="id" title="variable">lm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#ensures_is_zL"><span class="id" title="definition">ensures_is_zL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm':949"><span class="id" title="variable">lm'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:950"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:951"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:952"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#ensures_is_zL"><span class="id" title="definition">ensures_is_zL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lm:948"><span class="id" title="variable">lm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:950"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:951"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:952"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsub</span> <span class="id" title="var">Hensure_is_zL</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#ensures_is_zL"><span class="id" title="definition">ensures_is_zL</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hensure_is_zL</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_Forall_lookup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">v'</span>] <span class="id" title="var">lw</span> <span class="id" title="var">Hla</span> [<span class="id" title="var">Hin</span> ?] ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Logical_mapsto"><span class="id" title="section">Logical_mapsto</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="lmachine_param" class="idref" href="#lmachine_param"><span class="id" title="section">lmachine_param</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="H:953" class="idref" href="#H:953"><span class="id" title="binder">MachineParameters</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="decodeInstrWL" class="idref" href="#decodeInstrWL"><span class="id" title="definition">decodeInstrWL</span></a> (<a id="lw:954" class="idref" href="#lw:954"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.machine_parameters.html#decodeInstrW"><span class="id" title="definition">decodeInstrW</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:954"><span class="id" title="variable">lw</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="encodeInstrWL" class="idref" href="#encodeInstrWL"><span class="id" title="definition">encodeInstrWL</span></a> (<a id="i:955" class="idref" href="#i:955"><span class="id" title="binder">i</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#instr"><span class="id" title="inductive">instr</span></a>) : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> := <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> (<a class="idref" href="cap_machine.opsem.machine_parameters.html#encodeInstr"><span class="id" title="method">encodeInstr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#i:955"><span class="id" title="variable">i</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="decode_encode_instrLW_inv" class="idref" href="#decode_encode_instrLW_inv"><span class="id" title="lemma">decode_encode_instrLW_inv</span></a> (<a id="i:956" class="idref" href="#i:956"><span class="id" title="binder">i</span></a>: <a class="idref" href="cap_machine.opsem.machine_base.html#instr"><span class="id" title="inductive">instr</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#decodeInstrWL"><span class="id" title="definition">decodeInstrWL</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeInstrWL"><span class="id" title="definition">encodeInstrWL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#i:956"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#i:956"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.opsem.machine_parameters.html#decode_encode_instr_inv"><span class="id" title="method">decode_encode_instr_inv</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="encodeInstrsLW" class="idref" href="#encodeInstrsLW"><span class="id" title="definition">encodeInstrsLW</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#instr"><span class="id" title="inductive">instr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeInstrWL"><span class="id" title="definition">encodeInstrWL</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="encodeLWordType" class="idref" href="#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a id="lw:957" class="idref" href="#lw:957"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.machine_parameters.html#encodeWordType"><span class="id" title="method">encodeWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:957"><span class="id" title="variable">lw</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="encodeLWordType_correct" class="idref" href="#encodeLWordType_correct"><span class="id" title="lemma">encodeLWordType_correct</span></a> (<a id="w:958" class="idref" href="#w:958"><span class="id" title="binder">w</span></a> <a id="w':959" class="idref" href="#w':959"><span class="id" title="binder">w'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:958"><span class="id" title="variable">w</span></a>,<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w':959"><span class="id" title="variable">w'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:958"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w':959"><span class="id" title="variable">w'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:958"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w':959"><span class="id" title="variable">w'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:958"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w':959"><span class="id" title="variable">w'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">_</span>, <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:958"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w':959"><span class="id" title="variable">w'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:958"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w':959"><span class="id" title="variable">w'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.opsem.machine_parameters.html#encodeWordType_correct"><span class="id" title="method">encodeWordType_correct</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">w</span>) (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="var">w'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span>, <span class="id" title="var">w'</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lwt_cap" class="idref" href="#lwt_cap"><span class="id" title="definition">lwt_cap</span></a> := <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#O"><span class="id" title="constructor">O</span></a> 0%<span class="id" title="var">a</span> 0%<span class="id" title="var">a</span> 0%<span class="id" title="var">a</span> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lwt_sealrange" class="idref" href="#lwt_sealrange"><span class="id" title="definition">lwt_sealrange</span></a> := <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> 0%<span class="id" title="var">ot</span> 0%<span class="id" title="var">ot</span> 0%<span class="id" title="var">ot</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lwt_sealed" class="idref" href="#lwt_sealed"><span class="id" title="definition">lwt_sealed</span></a> := <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> 0%<span class="id" title="var">ot</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSCap"><span class="id" title="constructor">LSCap</span></a> <a class="idref" href="cap_machine.opsem.machine_base.html#O"><span class="id" title="constructor">O</span></a> 0%<span class="id" title="var">a</span> 0%<span class="id" title="var">a</span> 0%<span class="id" title="var">a</span> 0).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="lwt_int" class="idref" href="#lwt_int"><span class="id" title="definition">lwt_int</span></a> := <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> 0.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmachine_param"><span class="id" title="section">lmachine_param</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_encodeLWordType</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">_</span> |- <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> ?<span class="id" title="var">y</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType_correct"><span class="id" title="axiom">encodeLWordType_correct</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.opsem.machine_parameters.html#wt_cap"><span class="id" title="definition">wt_cap</span></a>, <a class="idref" href="cap_machine.opsem.machine_parameters.html#wt_int"><span class="id" title="definition">wt_int</span></a>, <a class="idref" href="cap_machine.opsem.machine_parameters.html#wt_sealrange"><span class="id" title="definition">wt_sealrange</span></a>, <a class="idref" href="cap_machine.opsem.machine_parameters.html#wt_cap"><span class="id" title="definition">wt_cap</span></a> ; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span> ; <span class="id" title="tactic">auto</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simpl_encodeLWordType</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span> <span class="id" title="var">G</span> [<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> ?<span class="id" title="var">p</span> ?<span class="id" title="var">b</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">a</span> ?<span class="id" title="var">v</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwt_cap"><span class="id" title="definition">lwt_cap</span></a>) ; <span class="id" title="var">last</span> <span class="id" title="var">solve_encodeLWordType</span><br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span> <span class="id" title="var">G</span> [<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> ?<span class="id" title="var">p</span> ?<span class="id" title="var">b</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">a</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwt_sealrange"><span class="id" title="definition">lwt_sealrange</span></a>) ; <span class="id" title="var">last</span> <span class="id" title="var">solve_encodeLWordType</span><br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span> <span class="id" title="var">G</span> [<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> ?<span class="id" title="var">n</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <span class="id" title="var">n</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwt_int"><span class="id" title="definition">lwt_int</span></a>) ; <span class="id" title="var">last</span> <span class="id" title="var">solve_encodeLWordType</span><br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">_</span> |- <span class="id" title="keyword">context</span> <span class="id" title="var">G</span> [<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> ?<span class="id" title="var">o</span> ?<span class="id" title="var">s</span>)] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <span class="id" title="var">o</span> <span class="id" title="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lwt_sealed"><span class="id" title="definition">lwt_sealed</span></a>) ; <span class="id" title="var">last</span> <span class="id" title="var">solve_encodeLWordType</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="encodeLWordType_correct_cap" class="idref" href="#encodeLWordType_correct_cap"><span class="id" title="lemma">encodeLWordType_correct_cap</span></a> `{<a id="H:962" class="idref" href="#H:962"><span class="id" title="binder">MachineParameters</span></a>} : <span class="id" title="notation">forall</span> <a id="p:963" class="idref" href="#p:963"><span class="id" title="binder">p</span></a> <a id="b:964" class="idref" href="#b:964"><span class="id" title="binder">b</span></a> <a id="e:965" class="idref" href="#e:965"><span class="id" title="binder">e</span></a> <a id="a:966" class="idref" href="#a:966"><span class="id" title="binder">a</span></a> <a id="v:967" class="idref" href="#v:967"><span class="id" title="binder">v</span></a> <a id="p':968" class="idref" href="#p':968"><span class="id" title="binder">p'</span></a> <a id="b':969" class="idref" href="#b':969"><span class="id" title="binder">b'</span></a> <a id="e':970" class="idref" href="#e':970"><span class="id" title="binder">e'</span></a> <a id="a':971" class="idref" href="#a':971"><span class="id" title="binder">a'</span></a> <a id="v':972" class="idref" href="#v':972"><span class="id" title="binder">v'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:963"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:964"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:965"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:966"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:967"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p':968"><span class="id" title="variable">p'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':969"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':970"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':971"><span class="id" title="variable">a'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':972"><span class="id" title="variable">v'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_encodeLWordType</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="encodeLWordType_correct_int" class="idref" href="#encodeLWordType_correct_int"><span class="id" title="lemma">encodeLWordType_correct_int</span></a> `{<a id="H:973" class="idref" href="#H:973"><span class="id" title="binder">MachineParameters</span></a>} : <span class="id" title="notation">forall</span> <a id="z:974" class="idref" href="#z:974"><span class="id" title="binder">z</span></a> <a id="z':975" class="idref" href="#z':975"><span class="id" title="binder">z'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#z:974"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LInt"><span class="id" title="abbreviation">LInt</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#z':975"><span class="id" title="variable">z'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_encodeLWordType</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="encodeLWordType_correct_sealrange" class="idref" href="#encodeLWordType_correct_sealrange"><span class="id" title="lemma">encodeLWordType_correct_sealrange</span></a> `{<a id="H:976" class="idref" href="#H:976"><span class="id" title="binder">MachineParameters</span></a>} : <span class="id" title="notation">forall</span> <a id="p:977" class="idref" href="#p:977"><span class="id" title="binder">p</span></a> <a id="b:978" class="idref" href="#b:978"><span class="id" title="binder">b</span></a> <a id="e:979" class="idref" href="#e:979"><span class="id" title="binder">e</span></a> <a id="a:980" class="idref" href="#a:980"><span class="id" title="binder">a</span></a> <a id="p':981" class="idref" href="#p':981"><span class="id" title="binder">p'</span></a> <a id="b':982" class="idref" href="#b':982"><span class="id" title="binder">b'</span></a> <a id="e':983" class="idref" href="#e':983"><span class="id" title="binder">e'</span></a> <a id="a':984" class="idref" href="#a':984"><span class="id" title="binder">a'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:977"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:978"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:979"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:980"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LSealRange"><span class="id" title="abbreviation">LSealRange</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p':981"><span class="id" title="variable">p'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':982"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':983"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':984"><span class="id" title="variable">a'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_encodeLWordType</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="encodeLWordType_correct_sealed" class="idref" href="#encodeLWordType_correct_sealed"><span class="id" title="lemma">encodeLWordType_correct_sealed</span></a> `{<a id="H:985" class="idref" href="#H:985"><span class="id" title="binder">MachineParameters</span></a>} : <span class="id" title="notation">forall</span> <a id="o:986" class="idref" href="#o:986"><span class="id" title="binder">o</span></a> <a id="s:987" class="idref" href="#s:987"><span class="id" title="binder">s</span></a> <a id="o':988" class="idref" href="#o':988"><span class="id" title="binder">o'</span></a> <a id="s':989" class="idref" href="#s':989"><span class="id" title="binder">s'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#o:986"><span class="id" title="variable">o</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#s:987"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#encodeLWordType"><span class="id" title="definition">encodeLWordType</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#o':988"><span class="id" title="variable">o'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#s':989"><span class="id" title="variable">s'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">solve_encodeLWordType</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
Miscellaneous about logical regions 
</div>
<div class="code">
<span class="comment">(*&nbsp;TODO&nbsp;move&nbsp;definition&nbsp;to&nbsp;regions.v&nbsp;?&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_logical_region" class="idref" href="#elem_of_logical_region"><span class="id" title="lemma">elem_of_logical_region</span></a> (<a id="a:990" class="idref" href="#a:990"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="la:991" class="idref" href="#la:991"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:992" class="idref" href="#v:992"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:990"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:991"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:990"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:992"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:991"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:992"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="logical_region_map" class="idref" href="#logical_region_map"><span class="id" title="definition">logical_region_map</span></a><br/>
&nbsp;&nbsp;(<a id="la:993" class="idref" href="#la:993"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:994" class="idref" href="#lws:994"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v:995" class="idref" href="#v:995"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">list_to_map</span> (<span class="id" title="abbreviation">zip</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:993"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:995"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:994"><span class="id" title="variable">lws</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_notin" class="idref" href="#logical_region_notin"><span class="id" title="lemma">logical_region_notin</span></a><br/>
&nbsp;&nbsp;(<a id="la:996" class="idref" href="#la:996"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:997" class="idref" href="#a:997"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:998" class="idref" href="#v:998"><span class="id" title="binder">v</span></a> <a id="v':999" class="idref" href="#v':999"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1000" class="idref" href="#lws:1000"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1000"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:996"><span class="id" title="variable">la</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:997"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:996"><span class="id" title="variable">la</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:996"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1000"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:998"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:997"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':999"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hnotin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_list_to_map_1</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fst_zip</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span> ; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">last</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> ; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_version_neq" class="idref" href="#logical_region_version_neq"><span class="id" title="lemma">logical_region_version_neq</span></a><br/>
&nbsp;&nbsp;(<a id="la:1001" class="idref" href="#la:1001"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:1002" class="idref" href="#a:1002"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1003" class="idref" href="#v:1003"><span class="id" title="binder">v</span></a> <a id="v':1004" class="idref" href="#v':1004"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1005" class="idref" href="#lws:1005"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1005"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1001"><span class="id" title="variable">la</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1003"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1004"><span class="id" title="variable">v'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1001"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1005"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1003"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1002"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1004"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_list_to_map_1</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fst_zip</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span> ; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">last</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a> ; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_map_cons" class="idref" href="#logical_region_map_cons"><span class="id" title="lemma">logical_region_map_cons</span></a><br/>
&nbsp;&nbsp;(<a id="la:1006" class="idref" href="#la:1006"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:1007" class="idref" href="#a:1007"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1008" class="idref" href="#v:1008"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1009" class="idref" href="#lws:1009"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="lw:1010" class="idref" href="#lw:1010"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> ):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1007"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1006"><span class="id" title="variable">la</span></a>) (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:1010"><span class="id" title="variable">lw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1009"><span class="id" title="variable">lws</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1008"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">&lt;[</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1007"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1008"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:1010"><span class="id" title="variable">lw</span></a> <span class="id" title="notation">]&gt;</span> <span class="id" title="notation">(</span><span class="id" title="notation">logical_region_map</span> <span class="id" title="notation">la</span> <span class="id" title="notation">lws</span> <span class="id" title="notation">v</span><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_map_some_inv" class="idref" href="#logical_region_map_some_inv"><span class="id" title="lemma">logical_region_map_some_inv</span></a><br/>
&nbsp;&nbsp;(<a id="a:1011" class="idref" href="#a:1011"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) ( <a id="v:1012" class="idref" href="#v:1012"><span class="id" title="binder">v</span></a> <a id="v':1013" class="idref" href="#v':1013"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> )<br/>
&nbsp;&nbsp;(<a id="la:1014" class="idref" href="#la:1014"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1015" class="idref" href="#lws:1015"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1014"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1015"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1014"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1014"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1015"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1012"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1011"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1013"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1013"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1012"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1011"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1014"><span class="id" title="variable">la</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HNoDup</span> <span class="id" title="var">Hlen</span> [<span class="id" title="var">lw</span> <span class="id" title="var">Hlw</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_to_map</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_zip_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlw</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fst_zip</span> ; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">last</span>  (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_fmap</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Heq</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_map_lookup_versions" class="idref" href="#logical_region_map_lookup_versions"><span class="id" title="lemma">logical_region_map_lookup_versions</span></a><br/>
&nbsp;&nbsp;(<a id="la:1016" class="idref" href="#la:1016"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':1017" class="idref" href="#a':1017"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1018" class="idref" href="#v:1018"><span class="id" title="binder">v</span></a> <a id="v':1019" class="idref" href="#v':1019"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1020" class="idref" href="#lws:1020"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1016"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':1017"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1016"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1020"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1016"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1016"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1020"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1018"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':1017"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1018"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1016"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1020"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1019"><span class="id" title="variable">v'</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':1017"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1019"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">a'</span> <span class="id" title="var">v</span> <span class="id" title="var">v'</span> <span class="id" title="var">lws</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>]; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">Ha'_in_la</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">lws</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">lw</span> <span class="id" title="var">lws</span>] ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">Hlen</span> ; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hlen</span> ; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'_in_la</span>; <span class="id" title="var">cbn</span> ; <span class="id" title="var">simplify_map_eq</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> /= ; <span class="id" title="var">last</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">set_solver</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> /= ; <span class="id" title="var">last</span> (<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>; <span class="id" title="var">set_solver</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHla</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_map_inv" class="idref" href="#logical_region_map_inv"><span class="id" title="lemma">logical_region_map_inv</span></a><br/>
&nbsp;&nbsp;(<a id="lmem:1021" class="idref" href="#lmem:1021"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="la:1022" class="idref" href="#la:1022"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1023" class="idref" href="#v:1023"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1022"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1024" class="idref" href="#a:1024"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:1021"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1024"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1023"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1022"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="lws:1025" class="idref" href="#lws:1025"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1025"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1022"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1022"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1025"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1023"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:1021"><span class="id" title="variable">lmem</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">lmem</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span> <span class="id" title="var">IHla</span>] ; <span class="id" title="tactic">intros</span> * <span class="id" title="var">HNoDup</span> <span class="id" title="var">HnextMap</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_empty_subseteq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_cons</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">HnextMap_a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lwa</span> <span class="id" title="var">Hlwa</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHla</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HnextMap</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HnextMap</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lws</span> &amp; <span class="id" title="var">Hlen</span> &amp; <span class="id" title="var">Hincl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">lwa</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">lws</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">first</span> (<span class="id" title="var">cbn</span> ; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map_cons"><span class="id" title="axiom">logical_region_map_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">insert_subseteq_l</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_map_disjoint" class="idref" href="#logical_region_map_disjoint"><span class="id" title="lemma">logical_region_map_disjoint</span></a><br/>
&nbsp;&nbsp;(<a id="la1:1026" class="idref" href="#la1:1026"><span class="id" title="binder">la1</span></a> <a id="la2:1027" class="idref" href="#la2:1027"><span class="id" title="binder">la2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lw1:1028" class="idref" href="#lw1:1028"><span class="id" title="binder">lw1</span></a> <a id="lw2:1029" class="idref" href="#lw2:1029"><span class="id" title="binder">lw2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v1:1030" class="idref" href="#v1:1030"><span class="id" title="binder">v1</span></a> <a id="v2:1031" class="idref" href="#v2:1031"><span class="id" title="binder">v2</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la1:1026"><span class="id" title="variable">la1</span></a> <span class="id" title="notation">##</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la2:1027"><span class="id" title="variable">la2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la1:1026"><span class="id" title="variable">la1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw1:1028"><span class="id" title="variable">lw1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la1:1026"><span class="id" title="variable">la1</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw1:1028"><span class="id" title="variable">lw1</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v1:1030"><span class="id" title="variable">v1</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la2:1027"><span class="id" title="variable">la2</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw2:1029"><span class="id" title="variable">lw2</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v2:1031"><span class="id" title="variable">v2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdis</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_disjoint_list_to_map_zip_l</span> ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span> &amp; -&gt; &amp; <span class="id" title="var">Hx</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_list_to_map_1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> ( [<span class="id" title="var">y</span> <span class="id" title="var">vy</span>] &amp; ? &amp; <span class="id" title="var">Hy</span>); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_zip_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">y'</span> &amp; -&gt; &amp; <span class="id" title="var">Hy'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_NoDup" class="idref" href="#logical_region_NoDup"><span class="id" title="lemma">logical_region_NoDup</span></a> (<a id="la:1032" class="idref" href="#la:1032"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1033" class="idref" href="#v:1033"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1032"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="inductive">NoDup</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1032"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1033"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_fmap</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">Hx</span>; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_region_length" class="idref" href="#logical_region_length"><span class="id" title="lemma">logical_region_length</span></a> (<a id="la:1034" class="idref" href="#la:1034"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1035" class="idref" href="#v:1035"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1034"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1035"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1034"><span class="id" title="variable">la</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="lemma">map_length</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="logical_range_map" class="idref" href="#logical_range_map"><span class="id" title="definition">logical_range_map</span></a><br/>
&nbsp;&nbsp;(<a id="b:1036" class="idref" href="#b:1036"><span class="id" title="binder">b</span></a> <a id="e:1037" class="idref" href="#e:1037"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1038" class="idref" href="#lws:1038"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v:1039" class="idref" href="#v:1039"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) : <span class="id" title="record">gmap</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">list_to_map</span> (<span class="id" title="abbreviation">zip</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1036"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1037"><span class="id" title="variable">e</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1039"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1038"><span class="id" title="variable">lws</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_notin" class="idref" href="#logical_range_notin"><span class="id" title="lemma">logical_range_notin</span></a><br/>
&nbsp;&nbsp;(<a id="b:1040" class="idref" href="#b:1040"><span class="id" title="binder">b</span></a> <a id="e:1041" class="idref" href="#e:1041"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:1042" class="idref" href="#a:1042"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1043" class="idref" href="#v:1043"><span class="id" title="binder">v</span></a> <a id="v':1044" class="idref" href="#v':1044"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1045" class="idref" href="#lws:1045"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1045"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1040"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1041"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1042"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <span class="id" title="notation">(</span><a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1040"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1041"><span class="id" title="variable">e</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1040"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1041"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1045"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1043"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1042"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1044"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_notin"><span class="id" title="axiom">logical_region_notin</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_version_neq" class="idref" href="#logical_range_version_neq"><span class="id" title="lemma">logical_range_version_neq</span></a><br/>
&nbsp;&nbsp;(<a id="b:1046" class="idref" href="#b:1046"><span class="id" title="binder">b</span></a> <a id="e:1047" class="idref" href="#e:1047"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a:1048" class="idref" href="#a:1048"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1049" class="idref" href="#v:1049"><span class="id" title="binder">v</span></a> <a id="v':1050" class="idref" href="#v':1050"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1051" class="idref" href="#lws:1051"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1051"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1046"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1047"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1049"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1050"><span class="id" title="variable">v'</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1046"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1047"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1051"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1049"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1048"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1050"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_version_neq"><span class="id" title="axiom">logical_region_version_neq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_map_some_inv" class="idref" href="#logical_range_map_some_inv"><span class="id" title="lemma">logical_range_map_some_inv</span></a><br/>
&nbsp;&nbsp;(<a id="a:1052" class="idref" href="#a:1052"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) ( <a id="v:1053" class="idref" href="#v:1053"><span class="id" title="binder">v</span></a> <a id="v':1054" class="idref" href="#v':1054"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> )<br/>
&nbsp;&nbsp;(<a id="b:1055" class="idref" href="#b:1055"><span class="id" title="binder">b</span></a> <a id="e:1056" class="idref" href="#e:1056"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1057" class="idref" href="#lws:1057"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1057"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1055"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1056"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1055"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1056"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1057"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1053"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1052"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1054"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1054"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1053"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1052"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1055"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1056"><span class="id" title="variable">e</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map_some_inv"><span class="id" title="axiom">logical_region_map_some_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_NoDup"><span class="id" title="lemma">finz_seq_between_NoDup</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_map_lookup_versions" class="idref" href="#logical_range_map_lookup_versions"><span class="id" title="lemma">logical_range_map_lookup_versions</span></a><br/>
&nbsp;&nbsp;(<a id="b:1058" class="idref" href="#b:1058"><span class="id" title="binder">b</span></a> <a id="e:1059" class="idref" href="#e:1059"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="a':1060" class="idref" href="#a':1060"><span class="id" title="binder">a'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1061" class="idref" href="#v:1061"><span class="id" title="binder">v</span></a> <a id="v':1062" class="idref" href="#v':1062"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1063" class="idref" href="#lws:1063"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':1060"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1058"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1059"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1063"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1058"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1059"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1058"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1059"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1063"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1061"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':1060"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1061"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1058"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1059"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1063"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1062"><span class="id" title="variable">v'</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a':1060"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1062"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map_lookup_versions"><span class="id" title="axiom">logical_region_map_lookup_versions</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_NoDup"><span class="id" title="lemma">finz_seq_between_NoDup</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_map_inv" class="idref" href="#logical_range_map_inv"><span class="id" title="lemma">logical_range_map_inv</span></a><br/>
&nbsp;&nbsp;(<a id="lmem:1064" class="idref" href="#lmem:1064"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="b:1065" class="idref" href="#b:1065"><span class="id" title="binder">b</span></a> <a id="e:1066" class="idref" href="#e:1066"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1067" class="idref" href="#v:1067"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="a:1068" class="idref" href="#a:1068"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="definition">is_Some</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:1064"><span class="id" title="variable">lmem</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1068"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1067"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1065"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1066"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <a id="lws:1069" class="idref" href="#lws:1069"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1069"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1065"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1066"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1065"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1066"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1069"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1067"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:1064"><span class="id" title="variable">lmem</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map_inv"><span class="id" title="axiom">logical_region_map_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_NoDup"><span class="id" title="lemma">finz_seq_between_NoDup</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_map_insert" class="idref" href="#logical_range_map_insert"><span class="id" title="lemma">logical_range_map_insert</span></a> (<a id="b:1070" class="idref" href="#b:1070"><span class="id" title="binder">b</span></a> <a id="e:1071" class="idref" href="#e:1071"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1072" class="idref" href="#v:1072"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="w:1073" class="idref" href="#w:1073"><span class="id" title="binder">w</span></a> <a id="w':1074" class="idref" href="#w':1074"><span class="id" title="binder">w'</span></a>: <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="lw:1075" class="idref" href="#lw:1075"><span class="id" title="binder">lw</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1070"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#::Addr_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1071"><span class="id" title="variable">e</span></a>)%<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">&lt;[</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1070"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1072"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w':1074"><span class="id" title="variable">w'</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">(</span><span class="id" title="notation">logical_range_map</span> <span class="id" title="notation">b</span> <span class="id" title="notation">e</span> <span class="id" title="notation">(</span><span class="id" title="notation">w</span><span class="id" title="notation">::</span><span class="id" title="notation">lw</span><span class="id" title="notation">)</span> <span class="id" title="notation">v</span><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1070"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1071"><span class="id" title="variable">e</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w':1074"><span class="id" title="variable">w'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:1075"><span class="id" title="variable">lw</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1072"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_cons"><span class="id" title="lemma">finz_seq_between_cons</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insert_insert</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_map_disjoint" class="idref" href="#logical_range_map_disjoint"><span class="id" title="lemma">logical_range_map_disjoint</span></a><br/>
&nbsp;&nbsp;(<a id="b:1076" class="idref" href="#b:1076"><span class="id" title="binder">b</span></a> <a id="e:1077" class="idref" href="#e:1077"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1078" class="idref" href="#lws:1078"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v:1079" class="idref" href="#v:1079"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>)<br/>
&nbsp;&nbsp;(<a id="b':1080" class="idref" href="#b':1080"><span class="id" title="binder">b'</span></a> <a id="e':1081" class="idref" href="#e':1081"><span class="id" title="binder">e'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws':1082" class="idref" href="#lws':1082"><span class="id" title="binder">lws'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v':1083" class="idref" href="#v':1083"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1076"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1077"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1078"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1076"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1077"><span class="id" title="variable">e</span></a> <span class="id" title="notation">##</span> <a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':1080"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':1081"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1076"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1077"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1078"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1079"><span class="id" title="variable">v</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':1080"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':1081"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws':1082"><span class="id" title="variable">lws'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1083"><span class="id" title="variable">v'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hdis</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_list_to_map_zip_l</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_length"><span class="id" title="lemma">logical_region_length</span></a>; <span class="id" title="var">cbn</span> ; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_list_to_map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> ([ [<span class="id" title="var">y'</span> <span class="id" title="var">vy'</span>] <span class="id" title="var">wy'</span>] &amp; -&gt; &amp; <span class="id" title="var">Hcontra</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_zip_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>, <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>,<span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">Hy</span>); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">Hy'</span>); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="logical_range_map_disjoint_version" class="idref" href="#logical_range_map_disjoint_version"><span class="id" title="lemma">logical_range_map_disjoint_version</span></a><br/>
&nbsp;&nbsp;(<a id="b:1084" class="idref" href="#b:1084"><span class="id" title="binder">b</span></a> <a id="e:1085" class="idref" href="#e:1085"><span class="id" title="binder">e</span></a> <a id="b':1086" class="idref" href="#b':1086"><span class="id" title="binder">b'</span></a> <a id="e':1087" class="idref" href="#e':1087"><span class="id" title="binder">e'</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1088" class="idref" href="#lws:1088"><span class="id" title="binder">lws</span></a> <a id="lws':1089" class="idref" href="#lws':1089"><span class="id" title="binder">lws'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v:1090" class="idref" href="#v:1090"><span class="id" title="binder">v</span></a> <a id="v':1091" class="idref" href="#v':1091"><span class="id" title="binder">v'</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1084"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1085"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1088"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1090"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1091"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1084"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1085"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1088"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1090"><span class="id" title="variable">v</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b':1086"><span class="id" title="variable">b'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e':1087"><span class="id" title="variable">e'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws':1089"><span class="id" title="variable">lws'</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v':1091"><span class="id" title="variable">v'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_list_to_map_zip_l</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_length"><span class="id" title="lemma">logical_region_length</span></a>; <span class="id" title="var">cbn</span> ; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_list_to_map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> ([ [<span class="id" title="var">y'</span> <span class="id" title="var">vy'</span>] <span class="id" title="var">wy'</span>] &amp; -&gt; &amp; <span class="id" title="var">Hcontra</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_zip_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>, <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>,<span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">_</span>); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">_</span>); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="hash_lmemory_range_delete_notin" class="idref" href="#hash_lmemory_range_delete_notin"><span class="id" title="lemma">hash_lmemory_range_delete_notin</span></a><br/>
&nbsp;&nbsp;(<a id="lmem:1092" class="idref" href="#lmem:1092"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="l:1093" class="idref" href="#l:1093"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1094" class="idref" href="#v:1094"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="a:1095" class="idref" href="#a:1095"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1096" class="idref" href="#lws:1096"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1095"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#l:1093"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#l:1093"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1096"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#l:1093"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> (<span class="id" title="definition">delete</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1095"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1094"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:1092"><span class="id" title="variable">lmem</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#l:1093"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1094"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:1092"><span class="id" title="variable">lmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#l:1093"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1094"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lws</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lmem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a'</span> <span class="id" title="var">l</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">lmem</span> <span class="id" title="var">v</span> <span class="id" title="var">lws</span> <span class="id" title="var">a</span> <span class="id" title="var">Hnotin</span> <span class="id" title="var">Hnodup</span> <span class="id" title="var">Hlen</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lws</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">lw1</span> <span class="id" title="var">lws</span>] ; <span class="id" title="tactic">first</span> (<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha_notin_l</span> <span class="id" title="var">Hnodup</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnotin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha_neq_a'</span> <span class="id" title="var">Hnotin</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">opose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">lmem</span> <span class="id" title="var">v</span> <span class="id" title="var">lws</span> <span class="id" title="var">a</span> <span class="id" title="var">Hnotin</span> <span class="id" title="var">Hnodup</span> <span class="id" title="var">Hlen</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">IH</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">option_bind_ext_fun</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="hash_lmemory_range_correct_aux" class="idref" href="#hash_lmemory_range_correct_aux"><span class="id" title="lemma">hash_lmemory_range_correct_aux</span></a><br/>
&nbsp;&nbsp;(<a id="lmem:1097" class="idref" href="#lmem:1097"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="l:1098" class="idref" href="#l:1098"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1099" class="idref" href="#v:1099"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1100" class="idref" href="#lws:1100"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#l:1098"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1100"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#l:1098"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">list_to_map</span> (<span class="id" title="abbreviation">zip</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#l:1098"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1099"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1100"><span class="id" title="variable">lws</span></a>) <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:1097"><span class="id" title="variable">lmem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:1097"><span class="id" title="variable">lmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#l:1098"><span class="id" title="variable">l</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1099"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1100"><span class="id" title="variable">lws</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lws</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lmem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">lmem</span> <span class="id" title="var">v</span> <span class="id" title="var">lws</span> <span class="id" title="var">Hnodup</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hsubset</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">nil_length_inv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">fmap_nil</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">lws</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">lw1</span> <span class="id" title="var">lws</span>] ; <span class="id" title="tactic">first</span> (<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha_notin_l</span> <span class="id" title="var">Hnodup</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsubset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.utils.stdpp_extra.html#insert_weaken"><span class="id" title="axiom">insert_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsubset</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Ha_lmem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">fmap_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">insert_delete_subseteq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsubset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">not_elem_of_list_to_map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> ([<span class="id" title="var">x</span> <span class="id" title="var">vx</span>] &amp; <span class="id" title="var">Hx</span> &amp; <span class="id" title="var">Hcontra</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_zip_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span> &amp; <span class="id" title="var">Hy</span> &amp; <span class="id" title="var">Hcontra</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region"><span class="id" title="definition">logical_region</span></a> <span class="id" title="var">l</span> <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsubset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">opose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">IHl</span> (<span class="id" title="definition">delete</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">lmem</span>) <span class="id" title="var">v</span> <span class="id" title="var">lws</span> <span class="id" title="var">Hnodup</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">IH</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#hash_lmemory_range_delete_notin"><span class="id" title="axiom">hash_lmemory_range_delete_notin</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmemory_get_instrs"><span class="id" title="definition">lmemory_get_instrs</span></a> <span class="id" title="var">lmem</span> <span class="id" title="var">l</span> <span class="id" title="var">v</span>) <span class="id" title="var">IH</span> /= <span class="id" title="var">Ha_lmem</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="hash_lmemory_range_correct" class="idref" href="#hash_lmemory_range_correct"><span class="id" title="lemma">hash_lmemory_range_correct</span></a> `{<a id="MP:1101" class="idref" href="#MP:1101"><span class="id" title="binder">MP</span></a>: <a class="idref" href="cap_machine.opsem.machine_parameters.html#MachineParameters"><span class="id" title="class">MachineParameters</span></a>} (<a id="lmem:1102" class="idref" href="#lmem:1102"><span class="id" title="binder">lmem</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a>) (<a id="b:1103" class="idref" href="#b:1103"><span class="id" title="binder">b</span></a> <a id="e:1104" class="idref" href="#e:1104"><span class="id" title="binder">e</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1105" class="idref" href="#v:1105"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) (<a id="lws:1106" class="idref" href="#lws:1106"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="eid:1107" class="idref" href="#eid:1107"><span class="id" title="binder">eid</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1106"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1103"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1104"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1103"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1104"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1106"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1105"><span class="id" title="variable">v</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:1102"><span class="id" title="variable">lmem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lmem:1102"><span class="id" title="variable">lmem</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1103"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1104"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1105"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#eid:1107"><span class="id" title="variable">eid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#eid:1107"><span class="id" title="variable">eid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.opsem.machine_parameters.html#hash"><span class="id" title="method">hash</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1106"><span class="id" title="variable">lws</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hlmem</span> <span class="id" title="var">Hhash</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_range_map"><span class="id" title="definition">logical_range_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlmem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#hash_lmemory_range"><span class="id" title="definition">hash_lmemory_range</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhash</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">bind_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hhash</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hhash</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">instrs</span> &amp; <span class="id" title="var">Hinstrs</span> &amp; ?); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#hash_lmemory_range_correct_aux"><span class="id" title="axiom">hash_lmemory_range_correct_aux</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hinstrs</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="machine_utils.finz_interval.html#finz_seq_between_NoDup"><span class="id" title="lemma">finz_seq_between_NoDup</span></a>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Transform&nbsp;Reg&nbsp;into&nbsp;LReg&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="register_to_lregister" class="idref" href="#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> (<a id="reg:1108" class="idref" href="#reg:1108"><span class="id" title="binder">reg</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) ( <a id="v:1109" class="idref" href="#v:1109"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> ) : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LReg"><span class="id" title="definition">LReg</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">fmap</span> (<span class="id" title="keyword">fun</span> <a id="w:1110" class="idref" href="#w:1110"><span class="id" title="binder">w</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1110"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1109"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:1108"><span class="id" title="variable">reg</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="register_to_lregister_lookup" class="idref" href="#register_to_lregister_lookup"><span class="id" title="lemma">register_to_lregister_lookup</span></a> (<a id="reg:1111" class="idref" href="#reg:1111"><span class="id" title="binder">reg</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="r:1112" class="idref" href="#r:1112"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="w:1113" class="idref" href="#w:1113"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="v:1114" class="idref" href="#v:1114"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:1111"><span class="id" title="variable">reg</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:1112"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1113"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:1111"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1114"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:1112"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1113"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1114"><span class="id" title="variable">v</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">lookup_fmap</span> <span class="id" title="var">Hr</span> /=.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="register_to_lregister_delete" class="idref" href="#register_to_lregister_delete"><span class="id" title="lemma">register_to_lregister_delete</span></a> (<a id="reg:1115" class="idref" href="#reg:1115"><span class="id" title="binder">reg</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="r:1116" class="idref" href="#r:1116"><span class="id" title="binder">r</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#RegName"><span class="id" title="inductive">RegName</span></a>) (<a id="v:1117" class="idref" href="#v:1117"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:1116"><span class="id" title="variable">r</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:1115"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1117"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> (<span class="id" title="definition">delete</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#r:1116"><span class="id" title="variable">r</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:1115"><span class="id" title="variable">reg</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1117"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <span class="id" title="lemma">fmap_delete</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lreg_strip_register_to_lregister" class="idref" href="#lreg_strip_register_to_lregister"><span class="id" title="lemma">lreg_strip_register_to_lregister</span></a> (<a id="reg:1118" class="idref" href="#reg:1118"><span class="id" title="binder">reg</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="v:1119" class="idref" href="#v:1119"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:1118"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1119"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:1118"><span class="id" title="variable">reg</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">reg</span> <span class="id" title="keyword">using</span> <span class="id" title="lemma">map_ind</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> !<span class="id" title="lemma">fmap_insert</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word_to_lword"><span class="id" title="axiom">lword_get_word_to_lword</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <span class="id" title="var">m</span> <span class="id" title="var">v</span>) -/(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip"><span class="id" title="definition">lreg_strip</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHreg</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Transform&nbsp;Mem&nbsp;into&nbsp;LMem&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="memory_to_lmemory" class="idref" href="#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> (<a id="mem:1120" class="idref" href="#mem:1120"><span class="id" title="binder">mem</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) ( <a id="v:1121" class="idref" href="#v:1121"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a> ) : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LMem"><span class="id" title="definition">LMem</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">kmap</span> (<span class="id" title="keyword">fun</span> <a id="a:1123" class="idref" href="#a:1123"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1123"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1121"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<span class="id" title="definition">fmap</span> (<span class="id" title="keyword">fun</span> <a id="w:1122" class="idref" href="#w:1122"><span class="id" title="binder">w</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1122"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1121"><span class="id" title="variable">v</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem:1120"><span class="id" title="variable">mem</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_to_lmemory_insert" class="idref" href="#memory_to_lmemory_insert"><span class="id" title="lemma">memory_to_lmemory_insert</span></a> (<a id="m:1124" class="idref" href="#m:1124"><span class="id" title="binder">m</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="a:1125" class="idref" href="#a:1125"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="w:1126" class="idref" href="#w:1126"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="v:1127" class="idref" href="#v:1127"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1125"><span class="id" title="variable">a</span></a><span class="id" title="notation">:=</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1126"><span class="id" title="variable">w</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">m</span>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1127"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">&lt;[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1125"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1127"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">:=</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1126"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1127"><span class="id" title="variable">v</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">(</span><span class="id" title="notation">memory_to_lmemory</span> <span class="id" title="notation">m</span> <span class="id" title="notation">v</span><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fmap_insert</span> <span class="id" title="lemma">kmap_insert</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_to_lmemory_lookup" class="idref" href="#memory_to_lmemory_lookup"><span class="id" title="lemma">memory_to_lmemory_lookup</span></a> (<a id="m:1128" class="idref" href="#m:1128"><span class="id" title="binder">m</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="a:1129" class="idref" href="#a:1129"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="v:1130" class="idref" href="#v:1130"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m:1128"><span class="id" title="variable">m</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1130"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1129"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1130"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:1131" class="idref" href="#w:1131"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1131"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1130"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m:1128"><span class="id" title="variable">m</span></a><span class="id" title="notation">!!</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1129"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_kmap</span> <span class="id" title="method">lookup_fmap</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_to_lmemory_union" class="idref" href="#memory_to_lmemory_union"><span class="id" title="lemma">memory_to_lmemory_union</span></a> (<a id="m1:1132" class="idref" href="#m1:1132"><span class="id" title="binder">m1</span></a> <a id="m2:1133" class="idref" href="#m2:1133"><span class="id" title="binder">m2</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="v:1134" class="idref" href="#v:1134"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m1:1132"><span class="id" title="variable">m1</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m2:1133"><span class="id" title="variable">m2</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1134"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m1:1132"><span class="id" title="variable">m1</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1134"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">∪</span>  <span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m2:1133"><span class="id" title="variable">m2</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1134"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <span class="id" title="lemma">map_fmap_union</span> <span class="id" title="lemma">kmap_union</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_to_lmemory_subseteq" class="idref" href="#memory_to_lmemory_subseteq"><span class="id" title="lemma">memory_to_lmemory_subseteq</span></a> (<a id="m1:1135" class="idref" href="#m1:1135"><span class="id" title="binder">m1</span></a> <a id="m2:1136" class="idref" href="#m2:1136"><span class="id" title="binder">m2</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="v:1137" class="idref" href="#v:1137"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m1:1135"><span class="id" title="variable">m1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m2:1136"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m1:1135"><span class="id" title="variable">m1</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1137"><span class="id" title="variable">v</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m2:1136"><span class="id" title="variable">m2</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1137"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">kmap_subseteq</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ?; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_fmap_mono</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_to_lmemory_disjoint" class="idref" href="#memory_to_lmemory_disjoint"><span class="id" title="lemma">memory_to_lmemory_disjoint</span></a> (<a id="m1:1138" class="idref" href="#m1:1138"><span class="id" title="binder">m1</span></a> <a id="m2:1139" class="idref" href="#m2:1139"><span class="id" title="binder">m2</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="v:1140" class="idref" href="#v:1140"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m1:1138"><span class="id" title="variable">m1</span></a> <span class="id" title="notation">##ₘ</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m2:1139"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m1:1138"><span class="id" title="variable">m1</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1140"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">##ₘ</span> <span class="id" title="notation">(</span><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m2:1139"><span class="id" title="variable">m2</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1140"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_kmap</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ?; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_disjoint_fmap</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_to_lmemory_mk_logical_region_map" class="idref" href="#memory_to_lmemory_mk_logical_region_map"><span class="id" title="lemma">memory_to_lmemory_mk_logical_region_map</span></a> <a id="la:1141" class="idref" href="#la:1141"><span class="id" title="binder">la</span></a> <a id="ws:1142" class="idref" href="#ws:1142"><span class="id" title="binder">ws</span></a> <a id="v:1143" class="idref" href="#v:1143"><span class="id" title="binder">v</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> (<span class="id" title="definition">list_to_map</span> (<span class="id" title="abbreviation">zip</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1141"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#ws:1142"><span class="id" title="variable">ws</span></a>)) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1143"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1141"><span class="id" title="variable">la</span></a> (<span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a id="w:1144" class="idref" href="#w:1144"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Word"><span class="id" title="inductive">Word</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1144"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1143"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#ws:1142"><span class="id" title="variable">ws</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1143"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">la</span> <span class="id" title="var">ws</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">ws</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fmap_empty</span> <span class="id" title="lemma">kmap_empty</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ws</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">w</span> <span class="id" title="var">ws</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">fmap_empty</span> <span class="id" title="lemma">kmap_empty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory_insert"><span class="id" title="axiom">memory_to_lmemory_insert</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHla</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;When&nbsp;reasoning&nbsp;about&nbsp;initial&nbsp;state,&nbsp;memory&nbsp;must&nbsp;be&nbsp;complete&nbsp;w.r.t.&nbsp;the&nbsp;registers.<br/>
&nbsp;&nbsp;&nbsp;In&nbsp;other&nbsp;words,&nbsp;every&nbsp;reachable&nbsp;addresses&nbsp;must&nbsp;be&nbsp;contained&nbsp;in&nbsp;the&nbsp;memory.<br/>
&nbsp;&nbsp;&nbsp;That's&nbsp;required&nbsp;by&nbsp;`state_phys_log_corresponds`<br/>
&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="is_complete_word" class="idref" href="#is_complete_word"><span class="id" title="definition">is_complete_word</span></a> (<a id="w:1145" class="idref" href="#w:1145"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Word"><span class="id" title="inductive">Word</span></a>) (<a id="m:1146" class="idref" href="#m:1146"><span class="id" title="binder">m</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1145"><span class="id" title="variable">w</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.opsem.machine_base.html#WCap"><span class="id" title="abbreviation">WCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.opsem.machine_base.html#WSealed"><span class="id" title="constructor">WSealed</span></a> <span class="id" title="var">_</span> (<a class="idref" href="cap_machine.opsem.machine_base.html#SCap"><span class="id" title="constructor">SCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span>) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:1148" class="idref" href="#a:1148"><span class="id" title="binder"><span id="a:1149" class="id">a</span></span></a> =&gt; <span class="id" title="definition">is_Some</span>( <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m:1146"><span class="id" title="variable">m</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1148"><span class="id" title="variable">a</span></a> ) ) (<a class="idref" href="machine_utils.finz_interval.html#finz.seq_between"><span class="id" title="definition">finz.seq_between</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e</span>))<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="is_complete_registers" class="idref" href="#is_complete_registers"><span class="id" title="definition">is_complete_registers</span></a> (<a id="reg:1150" class="idref" href="#reg:1150"><span class="id" title="binder">reg</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="m:1151" class="idref" href="#m:1151"><span class="id" title="binder">m</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span> ( <span class="id" title="keyword">fun</span> <a id="r:1152" class="idref" href="#r:1152"><span class="id" title="binder">r</span></a> <a id="w:1153" class="idref" href="#w:1153"><span class="id" title="binder">w</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_complete_word"><span class="id" title="definition">is_complete_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1153"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m:1151"><span class="id" title="variable">m</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:1150"><span class="id" title="variable">reg</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="is_complete_memory" class="idref" href="#is_complete_memory"><span class="id" title="definition">is_complete_memory</span></a> (<a id="m:1154" class="idref" href="#m:1154"><span class="id" title="binder">m</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span> ( <span class="id" title="keyword">fun</span> <a id="r:1155" class="idref" href="#r:1155"><span class="id" title="binder">r</span></a> <a id="w:1156" class="idref" href="#w:1156"><span class="id" title="binder">w</span></a> =&gt; <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_complete_word"><span class="id" title="definition">is_complete_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1156"><span class="id" title="variable">w</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m:1154"><span class="id" title="variable">m</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m:1154"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_phys_log_corresponds_complete" class="idref" href="#state_phys_log_corresponds_complete"><span class="id" title="lemma">state_phys_log_corresponds_complete</span></a> `{<a id="H:1157" class="idref" href="#H:1157"><span class="id" title="binder">ReservedAddresses</span></a>} (<a id="m:1158" class="idref" href="#m:1158"><span class="id" title="binder">m</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Mem"><span class="id" title="definition">Mem</span></a>) (<a id="reg:1159" class="idref" href="#reg:1159"><span class="id" title="binder">reg</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Reg"><span class="id" title="definition">Reg</span></a>) (<a id="v:1160" class="idref" href="#v:1160"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>)  :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1160"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#init_version"><span class="id" title="method">init_version</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_complete_memory"><span class="id" title="definition">is_complete_memory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m:1158"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_complete_registers"><span class="id" title="definition">is_complete_registers</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:1159"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m:1158"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:1159"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m:1158"><span class="id" title="variable">m</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg:1159"><span class="id" title="variable">reg</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1160"><span class="id" title="variable">v</span></a>) (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m:1158"><span class="id" title="variable">m</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1160"><span class="id" title="variable">v</span></a>) (<span class="id" title="definition">gset_to_gmap</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1160"><span class="id" title="variable">v</span></a> (<span class="id" title="definition">dom</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#m:1158"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Hm_complete</span> <span class="id" title="var">Hreg_complete</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#state_phys_log_corresponds"><span class="id" title="definition">state_phys_log_corresponds</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#reg_phys_log_corresponds"><span class="id" title="definition">reg_phys_log_corresponds</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lreg_strip_register_to_lregister"><span class="id" title="axiom">lreg_strip_register_to_lregister</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">lw</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lw</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">z</span> | <span class="id" title="var">sb</span> | <span class="id" title="var">ot</span> <span class="id" title="var">sb</span> ] ; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#register_to_lregister"><span class="id" title="definition">register_to_lregister</span></a> <span class="id" title="lemma">lookup_fmap_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hr</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; <span class="id" title="var">Hw</span> &amp; <span class="id" title="var">Hwr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">w</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span> | <span class="id" title="var">sb'</span> | <span class="id" title="var">ot'</span> <span class="id" title="var">sb'</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb'</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_gset_to_gmap_Some</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> (<span class="id" title="lemma">map_Forall_lookup_1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hreg_complete</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kx</span> <span class="id" title="var">Hkx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hreg_complete</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_dom</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_phys_log_corresponds"><span class="id" title="definition">mem_phys_log_corresponds</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;[|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_current_version"><span class="id" title="definition">mem_current_version</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">la</span> <span class="id" title="var">lw</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_legal_address"><span class="id" title="definition">is_legal_address</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">a'</span>, <span class="id" title="var">v'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">v'</span>)) ; <span class="id" title="var">simplify_eq</span> ; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_kmap_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>; <span class="id" title="var">last</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ?; <span class="id" title="var">simplify_eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hla</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#init_version"><span class="id" title="method">init_version</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_gset_to_gmap_Some</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#memory_to_lmemory"><span class="id" title="definition">memory_to_lmemory</span></a> <span class="id" title="lemma">lookup_kmap</span> <span class="id" title="lemma">lookup_fmap_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hla</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">w</span> &amp; <span class="id" title="var">Hlw</span> &amp; <span class="id" title="var">Ha</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+++ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hla</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_vmap_root"><span class="id" title="definition">mem_vmap_root</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">v'</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_gset_to_gmap_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha'</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_dom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">w'</span> <span class="id" title="var">Ha'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> <span class="id" title="var">w'</span> <span class="id" title="var">v'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_kmap</span> <span class="id" title="method">lookup_fmap</span> <span class="id" title="var">Ha'</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ha'</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lword_get_word"><span class="id" title="definition">lword_get_word</span></a> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_to_lword"><span class="id" title="definition">word_to_lword</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w'</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">w'</span> ; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">sb</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_gset_to_gmap_Some</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> (<span class="id" title="lemma">map_Forall_lookup_1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm_complete</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">kx</span> <span class="id" title="var">Hkx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_lookup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm_complete</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#mem_gcroot"><span class="id" title="definition">mem_gcroot</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_lookup_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">v'</span> <span class="id" title="var">Ha'</span> <span class="id" title="var">Ha'_reserved</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#init_version"><span class="id" title="method">init_version</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_gset_to_gmap_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>;<span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ha'</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isPermLWord" class="idref" href="#isPermLWord"><span class="id" title="definition">isPermLWord</span></a> (<a id="w:1161" class="idref" href="#w:1161"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="p:1162" class="idref" href="#p:1162"><span class="id" title="binder">p</span></a> : <a class="idref" href="cap_machine.opsem.machine_base.html#Perm"><span class="id" title="inductive">Perm</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1161"><span class="id" title="variable">w</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="cap_machine.opsem.machine_base.html#isPerm"><span class="id" title="definition">isPerm</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:1162"><span class="id" title="variable">p</span></a> <span class="id" title="var">p'</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="word_of_argumentL_cur" class="idref" href="#word_of_argumentL_cur"><span class="id" title="lemma">word_of_argumentL_cur</span></a> {<a id="lregs:1164" class="idref" href="#lregs:1164"><span class="id" title="binder">lregs</span></a> <a id="src:1165" class="idref" href="#src:1165"><span class="id" title="binder">src</span></a> <a id="lw2:1166" class="idref" href="#lw2:1166"><span class="id" title="binder">lw2</span></a> <a id="cur_map:1167" class="idref" href="#cur_map:1167"><span class="id" title="binder">cur_map</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_of_argumentL"><span class="id" title="definition">word_of_argumentL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:1164"><span class="id" title="variable">lregs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:1165"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw2:1166"><span class="id" title="variable">lw2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:1164"><span class="id" title="variable">lregs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:1167"><span class="id" title="variable">cur_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw2:1166"><span class="id" title="variable">lw2</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:1167"><span class="id" title="variable">cur_map</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">src</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hreg</span> <span class="id" title="var">Hcurregs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hcurregs</span> <span class="id" title="var">Hreg</span>).<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cap_of_argumentL_cur" class="idref" href="#cap_of_argumentL_cur"><span class="id" title="lemma">cap_of_argumentL_cur</span></a> {<a id="lregs:1168" class="idref" href="#lregs:1168"><span class="id" title="binder">lregs</span></a> <a id="rsrc:1169" class="idref" href="#rsrc:1169"><span class="id" title="binder">rsrc</span></a> <a id="p:1170" class="idref" href="#p:1170"><span class="id" title="binder">p</span></a> <a id="b:1171" class="idref" href="#b:1171"><span class="id" title="binder">b</span></a> <a id="e:1172" class="idref" href="#e:1172"><span class="id" title="binder">e</span></a> <a id="a:1173" class="idref" href="#a:1173"><span class="id" title="binder">a</span></a> <a id="v:1174" class="idref" href="#v:1174"><span class="id" title="binder">v</span></a> <a id="cur_map:1175" class="idref" href="#cur_map:1175"><span class="id" title="binder">cur_map</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_of_argumentL"><span class="id" title="definition">word_of_argumentL</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:1168"><span class="id" title="variable">lregs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#rsrc:1169"><span class="id" title="variable">rsrc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#p:1170"><span class="id" title="variable">p</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1171"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1172"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1173"><span class="id" title="variable">a</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1174"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.opsem.machine_base.html#withinBounds"><span class="id" title="definition">withinBounds</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#b:1171"><span class="id" title="variable">b</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#e:1172"><span class="id" title="variable">e</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1173"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:1168"><span class="id" title="variable">lregs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:1175"><span class="id" title="variable">cur_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_addr"><span class="id" title="definition">is_cur_addr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1173"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1174"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:1175"><span class="id" title="variable">cur_map</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_lword_cur_addr"><span class="id" title="axiom">cur_lword_cur_addr</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LCap"><span class="id" title="abbreviation">LCap</span></a> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span>) <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_lword_version"><span class="id" title="definition">is_lword_version</span></a>. <span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#word_of_argumentL_cur"><span class="id" title="axiom">word_of_argumentL_cur</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">all</span>: <span class="id" title="tactic">auto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Is_true_true_1</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="seal_from_argumentL" class="idref" href="#seal_from_argumentL"><span class="id" title="lemma">seal_from_argumentL</span></a> {<a id="lregs:1176" class="idref" href="#lregs:1176"><span class="id" title="binder">lregs</span></a> <a id="src:1177" class="idref" href="#src:1177"><span class="id" title="binder">src</span></a> <a id="sb:1178" class="idref" href="#sb:1178"><span class="id" title="binder">sb</span></a> <a id="ot:1179" class="idref" href="#ot:1179"><span class="id" title="binder">ot</span></a> <a id="cur_map:1180" class="idref" href="#cur_map:1180"><span class="id" title="binder">cur_map</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:1176"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:1177"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#sb:1178"><span class="id" title="variable">sb</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:1176"><span class="id" title="variable">lregs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:1180"><span class="id" title="variable">cur_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#ot:1179"><span class="id" title="variable">ot</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#sb:1178"><span class="id" title="variable">sb</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:1180"><span class="id" title="variable">cur_map</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hreg</span> <span class="id" title="var">Hcurregs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hcurregs</span> <span class="id" title="var">Hreg</span>).<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unseal_from_argumentL" class="idref" href="#unseal_from_argumentL"><span class="id" title="lemma">unseal_from_argumentL</span></a> {<a id="lregs:1181" class="idref" href="#lregs:1181"><span class="id" title="binder">lregs</span></a> <a id="src:1182" class="idref" href="#src:1182"><span class="id" title="binder">src</span></a> <a id="sb:1183" class="idref" href="#sb:1183"><span class="id" title="binder">sb</span></a> <a id="ot:1184" class="idref" href="#ot:1184"><span class="id" title="binder">ot</span></a> <a id="cur_map:1185" class="idref" href="#cur_map:1185"><span class="id" title="binder">cur_map</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:1181"><span class="id" title="variable">lregs</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#src:1182"><span class="id" title="variable">src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealed"><span class="id" title="constructor">LWSealed</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#ot:1184"><span class="id" title="variable">ot</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#sb:1183"><span class="id" title="variable">sb</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_regs"><span class="id" title="definition">is_cur_regs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lregs:1181"><span class="id" title="variable">lregs</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:1185"><span class="id" title="variable">cur_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#is_cur_word"><span class="id" title="definition">is_cur_word</span></a> (<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWSealable"><span class="id" title="constructor">LWSealable</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#sb:1183"><span class="id" title="variable">sb</span></a>) <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#cur_map:1185"><span class="id" title="variable">cur_map</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hreg</span> <span class="id" title="var">Hcurregs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">map_Forall_lookup_1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hcurregs</span> <span class="id" title="var">Hreg</span>).<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO&nbsp;generalise&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="map_Forall_all_P" class="idref" href="#map_Forall_all_P"><span class="id" title="lemma">map_Forall_all_P</span></a> (<a id="w:1186" class="idref" href="#w:1186"><span class="id" title="binder">w</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="la:1187" class="idref" href="#la:1187"><span class="id" title="binder">la</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.opsem.addr_reg.html#Addr"><span class="id" title="abbreviation">Addr</span></a>) (<a id="lws:1188" class="idref" href="#lws:1188"><span class="id" title="binder">lws</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a>) (<a id="v:1189" class="idref" href="#v:1189"><span class="id" title="binder">v</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#Version"><span class="id" title="definition">Version</span></a>)<br/>
&nbsp;&nbsp;(<a id="P:1190" class="idref" href="#P:1190"><span class="id" title="binder">P</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1187"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1188"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="abbreviation">length</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1187"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1186"><span class="id" title="variable">w</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1188"><span class="id" title="variable">lws</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">map_Forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a id="a:1191" class="idref" href="#a:1191"><span class="id" title="binder">a</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LAddr"><span class="id" title="definition">LAddr</span></a>) (<a id="lw:1192" class="idref" href="#lw:1192"><span class="id" title="binder">lw</span></a> : <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#LWord"><span class="id" title="inductive">LWord</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_addr"><span class="id" title="definition">laddr_get_addr</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1191"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1187"><span class="id" title="variable">la</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="cap_machine.program_logic.logical_mapsto.html#laddr_get_version"><span class="id" title="definition">laddr_get_version</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#a:1191"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1189"><span class="id" title="variable">v</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#P:1190"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lw:1192"><span class="id" title="variable">lw</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="cap_machine.program_logic.logical_mapsto.html#logical_region_map"><span class="id" title="definition">logical_region_map</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#la:1187"><span class="id" title="variable">la</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#lws:1188"><span class="id" title="variable">lws</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#v:1189"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#P:1190"><span class="id" title="variable">P</span></a> <a class="idref" href="cap_machine.program_logic.logical_mapsto.html#w:1186"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lws</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">la</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">a</span> <span class="id" title="var">la</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">lws</span> <span class="id" title="var">Hnodup</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hw</span> <span class="id" title="var">Hall_z</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">lws</span> ; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">lws</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">w1</span> <span class="id" title="var">lws</span>] ; <span class="id" title="tactic">first</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha_notin_l</span> <span class="id" title="var">Hnodup</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">map_Forall_insert</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall_z</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hladdr</span> <span class="id" title="var">Hall_z</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: { <span class="id" title="tactic">rewrite</span> -<span class="id" title="lemma">not_elem_of_list_to_map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> ([<span class="id" title="var">x</span> <span class="id" title="var">vx</span>] &amp; <span class="id" title="var">Hx</span> &amp; <span class="id" title="var">Hcontra</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_zip_l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontra</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span> &amp; <span class="id" title="var">Hy</span> &amp; <span class="id" title="var">Hcontra</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span> ; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hw</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hw</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">Hladdr</span>; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHla</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_Forall_impl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">y</span> <span class="id" title="var">vy</span>] <span class="id" title="var">wy</span> <span class="id" title="var">IH</span> <span class="id" title="var">Hy</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="var">Unshelve</span>. <span class="id" title="var">Fail</span> <span class="id" title="tactic">idtac</span>. <span class="id" title="var">Admitted</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
